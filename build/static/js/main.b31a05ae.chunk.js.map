{"version":3,"sources":["auth.js","ContextMain.js","DynamicTablePerson.js","SingleSelect.js","MaterialIconSelector.js","ModalDialog.js","DialogConfirm.js","DynamicTableItems.js","ToggleSwitch.js","SectionMorphology.js","ErrorDialog.js","LoadingIndicator.js","utils.js","MultipleSelect.js","globals.js","KGInputTraces.js","SectionTraces.js","KGInputModels.js","SectionModels.js","SectionGeneric.js","SectionCustom.js","SwitchTwoWay.js","LivePaper.njk","ColoredCircularProgress.js","LoadingIndicatorModal.js","SaveModal.js","SubmitModal.js","CreateLivePaper.js","CreateLivePaperLoadPDFData.js","LoadKGProjects.js","App.js","reportWebVitals.js","index.js"],"names":["keycloak","Keycloak","url","realm","clientId","YOUR_APP_SCOPES","initAuth","main","console","log","init","flow","success","isAuthenticated","authenticated","isAnonymous","isParent","window","opener","isIframe","parent","isStandaloneApp","isFramedApp","isDelegate","postMessageToParentTab","message","parentTabOrigin","postMessage","listenToMessage","callback","addEventListener","AUTH_MESSAGE","myAppOrigin","location","origin","openTab","open","getCurrentURL","URL","closeCurrentTab","close","login","scopes","scope","verifyMessage","checkAuth","error","event","receivedMessage","data","messageOrigin","ContextMain","React","createContext","ContextMainProvider","props","useState","auth","setAuth","Provider","value","children","DynamicTablePerson","items","this","push","firstname","lastname","affiliation","onChangeValue","i","target","name","ind","length","arrayMove","splice","context","map","item","style","width","padding","type","onChange","handleItemChanged","bind","Tooltip","title","IconButton","color","size","aria-label","component","paddingRight","onClick","handleItemMoveDown","stroke","strokeWidth","transform","fontSize","handleItemMoveUp","handleItemDeleted","renderRows","display","justifyContent","paddingTop","Button","variant","handleAdd","startIcon","Component","useStyles","makeStyles","theme","formControl","minWidth","maxWidth","noLabel","marginTop","spacing","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","SingleSelect","classes","fieldId","label","replace","fieldLabelId","fieldName","FormControl","className","disabled","InputLabel","id","Select","labelId","handleChange","input","Input","itemNames","MenuItem","ListItemText","primary","FormHelperText","helperText","material_icons","MaterialIconSelector","state","show","icons_list","current_icon","icon","search_text","searchRef","setSearchRef","element","focus","handleClickIcon","handleSearchChange","handleClickPickerIcon","handleClickClose","setState","e","icon_matches","filter","includes","toLowerCase","setIcon","cursor","backgroundColor","border","borderRadius","tabIndex","zIndex","ref","setPickerRef","flexDirection","placeholder","icon_name","DialogTitle","withStyles","root","margin","closeButton","position","right","top","palette","grey","onClose","other","disableTypography","Typography","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","ModalDialog","Dialog","handleClose","aria-labelledby","fullWidth","headerBgColor","dividers","content","autoFocus","DialogConfirm","disableBackdropClick","disableEscapeKeyDown","fontWeight","gutterBottom","parse","alignItems","paddingLeft","paddingBottom","borderColor","borderWidth","clickHelp","RowIndex","customBadge","textAlign","placement","Badge","badgeContent","invisible","anchorOrigin","vertical","horizontal","badge","Avatar","height","RowURL","numCols","useTabs","numRows","RowURLExpanded","colSpan","TextField","InputProps","RowKG","navigator","clipboard","writeText","defaultValue","RowKGExpanded","ToolBar","DynamicTableItems","showHelp","dataOk","expandTable","toggleExpand","mc_url","tab_name","identifier","prevState","Fragment","marginRight","handleEdit","handleKG","ToggleSwitch","checked","optionLabels","small","onKeyDown","keyCode","preventDefault","handleKeyPress","htmlFor","data-yes","data-no","defaultProps","HelpContent","SectionMorphologyEdit","handleHelpClose","handleDataInputOnBlur","handleSaveData","str","JSON","IsJsonString","data_json","Array","isArray","every","flag","Grid","xs","multiline","rows","stringify","onBlur","renderContent","Icon","styled","verticalAlign","SectionMorphology","order","description","dataFormatted","showEdit","deleteOpen","expanded","handleFieldChange","clickEdit","handleEditClose","handleDelete","handleMoveDown","handleMoveUp","toggleExpanded","handleItemsChange","toggleUseTabs","storeSectionInfo","items_data","stopPropagation","forEach","index","Accordion","AccordionSummary","expandIcon","aria-controls","borderStyle","onFocus","numResources","AccordionDetails","marginLeft","flexGrow","addLineBreaks","string","split","text","reformatErrorMessage","errorResponse","output","status","detail","entry","error_loc","loc","join","error_msg","msg","ErrorDialog","handleErrorDialogClose","Box","my","LoadingIndicator","marginBottom","CircularProgress","left","showNotification","enqueueSnackbar","closeSnackbar","key","replaceEmptyStringsWithNull","param","Object","entries","val","replaceNullWithEmptyStrings","compareArrayoOfObjectsByOrder","a","b","formatAuthors","authors","author","given_name","family_name","buildQuery","filterDict","q","slice","MultipleSelect","indexOf","toUpperCase","word","charAt","multiple","renderValue","selected","Checkbox","baseUrl","mc_baseUrl","filterModelsKeys","filterTracesKeys","TABLE_COLUMNS","field","hidden","hiddenByColumnsButton","IncludeButton","includeFlag","removeInstanceCollection","trace_id","instance_id","addInstanceCollection","trace_name","instance_name","source_url","view_url","InstanceParameter","container","bgcolor","overflow","whiteSpace","TraceVersion","selectedParam","pb","px","Chip","clickable","instance","checkInstanceInCollection","toString","TraceVersionsPanel","direction","Link","href","rel","underline","instances","KGContent","selectedRows","filtering","columns","options","columnsButton","search","paging","sorting","exportButton","maxBodyHeight","headerStyle","rowStyle","rowData","tableData","actions","tooltip","detailPanel","onRowClick","selectedRow","togglePanel","components","Toolbar","countTotalInstances","KGInputTraces","signal","axios","CancelToken","source","loading","list_traces","trace_collection","showFilters","configFilters","getListTraces","showFiltersPanel","handleFiltersChange","handleKGProceed","config","cancelToken","token","headers","Authorization","query","nar_baseUrl","encodeURI","get","then","res","results","traces","modality","stimulation","timestamp","species","recorded_from","cell_type","data_location","part_of","uri","parent_name","parent_id","catch","err","isCancel","keys","total","validFilterValues","newConfig","Boolean","contextType","SectionTracesEdit","SectionTraces","showKGInput","clickKG","handleKGClose","new_items","concat","render","private","owner","model_id","model_name","ModelVersion","ISOtimestamp","version","justify","Date","toUTCString","ModelVersionsPanel","KGInputModels","list_models","model_collection","getListModels","models","SectionModelsEdit","SectionModels","SectionGenericEdit","SectionGeneric","HelpContentCustom","SectionCustom","Converter","tables","makeHtml","fontFamily","Switch","div","SwitchRadio","SwitchSelection","span","SwitchLabel","ClickableLabel","w","ConcealedRadio","SwitchTwoWay","selectionStyle","values","ColoredCircularProgress","colorPrimary","barColorPrimary","LoadingIndicatorModal","boxShadow","thickness","SaveModal","collab_id","live_paper_name","live_paper_title","live_paper_name_unique","mode","handleCancel","handleSave","checkRequirementsOnPage","checkRequirementsOnPayload","handleCollabIDChange","handleLivePaperNameChange","checkLivePaperNameUnique","adjustForKGSchema","handleModeChange","dta","found","find","payload","put","setCollabID","setLivePaperTitle","setLivePaperModifiedDate","modified_date","response","post","setID","resources","temp_res","res_item","collab_list","SubmitModal","password","mailTo","createRef","mailSubject","mailBodyRef","handleSubmit","handlePasswordChange","current","innerText","axiosRetry","retries","retryDelay","retryCount","footerStyle","bottom","phantomStyle","Footer","MyDialogTitle","popular_licenses","CreateLivePaper","lp_tool_version","corresponding_author","created_author","approved_author","year","toISOString","associated_paper_title","paper_published","journal","citation","doi","abstract","license","resources_description","saveOpen","submitOpen","handlePreview","handleDownload","handleSaveOpen","handleSaveClose","handleSubmitOpen","handleSubmitClose","handlePublishedChange","handleYearChange","handleAuthorsChange","handleCreatedAuthorChange","makePageTitleString","makeAuthorsString","makeCreatedAuthorsString","makeAffiliationsString","handleAddSection","removeExcessData","addDerivedData","getCollabList","verifyDataBeforeSubmit","checkPersonInStateAuthors","deleteResourceSection","moveDownResourceSection","moveUpResourceSection","retrieveFilterValidValues","temp_resources","maxOrder","sort","person","req_data","k","tabs","x","lp_data","fetch","LivePaper","r","nunjucks","renderString","document","write","createElement","file","Blob","createObjectURL","replaceAll","download","body","appendChild","click","newDate","lp_data_updated","lp_data_formatted","blob","link","c_author","author_match","author_data","created_author_data","getFullYear","authors_string","trim","sup","created_authors_string","italics","unique_affs","aff","section_type","data_dict","resources_items","editableProjects","proj","permissions","UPDATE","project_id","saveModal","submitModal","fullScreen","src","alt","utils","MomentUtils","DatePicker","inputVariant","views","minDate","maxDate","animateYearScrolling","borderBottom","withSnackbar","CreateLivePaperLoadPDFData","loadData","showError","loadPDF","selectedPDF","dataFromPDF","loadPDFRef","browseForPDF","onPDFSelect","cancelSelectPDF","uploadPDF","displayDataPDF","proceed","skipContinue","files","formData","FormData","append","accept","parseString","require","preserveChildrenOrder","result","author_dict","elem","corresp_author","Paper","elevation","j","textIndent","flex","float","errorMessage","fileExplorer","showSelectedPDF","readOnly","defaultSort","LoadKGProjects","handleSelectProject","checkRequirements","kg_project_list","error_message","evt","App","createLivePaperOpen","projectData","loadProjectKGOpen","inputFileRef","handleCreateLivePaperOpen","handleCreateLivePaperClose","handleLoadProjectFile","handleLoadProjectKG","handleLoadProjectKGClose","onFileSelect","setAuthContext","parts","reader","FileReader","onload","that","readAsText","createLivePaperContent","errorModal","loadProjectListModal","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","renderApp","ReactDOM","StrictMode","maxSnack","getElementById"],"mappings":"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,6BACA,8BACA,sBACA,wBACA,UACA,kBACA,QACA,YACA,YACA,WACA,QACA,gBACA,UACA,UACA,eACA,OACA,UACA,aACA,iBACA,kBACA,yBACA,gBACA,gBACA,eACA,YACA,eACA,aACA,aACA,iBACA,kBACA,oBACA,sBACA,uBACA,YACA,kBACA,cACA,eACA,aACA,aACA,YACA,WACA,YACA,SACA,gBACA,wBACA,eACA,cACA,kBACA,eACA,WACA,QACA,YACA,kBACA,sBACA,qBACA,sBACA,gBACA,cACA,WACA,UACA,OACA,WACA,kBACA,aACA,gBACA,eACA,eACA,oBACA,eACA,cACA,eACA,eACA,eACA,aACA,kBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,kBACA,kBACA,iBACA,oBACA,eACA,QACA,eACA,aACA,QACA,aACA,WACA,kBACA,SACA,OACA,OACA,WACA,YACA,aACA,cACA,uBACA,gBACA,aACA,iBACA,SACA,aACA,iBACA,eACA,cACA,cACA,SACA,gBACA,kBACA,cACA,SACA,OACA,iBACA,sBACA,oBACA,iBACA,OACA,cACA,sBACA,QACA,YACA,0BACA,eACA,eACA,gBACA,aACA,iBACA,qBACA,QACA,QACA,YACA,QACA,iBACA,QACA,eACA,aACA,iBACA,YACA,cACA,eACA,OACA,cACA,uBACA,aACA,WACA,UACA,UACA,iBACA,WACA,sBACA,eACA,gBACA,WACA,eACA,cACA,gBACA,gBACA,0BACA,YACA,SACA,oBACA,cACA,OACA,YACA,WACA,WACA,WACA,WACA,YACA,iBACA,gBACA,gBACA,cACA,cACA,YACA,aACA,aACA,SACA,SACA,iBACA,eACA,cACA,cACA,kBACA,UACA,kBACA,iBACA,aACA,UACA,gBACA,aACA,UACA,aACA,kBACA,kBACA,iBACA,iBACA,qBACA,iBACA,oBACA,qBACA,kBACA,YACA,MACA,iBACA,qBACA,qBACA,oBACA,OACA,SACA,OACA,WACA,cACA,cACA,SACA,cACA,YACA,MACA,OACA,gBACA,QACA,QACA,sBACA,YACA,QACA,gBACA,cACA,aACA,QACA,kBACA,aACA,aACA,aACA,cACA,cACA,cACA,WACA,UACA,WACA,iBACA,iBACA,kBACA,kBACA,gBACA,YACA,OACA,eACA,cACA,WACA,kBACA,qBACA,iBACA,WACA,YACA,sBACA,YACA,YACA,qBACA,gBACA,cACA,SACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,gBACA,iBACA,sBACA,eACA,gBACA,aACA,cACA,cACA,oBACA,iBACA,eACA,eACA,cACA,aACA,iBACA,OACA,QACA,aACA,YACA,WACA,SACA,cACA,iBACA,OACA,eACA,gBACA,SACA,cACA,gBACA,iBACA,gBACA,sBACA,uBACA,oBACA,qBACA,cACA,eACA,oBACA,qBACA,oBACA,yBACA,yBACA,gBACA,sBACA,uBACA,uBACA,eACA,eACA,gBACA,cACA,uBACA,8BACA,8BACA,oBACA,QACA,UACA,aACA,aACA,YACA,iBACA,aACA,kBACA,YACA,cACA,UACA,QACA,QACA,UACA,UACA,MACA,cACA,YACA,gBACA,UACA,QACA,WACA,QACA,aACA,WACA,UACA,QACA,YACA,aACA,KACA,UACA,SACA,aACA,WACA,UACA,cACA,UACA,UACA,OACA,eACA,eACA,YACA,gBACA,UACA,OACA,UACA,QACA,kBACA,iBACA,OACA,QACA,QACA,qBACA,kBACA,gBACA,oBACA,QACA,0BACA,OACA,eACA,QACA,eACA,iBACA,oBACA,kBACA,oBACA,cACA,eACA,gBACA,oBACA,MACA,WACA,sBACA,sBACA,uBACA,oBACA,qBACA,oBACA,gBACA,kBACA,eACA,iBACA,UACA,QACA,gBACA,YACA,WACA,SACA,oBACA,aACA,iBACA,YACA,SACA,SACA,eACA,WACA,cACA,OACA,cACA,gBACA,gBACA,oBACA,aACA,cACA,eACA,OACA,gBACA,OACA,YACA,UACA,iBACA,gBACA,YACA,YACA,aACA,iBACA,0BACA,eACA,cACA,gBACA,oBACA,sBACA,iBACA,cACA,wBACA,gBACA,aACA,eACA,cACA,gBACA,iBACA,cACA,cACA,aACA,oBACA,kBACA,YACA,iBACA,aACA,gBACA,oBACA,eACA,cACA,qBACA,OACA,YACA,eACA,QACA,UACA,UACA,UACA,UACA,YACA,YACA,OACA,QACA,eACA,UACA,OACA,eACA,MACA,aACA,qBACA,SACA,OACA,aACA,UACA,MACA,WACA,UACA,MACA,eACA,YACA,kBACA,YACA,oBACA,OACA,WACA,OACA,aACA,YACA,aACA,QACA,gBACA,QACA,iBACA,eACA,kBACA,aACA,cACA,cACA,SACA,gBACA,kBACA,gBACA,aACA,UACA,eACA,gBACA,iBACA,eACA,eACA,YACA,MACA,gBACA,SACA,iBACA,OACA,WACA,gBACA,uBACA,qBACA,oBACA,uBACA,cACA,iBACA,UACA,kBACA,cACA,YACA,QACA,WACA,UACA,WACA,WACA,oBACA,sBACA,oBACA,sBACA,aACA,QACA,sBACA,uBACA,UACA,SACA,iBACA,kBACA,wBACA,oBACA,0BACA,gBACA,aACA,iBACA,iBACA,SACA,aACA,iBACA,aACA,oBACA,iBACA,OACA,QACA,gBACA,0BACA,kBACA,gBACA,eACA,eACA,eACA,eACA,YACA,kBACA,iBACA,gBACA,iBACA,kBACA,QACA,cACA,eACA,eACA,gBACA,2BACA,0BACA,0BACA,iBACA,qBACA,yBACA,YACA,qBACA,WACA,QACA,aACA,qBACA,sBACA,gBACA,eACA,qBACA,gBACA,WACA,OACA,UACA,OACA,oBACA,WACA,QACA,cACA,qBACA,iBACA,iBACA,QACA,gBACA,SACA,UACA,gBACA,kBACA,QACA,cACA,kBACA,QACA,uBACA,yBACA,cACA,UACA,gBACA,oBACA,SACA,OACA,UACA,SACA,gBACA,wBACA,oBACA,iBACA,uBACA,UACA,SACA,aACA,SACA,YACA,YACA,WACA,QACA,YACA,SACA,iBACA,aACA,kBACA,UACA,eACA,cACA,OACA,eACA,wBACA,cACA,eACA,iBACA,SACA,SACA,WACA,YACA,YACA,OACA,UACA,WACA,SACA,wBACA,uBACA,uBACA,kBACA,eACA,UACA,aACA,SACA,WACA,aACA,OACA,yBACA,oBACA,sBACA,8BACA,2BACA,WACA,wBACA,0BACA,qBACA,sBACA,gBACA,oBACA,yBACA,2BACA,2BACA,sBACA,wBACA,oBACA,iBACA,iBACA,kBACA,2BACA,iBACA,QACA,OACA,WACA,kBACA,gBACA,aACA,aACA,UACA,wBACA,8CACA,yBACA,uBACA,sBACA,oBACA,yBACA,kBACA,WACA,iBACA,YACA,gBACA,YACA,oBACA,aACA,aACA,gBACA,MACA,aACA,SACA,OACA,gBACA,MACA,YACA,UACA,gBACA,gBACA,oBACA,gBACA,aACA,OACA,cACA,YACA,QACA,yBACA,wBACA,yBACA,wBACA,OACA,oBACA,UACA,QACA,uBACA,aACA,aACA,kBACA,QACA,0BACA,2BACA,UACA,gBACA,YACA,SACA,qBACA,iBACA,aACA,aACA,YACA,uBACA,gBACA,eACA,OACA,gBACA,eACA,gBACA,oBACA,MACA,iBACA,SACA,iBACA,aACA,YACA,eACA,UACA,cACA,cACA,UACA,UACA,WACA,aACA,WACA,iBACA,gBACA,YACA,WACA,QACA,WACA,UACA,YACA,QACA,MACA,QACA,OACA,WACA,YACA,OACA,gBACA,UACA,QACA,OACA,4BACA,YACA,YACA,gBACA,gBACA,cACA,OACA,YACA,gBACA,KACA,YACA,OACA,cACA,cACA,SACA,MACA,gBACA,wBACA,wBACA,qBACA,YACA,aACA,cACA,gBACA,WACA,eACA,kBACA,cACA,aACA,gBACA,cACA,aACA,eACA,WACA,gBACA,YACA,cACA,aACA,cACA,YACA,WACA,aACA,iBACA,aACA,YACA,cACA,cACA,aACA,YACA,UACA,WACA,YACA,UACA,QACA,cACA,UACA,YACA,kBACA,gBACA,WACA,KACA,MACA,YACA,UACA,WACA,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","file":"static/js/main.b31a05ae.chunk.js","sourcesContent":["import Keycloak from 'keycloak-js';\n\n\n// We start by configuring the Keycloak javascript client\n// It needs to know your app id in order to authenticate users for it\nconst keycloak = Keycloak({\n    url: 'https://iam.ebrains.eu/auth',\n    realm: 'hbp',\n    clientId: 'live-paper-builder-tool'\n});\nconst YOUR_APP_SCOPES = 'team email profile';   // full list at https://iam.ebrains.eu/auth/realms/hbp/.well-known/openid-configuration\n\n\nexport default function initAuth(main) {\n    console.log('DOM content is loaded, initialising Keycloak client...');\n    keycloak\n        .init({ flow: 'implicit' })\n        .success(() => checkAuth(main))\n        .error(console.log);\n}\n\n\nfunction checkAuth(main) {\n    console.log('Keycloak client is initialised, verifying authentication...');\n\n    // Is the user anonymous or authenticated?\n    const isAuthenticated = keycloak.authenticated;\n    const isAnonymous = !keycloak.authenticated;\n    // Is this app a standalone app, a framed app or a delegate?\n    const isParent = (window.opener == null);\n    const isIframe = (window !== window.parent);\n    const isMainFrame = (window === window.parent);\n    const isStandaloneApp = isMainFrame && isParent;\n    const isFramedApp = isIframe && isParent;\n    const isDelegate = (window.opener != null);\n    // Posting and listening to messages\n    const postMessageToParentTab = (message, parentTabOrigin) => window.opener.postMessage(message, parentTabOrigin);\n    const listenToMessage = (callback) => window.addEventListener('message', callback);\n    const AUTH_MESSAGE = 'clb.authenticated';\n    const myAppOrigin = window.location.origin;\n    // Manipulating URLs and tabs\n    const openTab = (url) => window.open(url);\n    const getCurrentURL = () => new URL(window.location);\n    const closeCurrentTab = () => window.close();\n\n    const login = (scopes) => keycloak.login({ scope: scopes });\n\n    // A standalone app should simply login if the user is not authenticated\n    // and do its business logic otherwise\n    if (isStandaloneApp) {\n        console.log('This is a standalone app...');\n        if (isAnonymous) {\n            console.log('...which is not authenticated, starting login...');\n            return login(YOUR_APP_SCOPES);\n        }\n        if (isAuthenticated) {\n            console.log('...which is authenticated, starting business logic...');\n            return main(keycloak);\n        }\n    }\n\n    // A framed app should open a delegate to do the authentication for it and listen to its messages and verify them\n    // If the user is authenticated, it should do its business logic\n    if (isFramedApp) {\n        console.log('This is a framed app...');\n        if (isAnonymous) {\n            console.log('...which is not authenticated, delegating to new tab...');\n            listenToMessage(verifyMessage);\n            return openTab(getCurrentURL());\n        }\n        if (isAuthenticated) {\n            console.log('...which is authenticated, starting business logic...');\n            return main(keycloak);\n        }\n    }\n\n    // A delegate should login if the user is not authenticated\n    // Otherwise, it should inform its opener that the user is authenticated and close itself\n    if (isDelegate) {\n        console.log('This is a delegate tab...');\n        if (isAnonymous) {\n            console.log('...which is not authenticated, starting login...');\n            return login(YOUR_APP_SCOPES);\n        }\n        if (isAuthenticated) {\n            console.log('...which is authenticated, warn parent and close...');\n            postMessageToParentTab(AUTH_MESSAGE, myAppOrigin);\n            return closeCurrentTab();\n        }\n    }\n}\n\nfunction verifyMessage(event) {\n    console.log('Message receveived, verifying it...');\n\n    const AUTH_MESSAGE = 'clb.authenticated';\n    const receivedMessage = event.data;\n    const messageOrigin = event.origin;\n    const myAppOrigin = window.location.origin;\n    // const reload = () => window.location.reload(); // TODO: remove?\n    const login = (scopes) => keycloak.login({ scope: scopes });\n\n\n    // Stop if the message is not the auth message\n    if (receivedMessage !== AUTH_MESSAGE) return;\n\n    // Stop if the message is not coming from our app origin\n    if (messageOrigin !== myAppOrigin) return;\n\n    // Login otherwise\n    return login(YOUR_APP_SCOPES);\n}","import React from 'react'\n\nconst ContextMain = React.createContext()\n\nconst ContextMainProvider = props => {\n    // Context state\n    const [auth, setAuth] = React.useState({});\n\n    return (\n        <ContextMain.Provider\n            value={{\n                auth: [auth, setAuth],\n            }}\n        >\n            {props.children}\n        </ContextMain.Provider>\n    )\n}\n\nexport default ContextMain\n\nexport { ContextMainProvider }","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport arrayMove from \"array-move\";\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\n\nexport default class DynamicTablePerson extends React.Component {\n  handleAdd() {\n    var items = this.props.items;\n    items.push({ firstname: \"\", lastname: \"\", affiliation: \"\" });\n    this.props.onChangeValue(items);\n  }\n\n  handleItemChanged(i, event) {\n    var items = this.props.items;\n    items[i][event.target.name] = event.target.value;\n    this.props.onChangeValue(items);\n  }\n\n  handleItemMoveDown(ind) {\n    console.log(\"Move down item with index: \" + ind);\n    const maxInd = this.props.items.length;\n\n    if (ind < maxInd) {\n      var items = this.props.items;\n      items = arrayMove(items, ind, ind + 1);\n      this.props.onChangeValue(items);\n    }\n  }\n\n  handleItemMoveUp(ind) {\n    console.log(\"Move up item with index: \" + ind);\n\n    if (ind > 0) {\n      var items = this.props.items;\n      items = arrayMove(items, ind, ind - 1);\n      this.props.onChangeValue(items);\n    }\n  }\n\n  handleItemDeleted(ind) {\n    var items = this.props.items;\n    items.splice(ind, 1);\n    this.props.onChangeValue(items);\n  }\n\n  renderRows() {\n    var context = this;\n    var items = this.props.items;\n\n    return this.props.items.map(function (item, ind) {\n      return (\n        <tr key={\"item-\" + ind}>\n          <td style={{ width: \"25%\", padding: \"5px 10px\" }}>\n            <input\n              name=\"firstname\"\n              type=\"text\"\n              value={item[\"firstname\"]}\n              onChange={context.handleItemChanged.bind(context, ind)}\n            />\n          </td>\n          <td style={{ width: \"25%\", padding: \"5px 10px\" }}>\n            <input\n              name=\"lastname\"\n              type=\"text\"\n              value={item[\"lastname\"]}\n              onChange={context.handleItemChanged.bind(context, ind)}\n            />\n          </td>\n          <td style={{ padding: \"5px 10px\" }}>\n            <input\n              name=\"affiliation\"\n              type=\"text\"\n              value={item[\"affiliation\"]}\n              onChange={context.handleItemChanged.bind(context, ind)}\n            />\n          </td>\n          <td style={{ width: \"100px\", padding: \"5px 0px 5px 10 px\" }}>\n            <div>\n              <Tooltip title=\"Move down\">\n                <IconButton\n                  color=\"primary\"\n                  size=\"small\"\n                  aria-label=\"move down\"\n                  component=\"span\"\n                  style={{ paddingRight: \"5px\" }}\n                  onClick={context.handleItemMoveDown.bind(context, ind)}\n                >\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      transform: `rotate(90deg)`,\n                      color: ind === items.length - 1 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    fontSize=\"small\"\n                  />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Move up\">\n                <IconButton\n                  color=\"primary\"\n                  size=\"small\"\n                  aria-label=\"move up\"\n                  component=\"span\"\n                  style={{ paddingRight: \"5px\" }}\n                  onClick={context.handleItemMoveUp.bind(context, ind)}\n                >\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      transform: `rotate(270deg)`,\n                      color: ind === 0 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    fontSize=\"small\"\n                  />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Delete\">\n                <IconButton\n                  color=\"secondary\"\n                  size=\"small\"\n                  aria-label=\"delete\"\n                  component=\"span\"\n                  onClick={context.handleItemDeleted.bind(context, ind)}\n                >\n                  <CancelIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            </div>\n          </td>\n        </tr>\n      );\n    });\n  }\n\n  render() {\n    // console.log(this.props.items);\n    return (\n      <div>\n        <table>\n          <thead>\n            <tr>\n              <th style={{ padding: \"5px 10px\" }}>First Name</th>\n              <th style={{ padding: \"5px 10px\" }}>Last Name</th>\n              <th style={{ padding: \"5px 10px\" }}>Affiliation</th>\n              <th style={{ padding: \"5px 0px 5px 10 px\" }}>\n                {/* delete button */}\n              </th>\n            </tr>\n          </thead>\n          <tbody>{this.renderRows()}</tbody>\n        </table>\n        <div style={{width:\"100%\", display:\"flex\", justifyContent:\"flex-end\", paddingTop:\"10px\"}}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.handleAdd.bind(this)}\n          style={{width:\"110px\"}}\n          startIcon={<AddCircleOutlineIcon />}\n        >\n          Add\n        </Button>\n        </div>\n        <hr />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Select from \"@material-ui/core/Select\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    minWidth: \"92.5%\",\n    maxWidth: \"97.5%\",\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nexport default function SingleSelect(props) {\n  const classes = useStyles();\n  const fieldId = \"select-\" + props.label.replace(\" \", \"-\");\n  const fieldLabelId = fieldId + \"-label\";\n  const fieldName = props.name.replace(\" \", \"_\");\n\n  return (\n    <div>\n      <FormControl className={classes.formControl} disabled={props.disabled || false}>\n        <InputLabel id={fieldLabelId}>{props.label}</InputLabel>\n        <Select\n          labelId={fieldLabelId}\n          id={fieldId}\n          value={props.value ? props.value : \"\"}\n          name={fieldName}\n          onChange={props.handleChange}\n          input={<Input />}\n          MenuProps={MenuProps}\n        >\n          {props.itemNames.map((name) => (\n            <MenuItem key={name} value={name}>\n              <ListItemText primary={name} />\n            </MenuItem>\n          ))}\n        </Select>\n        <FormHelperText>{props.helperText}</FormHelperText>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./StylesIconSelector.css\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst material_icons = [\n  \"3d_rotation\",\n  \"ac_unit\",\n  \"access_alarm\",\n  \"access_alarms\",\n  \"access_time\",\n  \"accessibility\",\n  \"accessible\",\n  \"account_balance\",\n  \"account_balance_wallet\",\n  \"account_box\",\n  \"account_circle\",\n  \"adb\",\n  \"add\",\n  \"add_a_photo\",\n  \"add_alarm\",\n  \"add_alert\",\n  \"add_box\",\n  \"add_circle\",\n  \"add_circle_outline\",\n  \"add_location\",\n  \"add_shopping_cart\",\n  \"add_to_photos\",\n  \"add_to_queue\",\n  \"adjust\",\n  \"airline_seat_flat\",\n  \"airline_seat_flat_angled\",\n  \"airline_seat_individual_suite\",\n  \"airline_seat_legroom_extra\",\n  \"airline_seat_legroom_normal\",\n  \"airline_seat_legroom_reduced\",\n  \"airline_seat_recline_extra\",\n  \"airline_seat_recline_normal\",\n  \"airplanemode_active\",\n  \"airplanemode_inactive\",\n  \"airplay\",\n  \"airport_shuttle\",\n  \"alarm\",\n  \"alarm_add\",\n  \"alarm_off\",\n  \"alarm_on\",\n  \"album\",\n  \"all_inclusive\",\n  \"all_out\",\n  \"android\",\n  \"announcement\",\n  \"apps\",\n  \"archive\",\n  \"arrow_back\",\n  \"arrow_downward\",\n  \"arrow_drop_down\",\n  \"arrow_drop_down_circle\",\n  \"arrow_drop_up\",\n  \"arrow_forward\",\n  \"arrow_upward\",\n  \"art_track\",\n  \"aspect_ratio\",\n  \"assessment\",\n  \"assignment\",\n  \"assignment_ind\",\n  \"assignment_late\",\n  \"assignment_return\",\n  \"assignment_returned\",\n  \"assignment_turned_in\",\n  \"assistant\",\n  \"assistant_photo\",\n  \"attach_file\",\n  \"attach_money\",\n  \"attachment\",\n  \"audiotrack\",\n  \"autorenew\",\n  \"av_timer\",\n  \"backspace\",\n  \"backup\",\n  \"battery_alert\",\n  \"battery_charging_full\",\n  \"battery_full\",\n  \"battery_std\",\n  \"battery_unknown\",\n  \"beach_access\",\n  \"beenhere\",\n  \"block\",\n  \"bluetooth\",\n  \"bluetooth_audio\",\n  \"bluetooth_connected\",\n  \"bluetooth_disabled\",\n  \"bluetooth_searching\",\n  \"blur_circular\",\n  \"blur_linear\",\n  \"blur_off\",\n  \"blur_on\",\n  \"book\",\n  \"bookmark\",\n  \"bookmark_border\",\n  \"border_all\",\n  \"border_bottom\",\n  \"border_clear\",\n  \"border_color\",\n  \"border_horizontal\",\n  \"border_inner\",\n  \"border_left\",\n  \"border_outer\",\n  \"border_right\",\n  \"border_style\",\n  \"border_top\",\n  \"border_vertical\",\n  \"branding_watermark\",\n  \"brightness_1\",\n  \"brightness_2\",\n  \"brightness_3\",\n  \"brightness_4\",\n  \"brightness_5\",\n  \"brightness_6\",\n  \"brightness_7\",\n  \"brightness_auto\",\n  \"brightness_high\",\n  \"brightness_low\",\n  \"brightness_medium\",\n  \"broken_image\",\n  \"brush\",\n  \"bubble_chart\",\n  \"bug_report\",\n  \"build\",\n  \"burst_mode\",\n  \"business\",\n  \"business_center\",\n  \"cached\",\n  \"cake\",\n  \"call\",\n  \"call_end\",\n  \"call_made\",\n  \"call_merge\",\n  \"call_missed\",\n  \"call_missed_outgoing\",\n  \"call_received\",\n  \"call_split\",\n  \"call_to_action\",\n  \"camera\",\n  \"camera_alt\",\n  \"camera_enhance\",\n  \"camera_front\",\n  \"camera_rear\",\n  \"camera_roll\",\n  \"cancel\",\n  \"card_giftcard\",\n  \"card_membership\",\n  \"card_travel\",\n  \"casino\",\n  \"cast\",\n  \"cast_connected\",\n  \"center_focus_strong\",\n  \"center_focus_weak\",\n  \"change_history\",\n  \"chat\",\n  \"chat_bubble\",\n  \"chat_bubble_outline\",\n  \"check\",\n  \"check_box\",\n  \"check_box_outline_blank\",\n  \"check_circle\",\n  \"chevron_left\",\n  \"chevron_right\",\n  \"child_care\",\n  \"child_friendly\",\n  \"chrome_reader_mode\",\n  \"class\",\n  \"clear\",\n  \"clear_all\",\n  \"close\",\n  \"closed_caption\",\n  \"cloud\",\n  \"cloud_circle\",\n  \"cloud_done\",\n  \"cloud_download\",\n  \"cloud_off\",\n  \"cloud_queue\",\n  \"cloud_upload\",\n  \"code\",\n  \"collections\",\n  \"collections_bookmark\",\n  \"color_lens\",\n  \"colorize\",\n  \"comment\",\n  \"compare\",\n  \"compare_arrows\",\n  \"computer\",\n  \"confirmation_number\",\n  \"contact_mail\",\n  \"contact_phone\",\n  \"contacts\",\n  \"content_copy\",\n  \"content_cut\",\n  \"content_paste\",\n  \"control_point\",\n  \"control_point_duplicate\",\n  \"copyright\",\n  \"create\",\n  \"create_new_folder\",\n  \"credit_card\",\n  \"crop\",\n  \"crop_16_9\",\n  \"crop_3_2\",\n  \"crop_5_4\",\n  \"crop_7_5\",\n  \"crop_din\",\n  \"crop_free\",\n  \"crop_landscape\",\n  \"crop_original\",\n  \"crop_portrait\",\n  \"crop_rotate\",\n  \"crop_square\",\n  \"dashboard\",\n  \"data_usage\",\n  \"date_range\",\n  \"dehaze\",\n  \"delete\",\n  \"delete_forever\",\n  \"delete_sweep\",\n  \"description\",\n  \"desktop_mac\",\n  \"desktop_windows\",\n  \"details\",\n  \"developer_board\",\n  \"developer_mode\",\n  \"device_hub\",\n  \"devices\",\n  \"devices_other\",\n  \"dialer_sip\",\n  \"dialpad\",\n  \"directions\",\n  \"directions_bike\",\n  \"directions_boat\",\n  \"directions_bus\",\n  \"directions_car\",\n  \"directions_railway\",\n  \"directions_run\",\n  \"directions_subway\",\n  \"directions_transit\",\n  \"directions_walk\",\n  \"disc_full\",\n  \"dns\",\n  \"do_not_disturb\",\n  \"do_not_disturb_alt\",\n  \"do_not_disturb_off\",\n  \"do_not_disturb_on\",\n  \"dock\",\n  \"domain\",\n  \"done\",\n  \"done_all\",\n  \"donut_large\",\n  \"donut_small\",\n  \"drafts\",\n  \"drag_handle\",\n  \"drive_eta\",\n  \"dvr\",\n  \"edit\",\n  \"edit_location\",\n  \"eject\",\n  \"email\",\n  \"enhanced_encryption\",\n  \"equalizer\",\n  \"error\",\n  \"error_outline\",\n  \"euro_symbol\",\n  \"ev_station\",\n  \"event\",\n  \"event_available\",\n  \"event_busy\",\n  \"event_note\",\n  \"event_seat\",\n  \"exit_to_app\",\n  \"expand_less\",\n  \"expand_more\",\n  \"explicit\",\n  \"explore\",\n  \"exposure\",\n  \"exposure_neg_1\",\n  \"exposure_neg_2\",\n  \"exposure_plus_1\",\n  \"exposure_plus_2\",\n  \"exposure_zero\",\n  \"extension\",\n  \"face\",\n  \"fast_forward\",\n  \"fast_rewind\",\n  \"favorite\",\n  \"favorite_border\",\n  \"featured_play_list\",\n  \"featured_video\",\n  \"feedback\",\n  \"fiber_dvr\",\n  \"fiber_manual_record\",\n  \"fiber_new\",\n  \"fiber_pin\",\n  \"fiber_smart_record\",\n  \"file_download\",\n  \"file_upload\",\n  \"filter\",\n  \"filter_1\",\n  \"filter_2\",\n  \"filter_3\",\n  \"filter_4\",\n  \"filter_5\",\n  \"filter_6\",\n  \"filter_7\",\n  \"filter_8\",\n  \"filter_9\",\n  \"filter_9_plus\",\n  \"filter_b_and_w\",\n  \"filter_center_focus\",\n  \"filter_drama\",\n  \"filter_frames\",\n  \"filter_hdr\",\n  \"filter_list\",\n  \"filter_none\",\n  \"filter_tilt_shift\",\n  \"filter_vintage\",\n  \"find_in_page\",\n  \"find_replace\",\n  \"fingerprint\",\n  \"first_page\",\n  \"fitness_center\",\n  \"flag\",\n  \"flare\",\n  \"flash_auto\",\n  \"flash_off\",\n  \"flash_on\",\n  \"flight\",\n  \"flight_land\",\n  \"flight_takeoff\",\n  \"flip\",\n  \"flip_to_back\",\n  \"flip_to_front\",\n  \"folder\",\n  \"folder_open\",\n  \"folder_shared\",\n  \"folder_special\",\n  \"font_download\",\n  \"format_align_center\",\n  \"format_align_justify\",\n  \"format_align_left\",\n  \"format_align_right\",\n  \"format_bold\",\n  \"format_clear\",\n  \"format_color_fill\",\n  \"format_color_reset\",\n  \"format_color_text\",\n  \"format_indent_decrease\",\n  \"format_indent_increase\",\n  \"format_italic\",\n  \"format_line_spacing\",\n  \"format_list_bulleted\",\n  \"format_list_numbered\",\n  \"format_paint\",\n  \"format_quote\",\n  \"format_shapes\",\n  \"format_size\",\n  \"format_strikethrough\",\n  \"format_textdirection_l_to_r\",\n  \"format_textdirection_r_to_l\",\n  \"format_underlined\",\n  \"forum\",\n  \"forward\",\n  \"forward_10\",\n  \"forward_30\",\n  \"forward_5\",\n  \"free_breakfast\",\n  \"fullscreen\",\n  \"fullscreen_exit\",\n  \"functions\",\n  \"g_translate\",\n  \"gamepad\",\n  \"games\",\n  \"gavel\",\n  \"gesture\",\n  \"get_app\",\n  \"gif\",\n  \"golf_course\",\n  \"gps_fixed\",\n  \"gps_not_fixed\",\n  \"gps_off\",\n  \"grade\",\n  \"gradient\",\n  \"grain\",\n  \"graphic_eq\",\n  \"grid_off\",\n  \"grid_on\",\n  \"group\",\n  \"group_add\",\n  \"group_work\",\n  \"hd\",\n  \"hdr_off\",\n  \"hdr_on\",\n  \"hdr_strong\",\n  \"hdr_weak\",\n  \"headset\",\n  \"headset_mic\",\n  \"healing\",\n  \"hearing\",\n  \"help\",\n  \"help_outline\",\n  \"high_quality\",\n  \"highlight\",\n  \"highlight_off\",\n  \"history\",\n  \"home\",\n  \"hot_tub\",\n  \"hotel\",\n  \"hourglass_empty\",\n  \"hourglass_full\",\n  \"http\",\n  \"https\",\n  \"image\",\n  \"image_aspect_ratio\",\n  \"import_contacts\",\n  \"import_export\",\n  \"important_devices\",\n  \"inbox\",\n  \"indeterminate_check_box\",\n  \"info\",\n  \"info_outline\",\n  \"input\",\n  \"insert_chart\",\n  \"insert_comment\",\n  \"insert_drive_file\",\n  \"insert_emoticon\",\n  \"insert_invitation\",\n  \"insert_link\",\n  \"insert_photo\",\n  \"invert_colors\",\n  \"invert_colors_off\",\n  \"iso\",\n  \"keyboard\",\n  \"keyboard_arrow_down\",\n  \"keyboard_arrow_left\",\n  \"keyboard_arrow_right\",\n  \"keyboard_arrow_up\",\n  \"keyboard_backspace\",\n  \"keyboard_capslock\",\n  \"keyboard_hide\",\n  \"keyboard_return\",\n  \"keyboard_tab\",\n  \"keyboard_voice\",\n  \"kitchen\",\n  \"label\",\n  \"label_outline\",\n  \"landscape\",\n  \"language\",\n  \"laptop\",\n  \"laptop_chromebook\",\n  \"laptop_mac\",\n  \"laptop_windows\",\n  \"last_page\",\n  \"launch\",\n  \"layers\",\n  \"layers_clear\",\n  \"leak_add\",\n  \"leak_remove\",\n  \"lens\",\n  \"library_add\",\n  \"library_books\",\n  \"library_music\",\n  \"lightbulb_outline\",\n  \"line_style\",\n  \"line_weight\",\n  \"linear_scale\",\n  \"link\",\n  \"linked_camera\",\n  \"list\",\n  \"live_help\",\n  \"live_tv\",\n  \"local_activity\",\n  \"local_airport\",\n  \"local_atm\",\n  \"local_bar\",\n  \"local_cafe\",\n  \"local_car_wash\",\n  \"local_convenience_store\",\n  \"local_dining\",\n  \"local_drink\",\n  \"local_florist\",\n  \"local_gas_station\",\n  \"local_grocery_store\",\n  \"local_hospital\",\n  \"local_hotel\",\n  \"local_laundry_service\",\n  \"local_library\",\n  \"local_mall\",\n  \"local_movies\",\n  \"local_offer\",\n  \"local_parking\",\n  \"local_pharmacy\",\n  \"local_phone\",\n  \"local_pizza\",\n  \"local_play\",\n  \"local_post_office\",\n  \"local_printshop\",\n  \"local_see\",\n  \"local_shipping\",\n  \"local_taxi\",\n  \"location_city\",\n  \"location_disabled\",\n  \"location_off\",\n  \"location_on\",\n  \"location_searching\",\n  \"lock\",\n  \"lock_open\",\n  \"lock_outline\",\n  \"looks\",\n  \"looks_3\",\n  \"looks_4\",\n  \"looks_5\",\n  \"looks_6\",\n  \"looks_one\",\n  \"looks_two\",\n  \"loop\",\n  \"loupe\",\n  \"low_priority\",\n  \"loyalty\",\n  \"mail\",\n  \"mail_outline\",\n  \"map\",\n  \"markunread\",\n  \"markunread_mailbox\",\n  \"memory\",\n  \"menu\",\n  \"merge_type\",\n  \"message\",\n  \"mic\",\n  \"mic_none\",\n  \"mic_off\",\n  \"mms\",\n  \"mode_comment\",\n  \"mode_edit\",\n  \"monetization_on\",\n  \"money_off\",\n  \"monochrome_photos\",\n  \"mood\",\n  \"mood_bad\",\n  \"more\",\n  \"more_horiz\",\n  \"more_vert\",\n  \"motorcycle\",\n  \"mouse\",\n  \"move_to_inbox\",\n  \"movie\",\n  \"movie_creation\",\n  \"movie_filter\",\n  \"multiline_chart\",\n  \"music_note\",\n  \"music_video\",\n  \"my_location\",\n  \"nature\",\n  \"nature_people\",\n  \"navigate_before\",\n  \"navigate_next\",\n  \"navigation\",\n  \"near_me\",\n  \"network_cell\",\n  \"network_check\",\n  \"network_locked\",\n  \"network_wifi\",\n  \"new_releases\",\n  \"next_week\",\n  \"nfc\",\n  \"no_encryption\",\n  \"no_sim\",\n  \"not_interested\",\n  \"note\",\n  \"note_add\",\n  \"notifications\",\n  \"notifications_active\",\n  \"notifications_none\",\n  \"notifications_off\",\n  \"notifications_paused\",\n  \"offline_pin\",\n  \"ondemand_video\",\n  \"opacity\",\n  \"open_in_browser\",\n  \"open_in_new\",\n  \"open_with\",\n  \"pages\",\n  \"pageview\",\n  \"palette\",\n  \"pan_tool\",\n  \"panorama\",\n  \"panorama_fish_eye\",\n  \"panorama_horizontal\",\n  \"panorama_vertical\",\n  \"panorama_wide_angle\",\n  \"party_mode\",\n  \"pause\",\n  \"pause_circle_filled\",\n  \"pause_circle_outline\",\n  \"payment\",\n  \"people\",\n  \"people_outline\",\n  \"perm_camera_mic\",\n  \"perm_contact_calendar\",\n  \"perm_data_setting\",\n  \"perm_device_information\",\n  \"perm_identity\",\n  \"perm_media\",\n  \"perm_phone_msg\",\n  \"perm_scan_wifi\",\n  \"person\",\n  \"person_add\",\n  \"person_outline\",\n  \"person_pin\",\n  \"person_pin_circle\",\n  \"personal_video\",\n  \"pets\",\n  \"phone\",\n  \"phone_android\",\n  \"phone_bluetooth_speaker\",\n  \"phone_forwarded\",\n  \"phone_in_talk\",\n  \"phone_iphone\",\n  \"phone_locked\",\n  \"phone_missed\",\n  \"phone_paused\",\n  \"phonelink\",\n  \"phonelink_erase\",\n  \"phonelink_lock\",\n  \"phonelink_off\",\n  \"phonelink_ring\",\n  \"phonelink_setup\",\n  \"photo\",\n  \"photo_album\",\n  \"photo_camera\",\n  \"photo_filter\",\n  \"photo_library\",\n  \"photo_size_select_actual\",\n  \"photo_size_select_large\",\n  \"photo_size_select_small\",\n  \"picture_as_pdf\",\n  \"picture_in_picture\",\n  \"picture_in_picture_alt\",\n  \"pie_chart\",\n  \"pie_chart_outlined\",\n  \"pin_drop\",\n  \"place\",\n  \"play_arrow\",\n  \"play_circle_filled\",\n  \"play_circle_outline\",\n  \"play_for_work\",\n  \"playlist_add\",\n  \"playlist_add_check\",\n  \"playlist_play\",\n  \"plus_one\",\n  \"poll\",\n  \"polymer\",\n  \"pool\",\n  \"portable_wifi_off\",\n  \"portrait\",\n  \"power\",\n  \"power_input\",\n  \"power_settings_new\",\n  \"pregnant_woman\",\n  \"present_to_all\",\n  \"print\",\n  \"priority_high\",\n  \"public\",\n  \"publish\",\n  \"query_builder\",\n  \"question_answer\",\n  \"queue\",\n  \"queue_music\",\n  \"queue_play_next\",\n  \"radio\",\n  \"radio_button_checked\",\n  \"radio_button_unchecked\",\n  \"rate_review\",\n  \"receipt\",\n  \"recent_actors\",\n  \"record_voice_over\",\n  \"redeem\",\n  \"redo\",\n  \"refresh\",\n  \"remove\",\n  \"remove_circle\",\n  \"remove_circle_outline\",\n  \"remove_from_queue\",\n  \"remove_red_eye\",\n  \"remove_shopping_cart\",\n  \"reorder\",\n  \"repeat\",\n  \"repeat_one\",\n  \"replay\",\n  \"replay_10\",\n  \"replay_30\",\n  \"replay_5\",\n  \"reply\",\n  \"reply_all\",\n  \"report\",\n  \"report_problem\",\n  \"restaurant\",\n  \"restaurant_menu\",\n  \"restore\",\n  \"restore_page\",\n  \"ring_volume\",\n  \"room\",\n  \"room_service\",\n  \"rotate_90_degrees_ccw\",\n  \"rotate_left\",\n  \"rotate_right\",\n  \"rounded_corner\",\n  \"router\",\n  \"rowing\",\n  \"rss_feed\",\n  \"rv_hookup\",\n  \"satellite\",\n  \"save\",\n  \"scanner\",\n  \"schedule\",\n  \"school\",\n  \"screen_lock_landscape\",\n  \"screen_lock_portrait\",\n  \"screen_lock_rotation\",\n  \"screen_rotation\",\n  \"screen_share\",\n  \"sd_card\",\n  \"sd_storage\",\n  \"search\",\n  \"security\",\n  \"select_all\",\n  \"send\",\n  \"sentiment_dissatisfied\",\n  \"sentiment_neutral\",\n  \"sentiment_satisfied\",\n  \"sentiment_very_dissatisfied\",\n  \"sentiment_very_satisfied\",\n  \"settings\",\n  \"settings_applications\",\n  \"settings_backup_restore\",\n  \"settings_bluetooth\",\n  \"settings_brightness\",\n  \"settings_cell\",\n  \"settings_ethernet\",\n  \"settings_input_antenna\",\n  \"settings_input_component\",\n  \"settings_input_composite\",\n  \"settings_input_hdmi\",\n  \"settings_input_svideo\",\n  \"settings_overscan\",\n  \"settings_phone\",\n  \"settings_power\",\n  \"settings_remote\",\n  \"settings_system_daydream\",\n  \"settings_voice\",\n  \"share\",\n  \"shop\",\n  \"shop_two\",\n  \"shopping_basket\",\n  \"shopping_cart\",\n  \"short_text\",\n  \"show_chart\",\n  \"shuffle\",\n  \"signal_cellular_4_bar\",\n  \"signal_cellular_connected_no_internet_4_bar\",\n  \"signal_cellular_no_sim\",\n  \"signal_cellular_null\",\n  \"signal_cellular_off\",\n  \"signal_wifi_4_bar\",\n  \"signal_wifi_4_bar_lock\",\n  \"signal_wifi_off\",\n  \"sim_card\",\n  \"sim_card_alert\",\n  \"skip_next\",\n  \"skip_previous\",\n  \"slideshow\",\n  \"slow_motion_video\",\n  \"smartphone\",\n  \"smoke_free\",\n  \"smoking_rooms\",\n  \"sms\",\n  \"sms_failed\",\n  \"snooze\",\n  \"sort\",\n  \"sort_by_alpha\",\n  \"spa\",\n  \"space_bar\",\n  \"speaker\",\n  \"speaker_group\",\n  \"speaker_notes\",\n  \"speaker_notes_off\",\n  \"speaker_phone\",\n  \"spellcheck\",\n  \"star\",\n  \"star_border\",\n  \"star_half\",\n  \"stars\",\n  \"stay_current_landscape\",\n  \"stay_current_portrait\",\n  \"stay_primary_landscape\",\n  \"stay_primary_portrait\",\n  \"stop\",\n  \"stop_screen_share\",\n  \"storage\",\n  \"store\",\n  \"store_mall_directory\",\n  \"straighten\",\n  \"streetview\",\n  \"strikethrough_s\",\n  \"style\",\n  \"subdirectory_arrow_left\",\n  \"subdirectory_arrow_right\",\n  \"subject\",\n  \"subscriptions\",\n  \"subtitles\",\n  \"subway\",\n  \"supervisor_account\",\n  \"surround_sound\",\n  \"swap_calls\",\n  \"swap_horiz\",\n  \"swap_vert\",\n  \"swap_vertical_circle\",\n  \"switch_camera\",\n  \"switch_video\",\n  \"sync\",\n  \"sync_disabled\",\n  \"sync_problem\",\n  \"system_update\",\n  \"system_update_alt\",\n  \"tab\",\n  \"tab_unselected\",\n  \"tablet\",\n  \"tablet_android\",\n  \"tablet_mac\",\n  \"tag_faces\",\n  \"tap_and_play\",\n  \"terrain\",\n  \"text_fields\",\n  \"text_format\",\n  \"textsms\",\n  \"texture\",\n  \"theaters\",\n  \"thumb_down\",\n  \"thumb_up\",\n  \"thumbs_up_down\",\n  \"time_to_leave\",\n  \"timelapse\",\n  \"timeline\",\n  \"timer\",\n  \"timer_10\",\n  \"timer_3\",\n  \"timer_off\",\n  \"title\",\n  \"toc\",\n  \"today\",\n  \"toll\",\n  \"tonality\",\n  \"touch_app\",\n  \"toys\",\n  \"track_changes\",\n  \"traffic\",\n  \"train\",\n  \"tram\",\n  \"transfer_within_a_station\",\n  \"transform\",\n  \"translate\",\n  \"trending_down\",\n  \"trending_flat\",\n  \"trending_up\",\n  \"tune\",\n  \"turned_in\",\n  \"turned_in_not\",\n  \"tv\",\n  \"unarchive\",\n  \"undo\",\n  \"unfold_less\",\n  \"unfold_more\",\n  \"update\",\n  \"usb\",\n  \"verified_user\",\n  \"vertical_align_bottom\",\n  \"vertical_align_center\",\n  \"vertical_align_top\",\n  \"vibration\",\n  \"video_call\",\n  \"video_label\",\n  \"video_library\",\n  \"videocam\",\n  \"videocam_off\",\n  \"videogame_asset\",\n  \"view_agenda\",\n  \"view_array\",\n  \"view_carousel\",\n  \"view_column\",\n  \"view_comfy\",\n  \"view_compact\",\n  \"view_day\",\n  \"view_headline\",\n  \"view_list\",\n  \"view_module\",\n  \"view_quilt\",\n  \"view_stream\",\n  \"view_week\",\n  \"vignette\",\n  \"visibility\",\n  \"visibility_off\",\n  \"voice_chat\",\n  \"voicemail\",\n  \"volume_down\",\n  \"volume_mute\",\n  \"volume_off\",\n  \"volume_up\",\n  \"vpn_key\",\n  \"vpn_lock\",\n  \"wallpaper\",\n  \"warning\",\n  \"watch\",\n  \"watch_later\",\n  \"wb_auto\",\n  \"wb_cloudy\",\n  \"wb_incandescent\",\n  \"wb_iridescent\",\n  \"wb_sunny\",\n  \"wc\",\n  \"web\",\n  \"web_asset\",\n  \"weekend\",\n  \"whatshot\",\n  \"widgets\",\n  \"wifi\",\n  \"wifi_lock\",\n  \"wifi_tethering\",\n  \"work\",\n  \"wrap_text\",\n  \"youtube_searched_for\",\n  \"zoom_in\",\n  \"zoom_out\",\n  \"zoom_out_map\",\n];\n\nexport default class MaterialIconSelector extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      icons_list: material_icons,\n      current_icon: this.props.icon ? this.props.icon : \"add_a_photo\",\n      search_text: \"\",\n      size: this.props.size,\n    };\n\n    this.searchRef = null;\n    this.setSearchRef = (element) => {\n      this.searchRef = element;\n      if (this.searchRef) {\n        this.searchRef.focus();\n      }\n    };\n\n    this.handleClickIcon = this.handleClickIcon.bind(this);\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleClickPickerIcon = this.handleClickPickerIcon.bind(this);\n    this.handleClickClose = this.handleClickClose.bind(this);\n  }\n\n  handleClickIcon() {\n    this.setState({ show: true });\n  }\n\n  handleSearchChange(e) {\n    console.log(e.target.value);\n    this.setState({ search_text: e.target.value });\n    var icon_matches = material_icons.filter((name) =>\n      name.includes(e.target.value.toLowerCase())\n    );\n    this.setState({\n      icons_list: icon_matches,\n    });\n  }\n\n  handleClickPickerIcon(ind) {\n    this.setState({ current_icon: this.state.icons_list[ind] });\n    this.setState({ show: false });\n    if (this.props.setIcon) {\n      this.props.setIcon(this.state.icons_list[ind]);\n    }\n    // console.log(this.state.icons_list[ind]);\n  }\n\n  handleClickClose() {\n    this.setState({ show: false });\n  }\n\n  render() {\n    return (\n      <div>\n        <Tooltip title=\"Click to change icon\">\n          <i\n            className=\"material-icons material-icon-picker-prefix prefix\"\n            onClick={this.handleClickIcon}\n            style={{\n              cursor: \"pointer\",\n              backgroundColor: \"#FFFFFF\",\n              border: \"1px solid #000000\",\n              borderRadius: \"10px\",\n              fontSize: this.state.size,\n              padding: \"10px\",\n            }}\n          >\n            {this.state.current_icon}\n          </i>\n        </Tooltip>\n        {this.state.show ? (\n          <div\n            className=\"material-icon-picker\"\n            tabIndex=\"-1\"\n            style={{ zIndex: \"1\" }}\n            ref={this.setPickerRef}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <input\n                type=\"text\"\n                placeholder=\"Search...\"\n                value={this.state.search_text}\n                onChange={this.handleSearchChange}\n                ref={this.setSearchRef}\n                style={{ width: \"80%\" }}\n              />\n              <Tooltip title=\"Close\">\n                <CloseIcon\n                  style={{\n                    cursor: \"pointer\",\n                    backgroundColor: \"#CCCCCC\",\n                    border: \"1px solid #666666\",\n                    borderRadius: \"10px\",\n                    padding: \"2px\",\n                  }}\n                  onClick={this.handleClickClose}\n                />\n              </Tooltip>\n            </div>\n            <div className=\"icons\">\n              {this.state.icons_list.length === 0 ? (\n                <i>No matches!</i>\n              ) : (\n                this.state.icons_list.map((icon_name, i) => {\n                  return (\n                    <i\n                      key={i}\n                      className=\"material-icons\"\n                      onClick={() => this.handleClickPickerIcon(i)}\n                    >\n                      {icon_name}\n                    </i>\n                  );\n                })\n              )}\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon style={{color:\"#000000\"}} />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default class ModalDialog extends React.Component {\n  render() {\n    return (\n      <Dialog\n        onClose={this.props.handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={this.props.open}\n        fullWidth={true}\n        maxWidth={\"md\"}\n      >\n        <DialogTitle\n          id=\"customized-dialog-title\"\n          onClose={this.props.handleClose}\n          style={{ backgroundColor: this.props.headerBgColor || \"#ffd180\" }}\n        >\n          <b>{this.props.title}</b>\n        </DialogTitle>\n        <DialogContent dividers>{this.props.content}</DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={this.props.handleClose} color=\"primary\">\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport parse from \"html-react-parser\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon style={{ color: \"#000000\" }} />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default class DialogConfirm extends React.Component {\n  render() {\n    return (\n      <div>\n        <Dialog\n          onClose={() => this.props.handleClose(false)}\n          aria-labelledby=\"customized-dialog-title\"\n          open={this.props.open}\n          fullWidth={true}\n          maxWidth={this.props.size || \"md\"}\n          disableBackdropClick={true}\n          disableEscapeKeyDown={true}\n        >\n          <DialogTitle\n            id=\"customized-dialog-title\"\n            onClose={() => this.props.handleClose(false)}\n            style={{ backgroundColor: this.props.headerBgColor || \"#ffd180\" }}\n          >\n            <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n              {this.props.title}\n            </span>\n          </DialogTitle>\n          <DialogContent dividers>\n            {typeof this.props.content === \"string\" ? (\n              <Typography gutterBottom>{parse(this.props.content)}</Typography>\n            ) : (\n              this.props.content\n            )}\n          </DialogContent>\n          <DialogActions>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItems: \"center\",\n                paddingLeft: \"2.5%\",\n                paddingRight: \"2.5%\",\n                paddingTop: \"20px\",\n                paddingBottom: \"20px\",\n                width: \"100%\",\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"150px\",\n                  backgroundColor: \"#FF9800\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={() => this.props.handleClose(false)}\n              >\n                Cancel\n              </Button>\n              <br />\n              <br />\n              {this.props.clickHelp && (\n                <>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{\n                      width: \"150px\",\n                      backgroundColor: \"#01579B\",\n                      color: \"#FFFFFF\",\n                      fontWeight: \"bold\",\n                      border: \"solid\",\n                      borderColor: \"#000000\",\n                      borderWidth: \"1px\",\n                    }}\n                    onClick={this.props.clickHelp}\n                  >\n                    Help\n                  </Button>\n                  <br />\n                  <br />\n                </>\n              )}\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"150px\",\n                  backgroundColor: \"#8BC34A\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={() => this.props.handleClose(true)}\n              >\n                Proceed\n              </Button>\n            </div>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport arrayMove from \"array-move\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport AspectRatioIcon from \"@material-ui/icons/AspectRatio\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Badge from \"@material-ui/core/Badge\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = () => ({\n  customBadge: {\n    backgroundColor: \"#388E3C\",\n    color: \"white\",\n    fontSize: 10,\n  },\n});\n\nconst RowIndex = withStyles(styles)((props) => {\n  //   console.log(props);\n  return (\n    <td\n      style={{\n        width: \"35px\",\n        padding: \"5px 5px 5px 0px\",\n        textAlign: \"center\",\n      }}\n    >\n      <Tooltip\n        title={props.type === \"URL\" ? \"Manual Entry\" : \"KG Entry\"}\n        placement=\"left\"\n      >\n        <Badge\n          badgeContent={\"KG\"}\n          // color=\"default\"\n          invisible={props.type === \"URL\"}\n          anchorOrigin={{\n            vertical: \"top\",\n            horizontal: \"left\",\n          }}\n          classes={{ badge: props.classes.customBadge }}\n        >\n          <Avatar\n            style={{\n              width: \"25px\",\n              height: \"25px\",\n              fontSize: 14,\n              fontWeight: \"bolder\",\n              backgroundColor: \"transparent\",\n              color: \"#000000\",\n            }}\n          >\n            {props.ind + 1}\n          </Avatar>\n        </Badge>\n      </Tooltip>\n    </td>\n  );\n});\n\nexport class RowURL extends React.Component {\n  render() {\n    return (\n      <tr>\n        <RowIndex ind={this.props.ind} type={this.props.item[\"type\"]} />\n        <td style={{ padding: \"5px 10px 5px 0px\" }}>\n          <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n            <Tooltip title={this.props.item[\"label\"] || \"\"}>\n              <input\n                name=\"label\"\n                type=\"text\"\n                value={this.props.item[\"label\"]}\n                onChange={(e) =>\n                  this.props.handleItemChanged(this.props.ind, e)\n                }\n              />\n            </Tooltip>\n          </div>\n        </td>\n        <td\n          style={{\n            width:\n              this.props.numCols > 2\n                ? this.props.useTabs\n                  ? \"27.5\"\n                  : \"30%\"\n                : this.props.useTabs\n                ? \"55%\"\n                : \"60%\",\n            padding: \"5px 10px 5px 0px\",\n          }}\n        >\n          <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n            <Tooltip title={this.props.item[\"url\"] || \"\"}>\n              <input\n                name=\"url\"\n                type=\"text\"\n                value={this.props.item[\"url\"]}\n                onChange={(e) =>\n                  this.props.handleItemChanged(this.props.ind, e)\n                }\n              />\n            </Tooltip>\n          </div>\n        </td>\n        {this.props.numCols > 2 && (\n          <td\n            style={{\n              width: this.props.useTabs ? \"27.5\" : \"30%\",\n              padding: \"5px 10px 5px 0px\",\n            }}\n          >\n            <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n              <Tooltip title={this.props.item[\"mc_url\"] || \"\"}>\n                <input\n                  name=\"mc_url\"\n                  type=\"text\"\n                  value={this.props.item[\"mc_url\"]}\n                  onChange={(e) =>\n                    this.props.handleItemChanged(this.props.ind, e)\n                  }\n                />\n              </Tooltip>\n            </div>\n          </td>\n        )}\n        {this.props.useTabs && (\n          <td style={{ width: \"12.5%\", padding: \"5px 10px 5px 0px\" }}>\n            <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n              <Tooltip title={this.props.item[\"tab_name\"] || \"\"}>\n                <input\n                  name=\"tab_name\"\n                  type=\"text\"\n                  value={this.props.item[\"tab_name\"]}\n                  onChange={(e) =>\n                    this.props.handleItemChanged(this.props.ind, e)\n                  }\n                />\n              </Tooltip>\n            </div>\n          </td>\n        )}\n        <ToolBar\n          handleItemMoveDown={this.props.handleItemMoveDown}\n          handleItemMoveUp={this.props.handleItemMoveUp}\n          handleItemDeleted={this.props.handleItemDeleted}\n          ind={this.props.ind}\n          numRows={this.props.numRows}\n        />\n      </tr>\n    );\n  }\n}\n\nexport class RowURLExpanded extends React.Component {\n  render() {\n    return (\n      <tr>\n        <RowIndex ind={this.props.ind} type={this.props.item[\"type\"]} />\n        <td colSpan={this.props.numCols}>\n          <table>\n            <tbody>\n              <tr style={{ border: \"None\" }}>\n                <td style={{ width: \"100%\", padding: \"5px 10px 5px 0px\" }}>\n                  <Tooltip title={this.props.item[\"label\"] || \"\"}>\n                    <TextField\n                      label=\"Label\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"label\"\n                      value={this.props.item[\"label\"]}\n                      onChange={(e) =>\n                        this.props.handleItemChanged(this.props.ind, e)\n                      }\n                      InputProps={{\n                        style: {\n                          backgroundColor: \"#FFFFFF\",\n                          padding: \"5px 15px\",\n                        },\n                      }}\n                    />\n                  </Tooltip>\n                </td>\n              </tr>\n              <tr style={{ border: \"None\" }}>\n                <td\n                  style={{\n                    width: \"100%\",\n                    padding: \"5px 10px 5px 0px\",\n                  }}\n                >\n                  <Tooltip title={this.props.item[\"url\"] || \"\"}>\n                    <TextField\n                      label=\"Download URL\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"url\"\n                      value={this.props.item[\"url\"]}\n                      onChange={(e) =>\n                        this.props.handleItemChanged(this.props.ind, e)\n                      }\n                      InputProps={{\n                        style: {\n                          backgroundColor: \"#FFFFFF\",\n                          padding: \"5px 15px\",\n                        },\n                      }}\n                    />\n                  </Tooltip>\n                </td>\n              </tr>\n              {this.props.numCols > 2 && (\n                <tr style={{ border: \"None\" }}>\n                  <td\n                    style={{\n                      width: \"100%\",\n                      padding: \"5px 10px 5px 0px\",\n                    }}\n                  >\n                    <Tooltip title={this.props.item[\"mc_url\"] || \"\"}>\n                      <TextField\n                        label=\"Model Catalog URL\"\n                        variant=\"outlined\"\n                        fullWidth={true}\n                        name=\"mc_url\"\n                        value={this.props.item[\"mc_url\"]}\n                        onChange={(e) =>\n                          this.props.handleItemChanged(this.props.ind, e)\n                        }\n                        InputProps={{\n                          style: {\n                            backgroundColor: \"#FFFFFF\",\n                            padding: \"5px 15px\",\n                          },\n                        }}\n                      />\n                    </Tooltip>\n                  </td>\n                </tr>\n              )}\n              {this.props.useTabs && (\n                <tr style={{ border: \"None\" }}>\n                  <td\n                    style={{\n                      width: \"100%\",\n                      padding: \"5px 10px 5px 0px\",\n                    }}\n                  >\n                    <Tooltip title={this.props.item[\"tab_name\"] || \"\"}>\n                      <TextField\n                        label=\"Tab Name\"\n                        variant=\"outlined\"\n                        fullWidth={true}\n                        name=\"tab_name\"\n                        value={this.props.item[\"tab_name\"]}\n                        onChange={(e) =>\n                          this.props.handleItemChanged(this.props.ind, e)\n                        }\n                        InputProps={{\n                          style: {\n                            backgroundColor: \"#FFFFFF\",\n                            padding: \"5px 15px\",\n                          },\n                        }}\n                      />\n                    </Tooltip>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </td>\n        <ToolBar\n          handleItemMoveDown={this.props.handleItemMoveDown}\n          handleItemMoveUp={this.props.handleItemMoveUp}\n          handleItemDeleted={this.props.handleItemDeleted}\n          ind={this.props.ind}\n          numRows={this.props.numRows}\n        />\n      </tr>\n    );\n  }\n}\n\nexport class RowKG extends React.Component {\n  render() {\n    return (\n      <tr>\n        <RowIndex ind={this.props.ind} type={this.props.item[\"type\"]} />\n        <td style={{ padding: \"5px 10px 5px 0px\" }}>\n          <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n            <Tooltip title={this.props.item[\"label\"] || \"\"}>\n              <input\n                name=\"label\"\n                type=\"text\"\n                value={this.props.item[\"label\"]}\n                onChange={(e) =>\n                  this.props.handleItemChanged(this.props.ind, e)\n                }\n              />\n            </Tooltip>\n          </div>\n        </td>\n        <td\n          style={{\n            width:\n              this.props.numCols > 2\n                ? this.props.useTabs\n                  ? \"27.5\"\n                  : \"30%\"\n                : this.props.useTabs\n                ? \"55%\"\n                : \"60%\",\n            padding: \"5px 10px 5px 0px\",\n          }}\n        >\n          <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n            <Tooltip\n              title={this.props.item[\"url\"] || \"\"}\n              onClick={() =>\n                navigator.clipboard.writeText(this.props.item[\"url\"])\n              }\n            >\n              <input\n                name=\"url\"\n                type=\"text\"\n                defaultValue={this.props.item[\"url\"]}\n                disabled\n                style={{ cursor: \"pointer\", color: \"#808080\" }}\n              />\n            </Tooltip>\n          </div>\n        </td>\n        {this.props.numCols > 2 && (\n          <td\n            style={{\n              width: this.props.useTabs ? \"27.5\" : \"30%\",\n              padding: \"5px 10px 5px 0px\",\n            }}\n          >\n            <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n              <Tooltip\n                title={this.props.item[\"mc_url\"] || \"\"}\n                onClick={() =>\n                  navigator.clipboard.writeText(this.props.item[\"mc_url\"])\n                }\n              >\n                <input\n                  name=\"mc_url\"\n                  type=\"text\"\n                  defaultValue={this.props.item[\"mc_url\"]}\n                  disabled\n                  style={{ cursor: \"pointer\", color: \"#808080\" }}\n                />\n              </Tooltip>\n            </div>\n          </td>\n        )}\n        {this.props.useTabs && (\n          <td style={{ width: \"12.5%\", padding: \"5px 10px 5px 0px\" }}>\n            <div style={{ backgroundColor: \"#FFFFFF\", padding: \"0px 10px\" }}>\n              <Tooltip title={this.props.item[\"tab_name\"] || \"\"}>\n                <input\n                  name=\"tab_name\"\n                  type=\"text\"\n                  value={this.props.item[\"tab_name\"]}\n                  onChange={(e) =>\n                    this.props.handleItemChanged(this.props.ind, e)\n                  }\n                />\n              </Tooltip>\n            </div>\n          </td>\n        )}\n        <ToolBar\n          handleItemMoveDown={this.props.handleItemMoveDown}\n          handleItemMoveUp={this.props.handleItemMoveUp}\n          handleItemDeleted={this.props.handleItemDeleted}\n          ind={this.props.ind}\n          numRows={this.props.numRows}\n        />\n      </tr>\n    );\n  }\n}\n\nexport class RowKGExpanded extends React.Component {\n  render() {\n    return (\n      <tr>\n        <RowIndex ind={this.props.ind} type={this.props.item[\"type\"]} />\n        <td colSpan={this.props.numCols}>\n          <table>\n            <tbody>\n              <tr style={{ border: \"None\" }}>\n                <td style={{ width: \"100%\", padding: \"5px 10px 5px 0px\" }}>\n                  <Tooltip title={this.props.item[\"label\"] || \"\"}>\n                    <TextField\n                      label=\"Label\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"label\"\n                      value={this.props.item[\"label\"]}\n                      onChange={(e) =>\n                        this.props.handleItemChanged(this.props.ind, e)\n                      }\n                      InputProps={{\n                        style: {\n                          backgroundColor: \"#FFFFFF\",\n                          padding: \"5px 15px\",\n                        },\n                      }}\n                    />\n                  </Tooltip>\n                </td>\n              </tr>\n              <tr style={{ border: \"None\" }}>\n                <td\n                  style={{\n                    width: \"100%\",\n                    padding: \"5px 10px 5px 0px\",\n                  }}\n                >\n                  <Tooltip\n                    title={this.props.item[\"url\"] || \"\"}\n                    onClick={() =>\n                      navigator.clipboard.writeText(this.props.item[\"url\"])\n                    }\n                  >\n                    <TextField\n                      label=\"Download URL\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"url\"\n                      defaultValue={this.props.item[\"url\"]}\n                      disabled\n                      style={{ cursor: \"pointer\", color: \"#808080\" }}\n                      InputProps={{\n                        style: {\n                          backgroundColor: \"#FFFFFF\",\n                          color: \"#808080\",\n                          padding: \"5px 15px\",\n                          cursor: \"pointer\",\n                        },\n                      }}\n                    />\n                  </Tooltip>\n                </td>\n              </tr>\n              {this.props.numCols > 2 && (\n                <tr style={{ border: \"None\" }}>\n                  <td\n                    style={{\n                      width: \"100%\",\n                      padding: \"5px 10px 5px 0px\",\n                    }}\n                  >\n                    <Tooltip\n                      title={this.props.item[\"mc_url\"] || \"\"}\n                      onClick={() =>\n                        navigator.clipboard.writeText(this.props.item[\"mc_url\"])\n                      }\n                    >\n                      <TextField\n                        label=\"Model Catalog URL\"\n                        variant=\"outlined\"\n                        fullWidth={true}\n                        name=\"mc_url\"\n                        defaultValue={this.props.item[\"mc_url\"]}\n                        disabled\n                        style={{ cursor: \"pointer\", color: \"#808080\" }}\n                        InputProps={{\n                          style: {\n                            backgroundColor: \"#FFFFFF\",\n                            color: \"#808080\",\n                            padding: \"5px 15px\",\n                            cursor: \"pointer\",\n                          },\n                        }}\n                      />\n                    </Tooltip>\n                  </td>\n                </tr>\n              )}\n              {this.props.useTabs && (\n                <tr style={{ border: \"None\" }}>\n                  <td\n                    style={{\n                      width: \"100%\",\n                      padding: \"5px 10px 5px 0px\",\n                    }}\n                  >\n                    <Tooltip title={this.props.item[\"tab_name\"] || \"\"}>\n                      <TextField\n                        label=\"Tab Name\"\n                        variant=\"outlined\"\n                        fullWidth={true}\n                        name=\"tab_name\"\n                        value={this.props.item[\"tab_name\"]}\n                        onChange={(e) =>\n                          this.props.handleItemChanged(this.props.ind, e)\n                        }\n                        InputProps={{\n                          style: {\n                            backgroundColor: \"#FFFFFF\",\n                            padding: \"5px 15px\",\n                          },\n                        }}\n                      />\n                    </Tooltip>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </td>\n        <ToolBar\n          handleItemMoveDown={this.props.handleItemMoveDown}\n          handleItemMoveUp={this.props.handleItemMoveUp}\n          handleItemDeleted={this.props.handleItemDeleted}\n          ind={this.props.ind}\n          numRows={this.props.numRows}\n        />\n      </tr>\n    );\n  }\n}\n\nexport class ToolBar extends React.Component {\n  render() {\n    return (\n      <td style={{ width: \"100px\", padding: \"5px 0px 5px 10 px\" }}>\n        <div style={{ textAlign: \"center\" }}>\n          <Tooltip title=\"Move down\">\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"move down\"\n              component=\"span\"\n              style={{ paddingRight: \"5px\" }}\n              onClick={(e) => this.props.handleItemMoveDown(this.props.ind)}\n            >\n              <ForwardIcon\n                stroke={\"#000000\"}\n                strokeWidth={1}\n                style={{\n                  transform: `rotate(90deg)`,\n                  color:\n                    this.props.ind === this.props.numRows - 1\n                      ? \"#A1887F\"\n                      : \"#000000\",\n                }}\n                fontSize=\"small\"\n              />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Move up\">\n            <IconButton\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"move up\"\n              component=\"span\"\n              style={{ paddingRight: \"5px\" }}\n              onClick={(e) => this.props.handleItemMoveUp(this.props.ind, e)}\n            >\n              <ForwardIcon\n                stroke={\"#000000\"}\n                strokeWidth={1}\n                style={{\n                  transform: `rotate(270deg)`,\n                  color: this.props.ind === 0 ? \"#A1887F\" : \"#000000\",\n                }}\n                fontSize=\"small\"\n              />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Delete\">\n            <IconButton\n              color=\"secondary\"\n              size=\"small\"\n              aria-label=\"delete\"\n              component=\"span\"\n              onClick={(e) => this.props.handleItemDeleted(this.props.ind, e)}\n            >\n              <CancelIcon fontSize=\"small\" />\n            </IconButton>\n          </Tooltip>\n        </div>\n      </td>\n    );\n  }\n}\n\nexport default class DynamicTableItems extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showHelp: false,\n      dataOk: true,\n      data: props.data,\n      expandTable: false,\n    };\n\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleItemChanged = this.handleItemChanged.bind(this);\n    this.handleItemMoveDown = this.handleItemMoveDown.bind(this);\n    this.handleItemMoveUp = this.handleItemMoveUp.bind(this);\n    this.handleItemDeleted = this.handleItemDeleted.bind(this);\n    this.toggleExpand = this.toggleExpand.bind(this);\n  }\n\n  handleAdd() {\n    var items = this.props.items;\n    items.push({\n      type: \"URL\",\n      label: \"\",\n      url: \"\",\n      mc_url: \"\",\n      tab_name: \"\",\n      identifier: null,\n    });\n    this.props.onChangeValue(items);\n  }\n\n  handleItemChanged(i, event) {\n    var items = this.props.items;\n    items[i][event.target.name] = event.target.value;\n    this.props.onChangeValue(items);\n  }\n\n  handleItemMoveDown(ind) {\n    console.log(\"Move down item with index: \" + ind);\n    const maxInd = this.props.items.length;\n\n    if (ind < maxInd) {\n      var items = this.props.items;\n      items = arrayMove(items, ind, ind + 1);\n      this.props.onChangeValue(items);\n    }\n  }\n\n  handleItemMoveUp(ind) {\n    console.log(\"Move up item with index: \" + ind);\n\n    if (ind > 0) {\n      var items = this.props.items;\n      items = arrayMove(items, ind, ind - 1);\n      this.props.onChangeValue(items);\n    }\n  }\n\n  handleItemDeleted(ind) {\n    var items = this.props.items;\n    items.splice(ind, 1);\n    this.props.onChangeValue(items);\n    if (items.length === 0) {\n      this.setState({\n        expandTable: false,\n      });\n    }\n  }\n\n  toggleExpand() {\n    if (this.props.items.length > 0) {\n      this.setState((prevState) => ({\n        expandTable: !prevState.expandTable,\n      }));\n    }\n  }\n\n  renderRows(numCols, useTabs) {\n    var context = this;\n    var items = this.props.items;\n\n    return items.map(function (item, ind) {\n      return (\n        <React.Fragment key={\"item-\" + ind}>\n          {item[\"type\"] === \"URL\" ? (\n            !context.state.expandTable ? (\n              <RowURL\n                item={item}\n                handleItemChanged={context.handleItemChanged}\n                ind={ind}\n                numCols={numCols}\n                numRows={items.length}\n                useTabs={useTabs}\n                handleItemMoveDown={context.handleItemMoveDown}\n                handleItemMoveUp={context.handleItemMoveUp}\n                handleItemDeleted={context.handleItemDeleted}\n              />\n            ) : (\n              <RowURLExpanded\n                item={item}\n                handleItemChanged={context.handleItemChanged}\n                ind={ind}\n                numCols={numCols}\n                numRows={items.length}\n                useTabs={useTabs}\n                handleItemMoveDown={context.handleItemMoveDown}\n                handleItemMoveUp={context.handleItemMoveUp}\n                handleItemDeleted={context.handleItemDeleted}\n              />\n            )\n          ) : !context.state.expandTable ? (\n            <RowKG\n              item={item}\n              handleItemChanged={context.handleItemChanged}\n              ind={ind}\n              numCols={numCols}\n              numRows={items.length}\n              useTabs={useTabs}\n              handleItemMoveDown={context.handleItemMoveDown}\n              handleItemMoveUp={context.handleItemMoveUp}\n              handleItemDeleted={context.handleItemDeleted}\n            />\n          ) : (\n            <RowKGExpanded\n              item={item}\n              handleItemChanged={context.handleItemChanged}\n              ind={ind}\n              numCols={numCols}\n              numRows={items.length}\n              useTabs={useTabs}\n              handleItemMoveDown={context.handleItemMoveDown}\n              handleItemMoveUp={context.handleItemMoveUp}\n              handleItemDeleted={context.handleItemDeleted}\n            />\n          )}\n        </React.Fragment>\n      );\n    });\n  }\n\n  render() {\n    // console.log(this.props);\n    return (\n      <div>\n        <table>\n          {!this.state.expandTable && (\n            <thead>\n              <tr>\n                <th style={{ padding: \"5px 10px\", textAlign: \"center\" }}>#</th>\n                <th style={{ padding: \"5px 10px\" }}>Label</th>\n                <th style={{ padding: \"5px 10px\" }}>Download URL</th>\n                {this.props.numCols > 2 && (\n                  <th style={{ padding: \"5px 10px\" }}>Model Catalog URL</th>\n                )}\n                {this.props.useTabs && (\n                  <th style={{ padding: \"5px 10px\" }}>Tab Name</th>\n                )}\n                <th style={{ padding: \"5px 0px 5px 10 px\" }}>\n                  {/* delete button */}\n                </th>\n              </tr>\n            </thead>\n          )}\n          <tbody>\n            {this.renderRows(this.props.numCols, this.props.useTabs)}\n          </tbody>\n        </table>\n        <div\n          style={{\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            paddingTop: \"20px\",\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.toggleExpand}\n            style={{\n              width: \"160px\",\n              marginRight: \"25px\",\n              backgroundColor: \"#795548\",\n            }}\n            startIcon={<AspectRatioIcon />}\n          >\n            Expand Table\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.props.handleEdit}\n            style={{\n              width: \"160px\",\n              marginRight: \"25px\",\n              backgroundColor: \"#B71C1C\",\n            }}\n            startIcon={<EditIcon />}\n          >\n            Edit Source\n          </Button>\n          {this.props.handleKG && (\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.props.handleKG}\n              style={{\n                width: \"160px\",\n                marginRight: \"25px\",\n                backgroundColor: \"#388E3C\",\n              }}\n              startIcon={<StorageIcon />}\n            >\n              Add From KG\n            </Button>\n          )}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.handleAdd.bind(this)}\n            style={{ width: \"160px\" }}\n            startIcon={<AddCircleOutlineIcon />}\n          >\n            Add Row\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./ToggleSwitch.css\";\n\n/*\nToggle Switch Component\nNote: id, checked and onChange are required for ToggleSwitch component to function. The props name, small, disabled\nand optionLabels are optional.\nUsage: <ToggleSwitch id=\"id\" checked={value} onChange={checked => setValue(checked)}} />\n*/\n\nconst ToggleSwitch = ({\n  id,\n  name,\n  checked,\n  onChange,\n  optionLabels,\n  small,\n  disabled,\n}) => {\n  function handleKeyPress(e) {\n    if (e.keyCode !== 32) return;\n\n    e.preventDefault();\n    onChange(!checked);\n  }\n\n  return (\n    <div className={\"toggle-switch\" + (small ? \" small-switch\" : \"\")}>\n      <input\n        type=\"checkbox\"\n        name={name}\n        className=\"toggle-switch-checkbox\"\n        id={id}\n        checked={checked}\n        onChange={(e) => onChange(e.target.checked)}\n        disabled={disabled}\n      />\n      {id ? (\n        <label\n          className=\"toggle-switch-label\"\n          tabIndex={disabled ? -1 : 1}\n          onKeyDown={(e) => handleKeyPress(e)}\n          htmlFor={id}\n        >\n          <span\n            className={\n              disabled\n                ? \"toggle-switch-inner toggle-switch-disabled\"\n                : \"toggle-switch-inner\"\n            }\n            data-yes={optionLabels[0]}\n            data-no={optionLabels[1]}\n            tabIndex={-1}\n          />\n          <span\n            className={\n              disabled\n                ? \"toggle-switch-switch toggle-switch-disabled\"\n                : \"toggle-switch-switch\"\n            }\n            tabIndex={-1}\n          />\n        </label>\n      ) : null}\n    </div>\n  );\n};\n\n// Set optionLabels for rendering.\nToggleSwitch.defaultProps = {\n  optionLabels: [\"Yes\", \"No\"],\n};\n\nToggleSwitch.propTypes = {\n  id: PropTypes.string.isRequired,\n  checked: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  optionLabels: PropTypes.array,\n  small: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nexport default ToggleSwitch;\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaterialIconSelector from \"./MaterialIconSelector\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ModalDialog from \"./ModalDialog\";\nimport DialogConfirm from \"./DialogConfirm\";\nimport DynamicTableItems from \"./DynamicTableItems\";\nimport ToggleSwitch from \"./ToggleSwitch\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport UnfoldLessIcon from \"@material-ui/icons/UnfoldLess\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport styled from \"styled-components\";\n\nfunction HelpContent() {\n  const list_of_dicts = `\n    [\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/morphologies/oh140807_A0_idB.asc\",\n          \"label\": \"file_A\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/morphologies/oh140807_A0_idC.asc\",\n          \"label\": \"file_B\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/morphologies/oh140807_A0_idF.asc\",\n          \"label\": \"file_C\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/morphologies/oh140807_A0_idG.asc\",\n          \"label\": \"file_D\",\n          \"identifier\": null,\n          \"tab_name\": \"Group B\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/morphologies/oh140807_A0_idH.asc\",\n          \"label\": \"file_E\",\n          \"identifier\": null,\n          \"tab_name\": \"Group B\"\n        },\n      ]`;\n\n  return (\n    <div>\n      The morphology data can be input in the following format:\n      <br />\n      <br />\n      <h6>\n        <b>List of dicts/objects</b>\n      </h6>\n      Each dict in the list should have keys named 'type', 'url', 'label',\n      'identifier' and 'tab_name'. The 'identifier' field corresponds to the\n      Knowledge Graph UUID. For manually entered items, 'type' and 'identifier'\n      can be set to 'URL' and 'null', respectively. <i>Example:</i>\n      <br />\n      <pre>\n        <code>{list_of_dicts}</code>\n      </pre>\n    </div>\n  );\n}\n\nexport class SectionMorphologyEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showHelp: false,\n      dataOk: true,\n      data: props.data,\n    };\n\n    this.clickHelp = this.clickHelp.bind(this);\n    this.handleHelpClose = this.handleHelpClose.bind(this);\n    this.handleDataInputOnBlur = this.handleDataInputOnBlur.bind(this);\n    this.handleSaveData = this.handleSaveData.bind(this);\n  }\n\n  clickHelp() {\n    this.setState({\n      showHelp: true,\n    });\n  }\n\n  handleHelpClose() {\n    this.setState({\n      showHelp: false,\n    });\n  }\n\n  handleDataInputOnBlur(event) {\n    // check data input format\n    function IsJsonString(str) {\n      try {\n        var json = JSON.parse(str);\n        return typeof json === \"object\";\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (IsJsonString(event.target.value)) {\n      console.log(\"Input: JSON\");\n      // input is a JSON\n      var data_json = JSON.parse(event.target.value);\n\n      // check if list of dicts in required format\n      function checkIfObject(item) {\n        return (\n          typeof item === \"object\" &&\n          item !== null &&\n          \"url\" in item &&\n          \"label\" in item &&\n          \"tab_name\" in item &&\n          typeof item[\"url\"] === \"string\" &&\n          typeof item[\"label\"] === \"string\" &&\n          typeof item[\"tab_name\"] === \"string\"\n        );\n      }\n\n      if (Array.isArray(data_json) && data_json.every(checkIfObject)) {\n        // data is a list of dicts\n        console.log(\"Input: JSON - list of dicts\");\n        this.setState({\n          dataOk: true,\n          data: data_json,\n        });\n      } else {\n        console.log(\"Input: JSON - invalid format\");\n        this.setState({\n          dataOk: false,\n        });\n      }\n    } else {\n      console.log(\"Data not in proper format!\");\n      this.setState({\n        dataOk: false,\n      });\n    }\n  }\n\n  handleSaveData(flag) {\n    if (flag) {\n      console.log(flag);\n      if (this.state.dataOk) {\n        console.log(\"Saved\");\n        this.props.onChangeValue(this.state.data);\n        this.props.handleClose();\n      } else {\n        console.log(\"Error\");\n        console.log(\"Edited data not in proper format!\");\n      }\n    } else {\n      this.props.handleClose();\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <Grid item xs={12}>\n          <TextField\n            multiline\n            rows=\"8\"\n            label=\"Edit source code for listing:\"\n            variant=\"outlined\"\n            fullWidth={true}\n            helperText={\"Click 'Help' for info on input format.\"}\n            name=\"data\"\n            defaultValue={JSON.stringify(this.state.data, null, 4)}\n            onBlur={this.handleDataInputOnBlur}\n            error={!this.state.dataOk}\n            InputProps={{\n              style: {\n                padding: \"15px 15px\",\n                backgroundColor: \"#FFFFFF\",\n              },\n            }}\n          />\n          {!this.state.dataOk && (\n            <div style={{ color: \"red\", paddingTop: \"10px\" }}>\n              <strong>\n                Data not in expected format! Click on 'Help' for more info.\n              </strong>\n            </div>\n          )}\n        </Grid>\n        {this.state.showHelp ? (\n          <ModalDialog\n            open={this.state.showHelp}\n            title=\"Data Input\"\n            headerBgColor=\"#FF9800\"\n            content={<HelpContent />}\n            handleClose={this.handleHelpClose}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  render() {\n    console.log(this.props);\n    return (\n      <DialogConfirm\n        open={this.props.open}\n        title={\"Edit Source: \" + this.props.title}\n        headerBgColor=\"#FF9800\"\n        content={this.renderContent()}\n        handleClose={this.handleSaveData}\n        clickHelp={this.clickHelp}\n      />\n    );\n  }\n}\n\nconst Icon = styled((props) => (\n  <div {...props} style={{ color: \"#000000\" }}>\n    <div className=\"y\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldMoreIcon />\n      </span>\n    </div>\n    <div className=\"n\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldLessIcon />\n      </span>\n    </div>\n  </div>\n))`\n  & > .y {\n    display: block;\n  }\n  & > .n {\n    display: none;\n  }\n  .Mui-expanded & > .n {\n    display: block;\n  }\n  .Mui-expanded & > .y {\n    display: none;\n  }\n`;\n\nexport default class SectionMorphology extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: null,\n      type: \"section_morphology\",\n      title: \"Morphologies\",\n      icon: \"settings_input_antenna\",\n      description: \"\",\n      dataOk: true,\n      dataFormatted: [],\n      showEdit: false,\n      deleteOpen: false,\n      expanded: true,\n      useTabs: false,\n      ...props.data,\n    };\n\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.clickEdit = this.clickEdit.bind(this);\n    this.handleEditClose = this.handleEditClose.bind(this);\n    this.setIcon = this.setIcon.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleMoveDown = this.handleMoveDown.bind(this);\n    this.handleMoveUp = this.handleMoveUp.bind(this);\n    this.toggleExpanded = this.toggleExpanded.bind(this);\n    this.handleItemsChange = this.handleItemsChange.bind(this);\n    this.toggleUseTabs = this.toggleUseTabs.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.storeSectionInfo(this.state);\n  }\n\n  handleItemsChange(items_data) {\n    // remove all entries where label and url are all empty\n    // function isNotEmpty(item) {\n    //   if (\n    //     item.label.trim() !== \"\" ||\n    //     item.url.trim() !== \"\"\n    //   ) {\n    //     return true;\n    //   } else {\n    //     return false;\n    //   }\n    // }\n    // var items_data = data.filter(isNotEmpty);\n    // console.log(items_data);\n    if (items_data.length === 0) {\n      items_data = [\n        {\n          type: \"URL\",\n          label: \"\",\n          url: \"\",\n          identifier: null,\n          tab_name: \"\",\n        },\n      ];\n    }\n\n    this.setState(\n      {\n        dataFormatted: items_data,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  toggleExpanded() {\n    console.log(this.state.expanded);\n    this.setState(\n      (prevState) => ({\n        expanded: !prevState.expanded,\n      }),\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  handleDelete(flag) {\n    console.log(flag);\n    this.setState({ deleteOpen: false });\n    if (flag) {\n      this.props.handleDelete(this.state.order);\n    }\n  }\n\n  handleMoveDown(event) {\n    event.stopPropagation();\n    this.props.handleMoveDown(this.state.order);\n  }\n\n  handleMoveUp(event) {\n    event.stopPropagation();\n    this.props.handleMoveUp(this.state.order);\n  }\n\n  handleFieldChange(event) {\n    console.log(event);\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n    // console.log(name + \" => \" + value);\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  setIcon(icon_name) {\n    this.setState(\n      {\n        icon: icon_name,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  clickEdit() {\n    this.setState({\n      showEdit: true,\n    });\n  }\n\n  handleEditClose() {\n    this.setState({\n      showEdit: false,\n    });\n  }\n\n  toggleUseTabs() {\n    if (this.state.useTabs) {\n      // if turning off, then erase all tabs data\n      let dataFormatted = this.state.dataFormatted;\n      dataFormatted.forEach(function (item, index) {\n        item.tab_name = \"\";\n      });\n      this.setState(\n        {\n          dataFormatted: dataFormatted,\n          useTabs: false,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    } else {\n      this.setState(\n        {\n          useTabs: true,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    }\n  }\n\n  render() {\n    // console.log(this.state.dataFormatted);\n    return (\n      <div style={{ width: \"100%\", paddingTop: \"25px\", paddingBottom: \"25px\" }}>\n        <Accordion\n          expanded={this.state.expanded}\n          onChange={this.toggleExpanded}\n        >\n          <AccordionSummary\n            expandIcon={<Icon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              borderStyle: \"solid\",\n              borderColor: \"#E65100\",\n              borderWidth: \"2px\",\n              backgroundColor: \"#FF9800\",\n              fontWeight: \"bold\",\n              color: \"#000000\",\n              width: \"100%\",\n              paddingRight: \"25px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                flexDirection: \"row\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  fontWeight: \"bolder\",\n                  fontSize: 16,\n                  color: \"#000000\",\n                }}\n              >\n                <span style={{ verticalAlign: \"middle\" }}>\n                  Section: Neuronal Morphology\n                </span>\n              </div>\n              <div>\n                <Tooltip title=\"Delete this section\">\n                  <DeleteForeverIcon\n                    style={{\n                      height: \"25px\",\n                      width: \"25px\",\n                      marginRight: \"30px\",\n                      color: \"#000000\",\n                    }}\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      this.setState({ deleteOpen: true });\n                    }}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section down\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"30px\",\n                      transform: `rotate(90deg)`,\n                      color:\n                        this.state.order === this.props.numResources - 1\n                          ? \"#A1887F\"\n                          : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveDown(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section up\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"20px\",\n                      transform: `rotate(270deg)`,\n                      color: this.state.order === 0 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveUp(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n              </div>\n            </div>\n          </AccordionSummary>\n          <AccordionDetails\n            style={{ paddingLeft: 0, paddingRight: 0, paddingBottom: 0 }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#FFECD1\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  marginLeft: \"10px\",\n                  marginRight: \"10px\",\n                }}\n              >\n                <br />\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ width: \"50px\" }}>\n                    <MaterialIconSelector\n                      size=\"35px\"\n                      icon={this.state.icon}\n                      setIcon={this.setIcon}\n                    />\n                  </div>\n                  <div style={{ paddingLeft: \"20px\", flexGrow: 1 }}>\n                    <TextField\n                      label=\"Section Title\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.handleFieldChange}\n                      InputProps={{\n                        style: {\n                          padding: \"5px 15px\",\n                          backgroundColor: \"#FFFFFF\",\n                        },\n                      }}\n                    />\n                  </div>\n                </div>\n                <br />\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"2\"\n                    label=\"Description of morphologies (optional)\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"The description may be formatted with Markdown\"\n                    name=\"description\"\n                    value={this.state.description}\n                    onChange={this.handleFieldChange}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                        backgroundColor: \"#FFFFFF\",\n                      },\n                    }}\n                  />\n                </Grid>\n                <br />\n                <Grid\n                  item\n                  xs={12}\n                  style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                >\n                  <span style={{ paddingRight: \"10px\" }}>\n                    Do you wish to use tabs to group items in this section?\n                  </span>\n                  <ToggleSwitch\n                    id=\"morphologiesTabs\"\n                    checked={this.state.useTabs}\n                    onChange={this.toggleUseTabs}\n                  />\n                </Grid>\n                {this.state.useTabs && (\n                  <Grid\n                    item\n                    xs={12}\n                    style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                  >\n                    <em>\n                      Note: All items to be grouped together should be assigned\n                      the same tab name.\n                    </em>\n                  </Grid>\n                )}\n                <DynamicTableItems\n                  items={this.state.dataFormatted}\n                  onChangeValue={this.handleItemsChange}\n                  handleEdit={this.clickEdit}\n                  numCols={2}\n                  useTabs={this.state.useTabs}\n                />\n                <br />\n                <br />\n                {this.state.showEdit ? (\n                  <SectionMorphologyEdit\n                    open={this.state.showEdit}\n                    title={this.state.title}\n                    data={this.state.dataFormatted}\n                    onChangeValue={this.handleItemsChange}\n                    handleClose={this.handleEditClose}\n                  />\n                ) : null}\n              </div>\n              <DialogConfirm\n                open={this.state.deleteOpen}\n                title=\"Please confirm to delete!\"\n                headerBgColor=\"#FF9800\"\n                content={\n                  \"Do you wish to delete the morphology resource section with title: <b>\" +\n                  this.state.title +\n                  \"</b>\"\n                }\n                handleClose={this.handleDelete}\n                size=\"xs\"\n                onChangeValue={this.handleItemsChange}\n              />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\n\nconst addLineBreaks = (string) =>\n  string.split(\"\\n\").map((text, index) => (\n    <React.Fragment key={`${text}-${index}`}>\n      {text}\n      <br />\n    </React.Fragment>\n  ));\n\nfunction reformatErrorMessage(errorResponse) {\n  let output = \"Error code = \" + errorResponse.status;\n  if (typeof errorResponse.data.detail === \"string\") {\n    output += \"\\n\\n\" + errorResponse.data.detail;\n  } else {\n    // presuming keys 'loc' and 'msg' exist; update func if necessary to handle other cases\n    errorResponse.data.detail.forEach(function (entry, index) {\n      let error_loc = entry.loc.join(\" -> \");\n      let error_msg = entry.msg;\n      output += \"\\n\\n\";\n      output += \"Error source #\" + (index + 1) + \": \" + error_loc;\n      output += \"\\nError message: \" + error_msg;\n    });\n  }\n  return output;\n}\n\nexport default function ErrorDialog(props) {\n  //   console.log(\"ErrorDialog: \" + props.error);\n  return (\n    <Dialog\n      open={props.open}\n      onClose={props.handleErrorDialogClose}\n      aria-labelledby=\"simple-ErrorDialog-title\"\n      // fullWidth={true}\n      maxWidth=\"sm\"\n    >\n      <DialogTitle style={{ backgroundColor: \"#ffd180\" }}>\n        <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n          There seems to be a problem...\n        </span>\n      </DialogTitle>\n      <DialogContent>\n        <Box my={2}>\n          <Typography variant=\"body1\" gutterBottom>\n            {props.error\n              ? typeof props.error === \"string\"\n                ? addLineBreaks(props.error)\n                : addLineBreaks(reformatErrorMessage(props.error))\n              : \"Please report this error at:\\nhttps://github.com/appukuttan-shailesh/live-paper-builder/issues\"}\n          </Typography>\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.handleErrorDialogClose} color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default function LoadingIndicator(props) {\n\tlet position = props.position || \"relative\";\n\tif (position === \"relative\") {\n\t\treturn (\n\t\t\t<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '50px', marginBottom: '50px' }}>\n\t\t\t\t<CircularProgress size={props.size || 30} />\n\t\t\t</div>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<div style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)' }}>\n\t\t\t\t<CircularProgress />\n\t\t\t</div>\n\t\t)\n\t}\n};","export function showNotification(\n  enqueueSnackbar,\n  closeSnackbar,\n  message,\n  type = \"default\"\n) {\n  // type: default, success, error, warning, info\n  const key = enqueueSnackbar(message, {\n    variant: type,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\",\n    },\n    onClick: () => {\n      closeSnackbar(key);\n    },\n  });\n}\n\nexport function replaceEmptyStringsWithNull(param) {\n  if (param === null) {\n    return param;\n  } else if (typeof param === \"string\") {\n    return param === \"\" ? null : param;\n  } else if (Array.isArray(param)) {\n    return param.map((element) => replaceEmptyStringsWithNull(element));\n  } else if (typeof param === \"object\") {\n    Object.entries(param).map(function ([key, val]) {\n      return (param[key] = replaceEmptyStringsWithNull(val));\n    });\n    return param;\n  } else {\n    // e.g. number, boolean\n    return param;\n  }\n}\n\nexport function replaceNullWithEmptyStrings(param) {\n  if (param === null) {\n    // Note: null is also object, but explictly comared before testing for object below\n    return \"\";\n  } else if (typeof param === \"string\") {\n    return param;\n  } else if (Array.isArray(param)) {\n    return param.map((element) => replaceNullWithEmptyStrings(element));\n  } else if (typeof param === \"object\") {\n    Object.entries(param).map(function ([key, val]) {\n      return (param[key] = replaceNullWithEmptyStrings(val));\n    });\n    return param;\n  } else {\n    // e.g. number, boolean\n    return param;\n  }\n}\n\nexport function compareArrayoOfObjectsByOrder(a, b) {\n  if (a.order < b.order) {\n    return -1;\n  } else {\n    return 1;\n  }\n}\n\nexport function formatAuthors(authors) {\n  if (authors) {\n    return authors\n      .map((author) => author.given_name + \" \" + author.family_name)\n      .join(\", \");\n  } else {\n    return \"\";\n  }\n}\n\nexport function formatTimeStampToLongString(ISOtimestamp) {\n  if (ISOtimestamp) {\n    const d = new Date(ISOtimestamp);\n    return d.toUTCString();\n  } else {\n    return \"\";\n  }\n}\n\nexport const flattenNestedObject = (obj) => {\n  const flattened = {};\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\n      Object.assign(flattened, flattenNestedObject(obj[key]));\n    } else {\n      flattened[key] = obj[key];\n    }\n  });\n  return flattened;\n};\n\nexport function formatLabel(label) {\n  // function to format labels by converting underscores and hyphens to spaces, and\n  // capitalizing each word; certain specific labels are changed entirely to uppercase\n  if ([\"id\", \"uri\"].indexOf(label) > -1) {\n    label = label.toUpperCase();\n  } else {\n    if (label === \"project_id\") {\n      label = \"collab_id\";\n    }\n    label = label.replace(/_/g, \" \");\n    label = label.replace(/-/g, \" \");\n    label = label\n      .toLowerCase()\n      .split(\" \")\n      .map((word) =>\n        word === \"id\" ? \"ID\" : word.charAt(0).toUpperCase() + word.slice(1)\n      )\n      .join(\" \");\n  }\n  return label;\n}\n\nexport function buildQuery(filterDict) {\n  let q = \"\";\n  for (var key in filterDict) {\n    for (var value of filterDict[key]) {\n      q += `&${key}=${value}`;\n    }\n  }\n  return q.slice(1);\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Select from \"@material-ui/core/Select\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nimport { formatLabel } from \"./utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 700,\n    maxWidth: 900,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 8.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nexport default function MultipleSelect(props) {\n  const classes = useStyles();\n  //const [itemName, setItemName] = React.useState([]);\n  const fieldId = \"select-\" + props.label.replace(\" \", \"-\");\n  const fieldLabelId = fieldId + \"-label\";\n  const fieldName = props.label.replace(\" \", \"_\");\n\n  //   const handleChange = event => {\n  //     setItemName(event.target.value);\n  //   };\n\n  return (\n    <div>\n      <FormControl className={classes.formControl}>\n        <InputLabel id={fieldLabelId}>{formatLabel(props.label)}</InputLabel>\n        <Select\n          labelId={fieldLabelId}\n          id={fieldId}\n          multiple\n          value={props.value}\n          name={fieldName}\n          onChange={props.handleChange}\n          input={<Input />}\n          renderValue={(selected) => selected.join(\", \")}\n          MenuProps={MenuProps}\n        >\n          {props.itemNames.map((name) => (\n            <MenuItem key={name} value={name}>\n              <Checkbox checked={props.value.indexOf(name) > -1} />\n              <ListItemText primary={name} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","// NOTE: dummy data (in 'dev_data' directory) for DevMode is from v1 APIs; needs to be updated for v2 usage\nexport const baseUrl = \"https://validation-v2.brainsimulation.eu\";\nexport const mc_baseUrl = \"https://model-catalog.brainsimulation.eu\";\nexport const nar_baseUrl = \"https://neural-activity-resource.brainsimulation.eu\";\nexport const lp_tool_version = \"0.2\";\nexport const timeout = 1000;\nexport const querySizeLimit = 10;\n// export const querySizeLimit = 1000000;\nexport const separator = \"#-#\";\nexport const filterModelsKeys = [\"species\", \"brain_region\", \"cell_type\", \"model_scope\", \"abstraction_level\"];\nexport const filterTracesKeys = [\"species\", \"brain_region\", \"cell_type\"];\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AddToQueueIcon from \"@material-ui/icons/AddToQueue\";\nimport RemoveFromQueueIcon from \"@material-ui/icons/RemoveFromQueue\";\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\nimport Chip from \"@material-ui/core/Chip\";\nimport RadioButtonCheckedIcon from \"@material-ui/icons/RadioButtonChecked\";\nimport RadioButtonUncheckedIcon from \"@material-ui/icons/RadioButtonUnchecked\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MaterialTable, { MTableToolbar } from \"@material-table/core\";\nimport ErrorDialog from \"./ErrorDialog\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport ContextMain from \"./ContextMain\";\nimport MultipleSelect from \"./MultipleSelect\";\nimport axios from \"axios\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Link from \"@material-ui/core/Link\";\nimport { nar_baseUrl, querySizeLimit, filterTracesKeys } from \"./globals\";\nimport { buildQuery } from \"./utils\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon style={{ color: \"#000000\" }} />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\n// define the columns for the material data table\nconst TABLE_COLUMNS = [\n  {\n    field: \"id\",\n    title: \"ID\",\n    hidden: true,\n  },\n  {\n    field: \"label\",\n    title: \"Label\",\n  },\n  {\n    field: \"modality\",\n    title: \"Modality\",\n  },\n  {\n    field: \"stimulation\",\n    title: \"Stimulation\",\n  },\n  {\n    field: \"timestamp\",\n    title: \"Timestamp\",\n    hidden: true,\n  },\n  {\n    field: \"species\",\n    title: \"Species\",\n    hidden: true,\n  },\n  {\n    field: \"cell_type\",\n    title: \"Cell Type\",\n    hidden: true,\n  },\n  {\n    field: \"location\",\n    title: \"Location\",\n    hidden: true,\n    hiddenByColumnsButton: true,\n  },\n  {\n    field: \"view_url\",\n    title: \"View URL\",\n    hidden: true,\n    hiddenByColumnsButton: true,\n  },\n  {\n    field: \"parent_name\",\n    title: \"Parent Name\",\n    hidden: true,\n    hiddenByColumnsButton: true,\n  },\n  {\n    field: \"parent_id\",\n    title: \"Parent ID\",\n    hidden: true,\n    hiddenByColumnsButton: true,\n  },\n];\n\nfunction IncludeButton(props) {\n  //   console.log(props);\n  if (props.includeFlag) {\n    return (\n      <Tooltip title=\"Remove trace instance from collection\" placement=\"top\">\n        <Button\n          variant=\"contained\"\n          style={{\n            backgroundColor: \"#FF5722\",\n            border: \"solid\",\n            borderColor: \"#000000\",\n            borderWidth: \"1px\",\n            width: \"150px\",\n          }}\n          startIcon={<RemoveFromQueueIcon />}\n          onClick={() =>\n            props.removeInstanceCollection(props.trace_id, props.instance_id)\n          }\n        >\n          Remove\n        </Button>\n      </Tooltip>\n    );\n  } else {\n    return (\n      <Tooltip title=\"Add trace instance to collection\" placement=\"top\">\n        <Button\n          variant=\"contained\"\n          style={{\n            backgroundColor: \"#81C784\",\n            border: \"solid\",\n            borderColor: \"#000000\",\n            borderWidth: \"1px\",\n            width: \"150px\",\n          }}\n          startIcon={<AddToQueueIcon />}\n          onClick={() =>\n            props.addInstanceCollection(\n              props.trace_id,\n              props.trace_name,\n              props.instance_id,\n              props.instance_name,\n              props.source_url,\n              props.view_url\n            )\n          }\n        >\n          Add\n        </Button>\n      </Tooltip>\n    );\n  }\n}\n\nfunction InstanceParameter(props) {\n  return (\n    <div style={{ width: \"1000px\" }}>\n      <Grid container>\n        <Grid item xs={9}>\n          <Box\n            component=\"div\"\n            my={2}\n            bgcolor=\"white\"\n            overflow=\"scroll\"\n            border={1}\n            borderColor=\"grey.500\"\n            borderRadius={10}\n            style={{\n              padding: 10,\n              cursor: \"pointer\",\n            }}\n            whiteSpace=\"nowrap\"\n          >\n            {props.value || \"\"}\n          </Box>\n        </Grid>\n        {/* <Grid item xs={3}>\n        <Box component=\"div\" my={2}>\n          <Button\n            variant=\"contained\"\n            style={{\n              textTransform: \"none\",\n            }}\n            //   onClick={() => doSomething(props.value)}\n          >\n            MyButton\n          </Button>\n        </Box>\n      </Grid> */}\n      </Grid>\n    </div>\n  );\n}\n\nclass TraceVersion extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedParam: \"location\",\n    };\n  }\n\n  render() {\n    return (\n      <Box\n        my={2}\n        pb={0}\n        style={{ backgroundColor: \"#FFF1CC\", marginBottom: \"20px\" }}\n        key={this.props.ind}\n      >\n        <Grid\n          container\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            backgroundColor: \"#FFD180\",\n          }}\n        >\n          <Grid item xs={6}>\n            <Box px={2} display=\"flex\" flexDirection=\"row\">\n              <p variant=\"subtitle2\">\n                Record #:{\" \"}\n                <span style={{ cursor: \"pointer\", fontWeight: \"bold\" }}>\n                  {this.props.ind + 1}\n                </span>\n              </p>\n            </Box>\n          </Grid>\n        </Grid>\n        <Grid container spacing={3} alignItems=\"flex-end\">\n          <Grid item xs={9}>\n            <div style={{ padding: \"10px 0px 0px 10px\" }}>\n              <div>\n                {[\"description\", \"location\"].map((param, ind) => (\n                  <Chip\n                    icon={\n                      this.state.selectedParam === param ? (\n                        <RadioButtonCheckedIcon />\n                      ) : (\n                        <RadioButtonUncheckedIcon />\n                      )\n                    }\n                    key={ind}\n                    label={param}\n                    clickable\n                    onClick={() => this.setState({ selectedParam: param })}\n                    variant=\"outlined\"\n                    style={{ color: \"#000000\", marginRight: \"10px\" }}\n                  />\n                ))}\n              </div>\n              <InstanceParameter\n                label={\"param\"}\n                value={this.props.instance[this.state.selectedParam]}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={3} style={{ paddingBottom: \"35px\" }}>\n            <IncludeButton\n              includeFlag={this.props.checkInstanceInCollection(\n                this.props.trace_id,\n                this.props.ind.toString()\n              )}\n              trace_id={this.props.trace_id}\n              trace_name={this.props.trace_name}\n              instance_id={this.props.ind.toString()}\n              instance_name={this.props.ind.toString()}\n              source_url={this.props.instance.location}\n              view_url={this.props.view_url}\n              addInstanceCollection={this.props.addInstanceCollection}\n              removeInstanceCollection={this.props.removeInstanceCollection}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  }\n}\n\nclass TraceVersionsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedParam: \"source\",\n    };\n  }\n\n  render() {\n    // console.log(this.props);\n    return (\n      <Grid item style={{ backgroundColor: \"#CFD8DC\", padding: \"20px\" }}>\n        <Grid container direction=\"row\">\n          <Grid\n            item\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              width: \"100%\",\n              verticalAlign: \"middle\",\n            }}\n          >\n            <Typography variant=\"subtitle1\">\n              <b>Versions</b>\n            </Typography>\n            <Link\n              href={this.props.data.view_url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              underline=\"none\"\n            >\n              <Button\n                variant=\"contained\"\n                style={{ color: \"#455A64\" }}\n                startIcon={<OpenInNewIcon />}\n              >\n                Open Page\n              </Button>\n            </Link>\n          </Grid>\n        </Grid>\n        {this.props.data.instances.length === 0 ? (\n          <div style={{ fontSize: 14 }}>\n            <br />\n            No records have yet been registered for this trace.\n          </div>\n        ) : (\n          this.props.data.instances.map((instance, ind) => (\n            <div style={{ marginBottom: \"25px\" }} key={ind}>\n              <TraceVersion\n                trace_id={this.props.data.id}\n                trace_name={this.props.data.label}\n                instance={instance}\n                view_url={this.props.data.view_url}\n                ind={ind}\n                addInstanceCollection={this.props.addInstanceCollection}\n                removeInstanceCollection={this.props.removeInstanceCollection}\n                checkInstanceInCollection={this.props.checkInstanceInCollection}\n              />\n            </div>\n          ))\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport class KGContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedRows: [],\n      filtering: false,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <MaterialTable\n          title=\"Electrophysiological Recordings\"\n          data={this.props.data}\n          columns={TABLE_COLUMNS}\n          options={{\n            columnsButton: true,\n            search: true,\n            paging: false,\n            filtering: this.state.filtering,\n            sorting: true,\n            //   selection: true,\n            exportButton: false,\n            maxBodyHeight: \"60vh\",\n            headerStyle: {\n              position: \"sticky\",\n              top: 0,\n              backgroundColor: \"#FFF\",\n              fontWeight: \"bolder\",\n              fontSize: 15,\n            },\n            rowStyle: (rowData) => ({\n              backgroundColor: this.state.selectedRows.includes(\n                rowData.tableData.id\n              )\n                ? \"#FFD180\"\n                : \"#EEEEEE\",\n            }),\n          }}\n          actions={[\n            {\n              icon: \"filter_list\",\n              onClick: () =>\n                this.setState({ filtering: !this.state.filtering }),\n              position: \"toolbar\",\n              tooltip: \"Show Filters\",\n            },\n          ]}\n          detailPanel={(rowData) => {\n            return (\n              <TraceVersionsPanel\n                data={rowData}\n                addInstanceCollection={this.props.addInstanceCollection}\n                removeInstanceCollection={this.props.removeInstanceCollection}\n                checkInstanceInCollection={this.props.checkInstanceInCollection}\n              />\n            );\n          }}\n          onRowClick={(event, selectedRow, togglePanel) => {\n            togglePanel();\n          }}\n          components={{\n            Toolbar: (props) => (\n              <div\n                style={{\n                  backgroundColor: \"#FFD180\",\n                  fontWeight: \"bolder !important\",\n                }}\n              >\n                <MTableToolbar {...props} />\n              </div>\n            ),\n          }}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n            paddingLeft: \"2.5%\",\n            paddingRight: \"2.5%\",\n            paddingTop: \"10px\",\n            width: \"100%\",\n          }}\n        >\n          <h6>\n            {\"Number of trace instances selected: \" +\n              this.props.countTotalInstances()}\n          </h6>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default class KGInputTraces extends React.Component {\n  signal = axios.CancelToken.source();\n  static contextType = ContextMain;\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      loading: false,\n      list_traces: [],\n      error: null,\n      trace_collection: {},\n      showFilters: true,\n      configFilters: {},\n    };\n\n    this.getListTraces = this.getListTraces.bind(this);\n    this.handleErrorDialogClose = this.handleErrorDialogClose.bind(this);\n    this.addInstanceCollection = this.addInstanceCollection.bind(this);\n    this.removeInstanceCollection = this.removeInstanceCollection.bind(this);\n    this.checkInstanceInCollection = this.checkInstanceInCollection.bind(this);\n    this.countTotalInstances = this.countTotalInstances.bind(this);\n    this.showFiltersPanel = this.showFiltersPanel.bind(this);\n    this.handleFiltersChange = this.handleFiltersChange.bind(this);\n    this.handleKGProceed = this.handleKGProceed.bind(this);\n  }\n\n  getListTraces() {\n    let config = {\n      cancelToken: this.signal.token,\n      headers: {\n        Authorization: \"Bearer \" + this.context.auth[0].token,\n      },\n    };\n    let query = buildQuery(this.state.configFilters);\n    let url =\n      nar_baseUrl +\n      \"/recordings/?\" +\n      encodeURI(query) +\n      \"summary=false&size=\" +\n      querySizeLimit +\n      \"&from_index=0\";\n    this.setState({ loading: true });\n    axios\n      .get(url, config)\n      .then((res) => {\n        console.log(res.data.results);\n        let traces = [];\n        res.data.results.forEach((item) =>\n          traces.push({\n            id: item.identifier,\n            label: item.label,\n            modality: item.modality,\n            stimulation: item.stimulation,\n            timestamp: item.timestamp,\n            species: item.recorded_from ? item.recorded_from.species : null,\n            cell_type: item.recorded_from ? item.recorded_from.cell_type : null,\n            instances: item.data_location,\n            view_url: item.part_of ? item.part_of.uri : null,\n            parent_name: item.part_of ? item.part_of.name : null,\n            parent_id: item.part_of ? item.part_of.identifier : null,\n          })\n        );\n\n        console.log(traces);\n        this.setState({\n          list_traces: traces,\n          loading: false,\n          error: null,\n        });\n      })\n      .catch((err) => {\n        if (axios.isCancel(err)) {\n          console.log(\"errorUpdate: \", err.message);\n        } else {\n          // Something went wrong. Save the error in state and re-render.\n          this.setState({\n            loading: false,\n            error: err,\n          });\n        }\n      });\n  }\n\n  handleErrorDialogClose() {\n    this.setState({ error: null });\n  }\n\n  addInstanceCollection(\n    trace_id,\n    trace_name,\n    instance_id,\n    instance_name,\n    source_url,\n    view_url\n  ) {\n    console.log(\"Add\");\n\n    let trace_collection = this.state.trace_collection;\n    if (Object.keys(trace_collection).includes(trace_id)) {\n      if (!Object.keys(trace_collection[trace_id]).includes(instance_id)) {\n        trace_collection[trace_id][instance_id] = {\n          label: trace_name + \" (\" + instance_name + \")\",\n          source_url: source_url,\n          view_url: view_url,\n        };\n      }\n    } else {\n      trace_collection[trace_id] = {\n        [instance_id]: {\n          label: trace_name + \" (\" + instance_name + \")\",\n          source_url: source_url,\n          view_url: view_url,\n        },\n      };\n    }\n\n    this.setState({\n      trace_collection: trace_collection,\n    });\n  }\n\n  removeInstanceCollection(trace_id, instance_id) {\n    console.log(\"Remove\");\n\n    let trace_collection = this.state.trace_collection;\n    if (Object.keys(trace_collection).includes(trace_id)) {\n      if (Object.keys(trace_collection[trace_id]).includes(instance_id)) {\n        delete trace_collection[trace_id][instance_id];\n      }\n      if (Object.keys(trace_collection[trace_id]).length === 0) {\n        delete trace_collection[trace_id];\n      }\n    }\n\n    this.setState({\n      trace_collection: trace_collection,\n    });\n  }\n\n  checkInstanceInCollection(trace_id, instance_id) {\n    let flag = false;\n    let trace_collection = this.state.trace_collection;\n    if (Object.keys(trace_collection).includes(trace_id)) {\n      if (Object.keys(trace_collection[trace_id]).includes(instance_id)) {\n        flag = true;\n      }\n    }\n    console.log(flag);\n    return flag;\n  }\n\n  countTotalInstances() {\n    let total = 0;\n    let trace_collection = this.state.trace_collection;\n    for (const trace_id in trace_collection) {\n      total += Object.keys(trace_collection[trace_id]).length;\n    }\n    return total;\n  }\n\n  showFiltersPanel() {\n    let showFilters = filterTracesKeys;\n    return (\n      <Box my={2}>\n        <h6>Please specify filters to search KG:</h6>\n        <em>Note: you can select multiple values for each filter</em>\n        <form>\n          {showFilters.map((filter) => (\n            <MultipleSelect\n              itemNames={\n                !this.props.validFilterValues\n                  ? []\n                  : this.props.validFilterValues[filter]\n              }\n              label={filter}\n              value={this.state.configFilters[filter] || []}\n              handleChange={this.handleFiltersChange}\n              key={filter}\n            />\n          ))}\n        </form>\n      </Box>\n    );\n  }\n\n  handleFiltersChange(event) {\n    const newConfig = { ...this.state.configFilters };\n    newConfig[event.target.name] = event.target.value;\n    this.setState({ configFilters: newConfig });\n  }\n\n  handleKGProceed() {\n    this.setState(\n      {\n        showFilters: false,\n      },\n      () => {\n        this.getListTraces();\n      }\n    );\n  }\n\n  render() {\n    console.log(this.props);\n    console.log(this.state);\n\n    if (this.state.error) {\n      return (\n        <ErrorDialog\n          open={Boolean(this.state.error)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={this.state.error.message || this.state.error}\n        />\n      );\n    }\n    return (\n      <div>\n        <Dialog\n          onClose={() => this.props.handleClose(false)}\n          aria-labelledby=\"customized-dialog-title\"\n          open={this.props.open}\n          fullWidth={this.state.showFilters ? false : true}\n          maxWidth={\"xl\"}\n          //   disableBackdropClick={true}\n          //   disableEscapeKeyDown={true}\n        >\n          <DialogTitle\n            id=\"customized-dialog-title\"\n            onClose={() => this.props.handleClose(false)}\n            style={{ backgroundColor: \"#ffd180\" }}\n          >\n            <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n              KG Data Input\n            </span>\n          </DialogTitle>\n          <DialogContent dividers>\n            {(!this.props.validFilterValues && this.state.showFilters) ||\n            this.state.loading ? (\n              <LoadingIndicator />\n            ) : this.state.showFilters ? (\n              this.showFiltersPanel()\n            ) : (\n              <KGContent\n                data={this.state.list_traces}\n                addInstanceCollection={this.addInstanceCollection}\n                removeInstanceCollection={this.removeInstanceCollection}\n                checkInstanceInCollection={this.checkInstanceInCollection}\n                countTotalInstances={this.countTotalInstances}\n              />\n            )}\n          </DialogContent>\n          <DialogActions>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItems: \"center\",\n                paddingLeft: \"2.5%\",\n                paddingRight: \"2.5%\",\n                paddingTop: \"10px\",\n                paddingBottom: \"20px\",\n                width: \"100%\",\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"150px\",\n                  backgroundColor: \"#FF9800\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={() => this.props.handleClose(false, null)}\n              >\n                Cancel\n              </Button>\n              <br />\n              <br />\n              {!this.state.showFilters && (\n                <>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{\n                      width: \"150px\",\n                      backgroundColor: \"#01579B\",\n                      color: \"#FFFFFF\",\n                      fontWeight: \"bold\",\n                      border: \"solid\",\n                      borderColor: \"#000000\",\n                      borderWidth: \"1px\",\n                    }}\n                    onClick={() => {\n                      this.setState({ showFilters: true });\n                    }}\n                  >\n                    Filters\n                  </Button>\n                  <br />\n                  <br />\n                </>\n              )}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"150px\",\n                  backgroundColor: \"#8BC34A\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={() =>\n                  this.state.showFilters\n                    ? this.handleKGProceed()\n                    : this.props.handleClose(true, this.state.trace_collection)\n                }\n              >\n                {this.state.showFilters ? \"Proceed\" : \"Add KG Items\"}\n              </Button>\n            </div>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaterialIconSelector from \"./MaterialIconSelector\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ModalDialog from \"./ModalDialog\";\nimport DialogConfirm from \"./DialogConfirm\";\nimport DynamicTableItems from \"./DynamicTableItems\";\nimport KGInputTraces from \"./KGInputTraces\";\nimport ToggleSwitch from \"./ToggleSwitch\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport UnfoldLessIcon from \"@material-ui/icons/UnfoldLess\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport styled from \"styled-components\";\n\nfunction HelpContent() {\n  const list_of_dicts = `\n    [\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/traces/oh140807_A0_idB.abf\",\n          \"label\": \"file_A\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/traces/oh140807_A0_idC.abf\",\n          \"label\": \"file_B\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/traces/oh140807_A0_idF.abf\",\n          \"label\": \"file_C\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/traces/oh140807_A0_idG.abf\",\n          \"label\": \"file_D\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/traces/oh140807_A0_idH.abf\",\n          \"label\": \"file_E\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n      ]`;\n\n  return (\n    <div>\n      The traces data can be input in the following format:\n      <br />\n      <br />\n      <h6>\n        <b>List of dicts/objects</b>\n      </h6>\n      Each dict in the list should have keys named 'type', 'url', 'label',\n      'identifier' and 'tab_name'. The 'identifier' field corresponds to the\n      Knowledge Graph UUID. For manually entered items, 'type' and 'identifier'\n      can be set to 'URL' and 'null', respectively. <i>Example:</i>\n      <br />\n      <pre>\n        <code>{list_of_dicts}</code>\n      </pre>\n    </div>\n  );\n}\n\nexport class SectionTracesEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showHelp: false,\n      dataOk: true,\n      data: props.data,\n    };\n\n    this.clickHelp = this.clickHelp.bind(this);\n    this.handleHelpClose = this.handleHelpClose.bind(this);\n    this.handleDataInputOnBlur = this.handleDataInputOnBlur.bind(this);\n    this.handleSaveData = this.handleSaveData.bind(this);\n  }\n\n  clickHelp() {\n    this.setState({\n      showHelp: true,\n    });\n  }\n\n  handleHelpClose() {\n    this.setState({\n      showHelp: false,\n    });\n  }\n\n  handleDataInputOnBlur(event) {\n    // check data input format\n    function IsJsonString(str) {\n      try {\n        var json = JSON.parse(str);\n        return typeof json === \"object\";\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (IsJsonString(event.target.value)) {\n      console.log(\"Input: JSON\");\n      // input is a JSON\n      var data_json = JSON.parse(event.target.value);\n\n      // check if list of dicts in required format\n      function checkIfObject(item) {\n        return (\n          typeof item === \"object\" &&\n          item !== null &&\n          \"url\" in item &&\n          \"label\" in item &&\n          \"tab_name\" in item &&\n          typeof item[\"url\"] === \"string\" &&\n          typeof item[\"label\"] === \"string\" &&\n          typeof item[\"tab_name\"] === \"string\"\n        );\n      }\n\n      if (Array.isArray(data_json) && data_json.every(checkIfObject)) {\n        // data is a list of dicts\n        console.log(\"Input: JSON - list of dicts\");\n        this.setState({\n          dataOk: true,\n          data: data_json,\n        });\n      } else {\n        console.log(\"Input: JSON - invalid format\");\n        this.setState({\n          dataOk: false,\n        });\n      }\n    } else {\n      console.log(\"Data not in proper format!\");\n      this.setState({\n        dataOk: false,\n      });\n    }\n  }\n\n  handleSaveData(flag) {\n    if (flag) {\n      console.log(flag);\n      if (this.state.dataOk) {\n        console.log(\"Saved\");\n        this.props.onChangeValue(this.state.data);\n        this.props.handleClose();\n      } else {\n        console.log(\"Error\");\n        console.log(\"Edited data not in proper format!\");\n      }\n    } else {\n      this.props.handleClose();\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <Grid item xs={12}>\n          <TextField\n            multiline\n            rows=\"8\"\n            label=\"Edit source code for listing:\"\n            variant=\"outlined\"\n            fullWidth={true}\n            helperText={\"Click 'Help' for info on input format.\"}\n            name=\"data\"\n            defaultValue={JSON.stringify(this.state.data, null, 4)}\n            onBlur={this.handleDataInputOnBlur}\n            error={!this.state.dataOk}\n            InputProps={{\n              style: {\n                padding: \"15px 15px\",\n                backgroundColor: \"#FFFFFF\",\n              },\n            }}\n          />\n          {!this.state.dataOk && (\n            <div style={{ color: \"red\", paddingTop: \"10px\" }}>\n              <strong>\n                Data not in expected format! Click on 'Help' for more info.\n              </strong>\n            </div>\n          )}\n        </Grid>\n        {this.state.showHelp ? (\n          <ModalDialog\n            open={this.state.showHelp}\n            title=\"Data Input\"\n            headerBgColor=\"#70BF73\"\n            content={<HelpContent />}\n            handleClose={this.handleHelpClose}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  render() {\n    console.log(this.props);\n    return (\n      <DialogConfirm\n        open={this.props.open}\n        title={\"Edit Source: \" + this.props.title}\n        headerBgColor=\"#70BF73\"\n        content={this.renderContent()}\n        handleClose={this.handleSaveData}\n        clickHelp={this.clickHelp}\n      />\n    );\n  }\n}\n\nconst Icon = styled((props) => (\n  <div {...props} style={{ color: \"#000000\" }}>\n    <div className=\"y\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldMoreIcon />\n      </span>\n    </div>\n    <div className=\"n\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldLessIcon />\n      </span>\n    </div>\n  </div>\n))`\n  & > .y {\n    display: block;\n  }\n  & > .n {\n    display: none;\n  }\n  .Mui-expanded & > .n {\n    display: block;\n  }\n  .Mui-expanded & > .y {\n    display: none;\n  }\n`;\n\nexport default class SectionTraces extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: null,\n      type: \"section_traces\",\n      title: \"Recordings / Traces\",\n      icon: \"timeline\",\n      description: \"\",\n      dataOk: true,\n      dataFormatted: [],\n      showEdit: false,\n      showKGInput: false,\n      deleteOpen: false,\n      expanded: true,\n      useTabs: false,\n      ...props.data,\n    };\n\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.clickEdit = this.clickEdit.bind(this);\n    this.handleEditClose = this.handleEditClose.bind(this);\n    this.clickKG = this.clickKG.bind(this);\n    this.handleKGClose = this.handleKGClose.bind(this);\n    this.setIcon = this.setIcon.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleMoveDown = this.handleMoveDown.bind(this);\n    this.handleMoveUp = this.handleMoveUp.bind(this);\n    this.toggleExpanded = this.toggleExpanded.bind(this);\n    this.handleItemsChange = this.handleItemsChange.bind(this);\n    this.toggleUseTabs = this.toggleUseTabs.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.storeSectionInfo(this.state);\n  }\n\n  handleItemsChange(items_data) {\n    // remove all entries where label and url are all empty\n    // function isNotEmpty(item) {\n    //   if (\n    //     item.label.trim() !== \"\" ||\n    //     item.url.trim() !== \"\"\n    //   ) {\n    //     return true;\n    //   } else {\n    //     return false;\n    //   }\n    // }\n    // var items_data = data.filter(isNotEmpty);\n    // console.log(items_data);\n    if (items_data.length === 0) {\n      items_data = [\n        { type: \"URL\", label: \"\", url: \"\", identifier: null, tab_name: \"\" },\n      ];\n    }\n\n    this.setState(\n      {\n        dataFormatted: items_data,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  toggleExpanded() {\n    console.log(this.state.expanded);\n    this.setState(\n      (prevState) => ({\n        expanded: !prevState.expanded,\n      }),\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  handleDelete(flag) {\n    console.log(flag);\n    this.setState({ deleteOpen: false });\n    if (flag) {\n      this.props.handleDelete(this.state.order);\n    }\n  }\n\n  handleMoveDown(event) {\n    event.stopPropagation();\n    this.props.handleMoveDown(this.state.order);\n  }\n\n  handleMoveUp(event) {\n    event.stopPropagation();\n    this.props.handleMoveUp(this.state.order);\n  }\n\n  handleFieldChange(event) {\n    console.log(event);\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n    // console.log(name + \" => \" + value);\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  setIcon(icon_name) {\n    this.setState(\n      {\n        icon: icon_name,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  clickEdit() {\n    this.setState({\n      showEdit: true,\n    });\n  }\n\n  handleEditClose() {\n    this.setState({\n      showEdit: false,\n    });\n  }\n\n  clickKG() {\n    this.setState({\n      showKGInput: true,\n    });\n  }\n\n  handleKGClose(flag, items) {\n    if (flag) {\n      console.log(items);\n      let new_items = [];\n      for (const trace_id in items) {\n        for (const instance_id in items[trace_id]) {\n          new_items.push({\n            type: \"Recording\",\n            url: items[trace_id][instance_id][\"source_url\"] || \"\",\n            label: items[trace_id][instance_id][\"label\"] || \"\",\n            view_url: items[trace_id][instance_id][\"view_url\"] || \"\",\n            tab_name: \"\",\n            identifier: trace_id,\n          });\n        }\n      }\n      console.log(new_items);\n\n      this.setState(\n        (prevState) => ({\n          dataFormatted:\n            prevState.dataFormatted.length === 1 &&\n            prevState.dataFormatted[0].type === \"URL\" &&\n            prevState.dataFormatted[0].label === \"\" &&\n            prevState.dataFormatted[0].url === \"\" &&\n            prevState.dataFormatted[0].mc_url === \"\"\n              ? new_items\n              : prevState.dataFormatted.concat(new_items),\n          showKGInput: false,\n        }),\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    } else {\n      this.setState({\n        showKGInput: false,\n      });\n    }\n  }\n\n  toggleUseTabs() {\n    if (this.state.useTabs) {\n      // if turning off, then erase all tabs data\n      let dataFormatted = this.state.dataFormatted;\n      dataFormatted.forEach(function (item, index) {\n        item.tab_name = \"\";\n      });\n      this.setState(\n        {\n          dataFormatted: dataFormatted,\n          useTabs: false,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    } else {\n      this.setState(\n        {\n          useTabs: true,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    }\n  }\n\n  render() {\n    // console.log(this.state.dataFormatted);\n    return (\n      <div style={{ width: \"100%\", paddingTop: \"25px\", paddingBottom: \"25px\" }}>\n        <Accordion\n          expanded={this.state.expanded}\n          onChange={this.toggleExpanded}\n        >\n          <AccordionSummary\n            expandIcon={<Icon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              borderStyle: \"solid\",\n              borderColor: \"#194D1B\",\n              borderWidth: \"2px\",\n              backgroundColor: \"#70BF73\",\n              fontWeight: \"bold\",\n              color: \"#000000\",\n              width: \"100%\",\n              paddingRight: \"25px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                flexDirection: \"row\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  fontWeight: \"bolder\",\n                  fontSize: 16,\n                  color: \"#000000\",\n                }}\n              >\n                <span style={{ verticalAlign: \"middle\" }}>\n                  Section: Recordings / Traces\n                </span>\n              </div>\n              <div>\n                <Tooltip title=\"Delete this section\">\n                  <DeleteForeverIcon\n                    style={{\n                      height: \"25px\",\n                      width: \"25px\",\n                      marginRight: \"30px\",\n                      color: \"#000000\",\n                    }}\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      this.setState({ deleteOpen: true });\n                    }}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section down\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"30px\",\n                      transform: `rotate(90deg)`,\n                      color:\n                        this.state.order === this.props.numResources - 1\n                          ? \"#A1887F\"\n                          : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveDown(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section up\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"20px\",\n                      transform: `rotate(270deg)`,\n                      color: this.state.order === 0 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveUp(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n              </div>\n            </div>\n          </AccordionSummary>\n          <AccordionDetails\n            style={{ paddingLeft: 0, paddingRight: 0, paddingBottom: 0 }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#E2F2E3\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  marginLeft: \"10px\",\n                  marginRight: \"10px\",\n                }}\n              >\n                <br />\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ width: \"50px\" }}>\n                    <MaterialIconSelector\n                      size=\"35px\"\n                      icon={this.state.icon}\n                      setIcon={this.setIcon}\n                    />\n                  </div>\n                  <div style={{ paddingLeft: \"20px\", flexGrow: 1 }}>\n                    <TextField\n                      label=\"Section Title\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.handleFieldChange}\n                      InputProps={{\n                        style: {\n                          padding: \"5px 15px\",\n                          backgroundColor: \"#FFFFFF\",\n                        },\n                      }}\n                    />\n                  </div>\n                </div>\n                <br />\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"2\"\n                    label=\"Description of electrophysiological traces (optional)\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"The description may be formatted with Markdown\"\n                    name=\"description\"\n                    value={this.state.description}\n                    onChange={this.handleFieldChange}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                        backgroundColor: \"#FFFFFF\",\n                      },\n                    }}\n                  />\n                </Grid>\n                <br />\n                <Grid\n                  item\n                  xs={12}\n                  style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                >\n                  <span style={{ paddingRight: \"10px\" }}>\n                    Do you wish to use tabs to group items in this section?\n                  </span>\n                  <ToggleSwitch\n                    id=\"tracesTabs\"\n                    checked={this.state.useTabs}\n                    onChange={this.toggleUseTabs}\n                  />\n                </Grid>\n                {this.state.useTabs && (\n                  <Grid\n                    item\n                    xs={12}\n                    style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                  >\n                    <em>\n                      Note: All items to be grouped together should be assigned\n                      the same tab name.\n                    </em>\n                  </Grid>\n                )}\n                <DynamicTableItems\n                  items={this.state.dataFormatted}\n                  onChangeValue={this.handleItemsChange}\n                  handleEdit={this.clickEdit}\n                  handleKG={this.clickKG}\n                  numCols={2}\n                  useTabs={this.state.useTabs}\n                />\n                <br />\n                <br />\n                {this.state.showEdit ? (\n                  <SectionTracesEdit\n                    open={this.state.showEdit}\n                    title={this.state.title}\n                    data={this.state.dataFormatted}\n                    onChangeValue={this.handleItemsChange}\n                    handleClose={this.handleEditClose}\n                  />\n                ) : null}\n                {this.state.showKGInput ? (\n                  <KGInputTraces\n                    open={this.state.showKGInput}\n                    handleClose={this.handleKGClose}\n                    validFilterValues={this.props.validFilterValues}\n                  />\n                ) : null}\n              </div>\n              <DialogConfirm\n                open={this.state.deleteOpen}\n                title=\"Please confirm to delete!\"\n                headerBgColor=\"#70BF73\"\n                content={\n                  \"Do you wish to delete the traces resource section with title: <b>\" +\n                  this.state.title +\n                  \"</b>\"\n                }\n                handleClose={this.handleDelete}\n                size=\"xs\"\n                onChangeValue={this.handleItemsChange}\n              />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AddToQueueIcon from \"@material-ui/icons/AddToQueue\";\nimport RemoveFromQueueIcon from \"@material-ui/icons/RemoveFromQueue\";\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\nimport Chip from \"@material-ui/core/Chip\";\nimport RadioButtonCheckedIcon from \"@material-ui/icons/RadioButtonChecked\";\nimport RadioButtonUncheckedIcon from \"@material-ui/icons/RadioButtonUnchecked\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MaterialTable, { MTableToolbar } from \"@material-table/core\";\nimport ErrorDialog from \"./ErrorDialog\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport ContextMain from \"./ContextMain\";\nimport MultipleSelect from \"./MultipleSelect\";\nimport axios from \"axios\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Link from \"@material-ui/core/Link\";\nimport {\n  baseUrl,\n  mc_baseUrl,\n  querySizeLimit,\n  filterModelsKeys,\n} from \"./globals\";\nimport {\n  formatAuthors,\n  formatTimeStampToLongString,\n  buildQuery,\n} from \"./utils\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon style={{ color: \"#000000\" }} />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\n// define the columns for the material data table\nconst TABLE_COLUMNS = [\n  {\n    field: \"id\",\n    title: \"ID\",\n    hidden: true,\n  },\n  {\n    field: \"name\",\n    title: \"Name\",\n  },\n  {\n    field: \"alias\",\n    title: \"Alias\",\n    hidden: true,\n  },\n  {\n    field: \"author\",\n    title: \"Author\",\n    render: (item) => formatAuthors(item.author),\n  },\n  {\n    field: \"private\",\n    title: \"Visibility\",\n    render: (item) => (item.private ? \"Private\" : \"Public\"),\n    hidden: true,\n  },\n  {\n    field: \"project_id\",\n    title: \"Collab\",\n    hidden: true,\n  },\n  {\n    field: \"species\",\n    title: \"Species\",\n    hidden: true,\n  },\n  {\n    field: \"brain_region\",\n    title: \"Brain Region\",\n    hidden: true,\n  },\n  {\n    field: \"cell_type\",\n    title: \"Cell Type\",\n    hidden: true,\n  },\n  {\n    field: \"model_scope\",\n    title: \"Model Scope\",\n    hidden: true,\n  },\n  {\n    field: \"abstraction_level\",\n    title: \"Abstraction Level\",\n    hidden: true,\n  },\n  {\n    field: \"owner\",\n    title: \"Owner\",\n    render: (item) => formatAuthors(item.owner),\n    hidden: true,\n  },\n  {\n    field: \"organization\",\n    title: \"Organization\",\n    hidden: true,\n  },\n  {\n    field: \"date_created\",\n    title: \"Created Date\",\n    hidden: true,\n  },\n  {\n    field: \"instances\",\n    title: \"Instances\",\n    hidden: true,\n    hiddenByColumnsButton: true,\n  },\n];\n\nfunction IncludeButton(props) {\n  //   console.log(props);\n  if (props.includeFlag) {\n    return (\n      <Tooltip title=\"Remove model instance from collection\" placement=\"top\">\n        <Button\n          variant=\"contained\"\n          style={{\n            backgroundColor: \"#FF5722\",\n            border: \"solid\",\n            borderColor: \"#000000\",\n            borderWidth: \"1px\",\n            width: \"150px\",\n          }}\n          startIcon={<RemoveFromQueueIcon />}\n          onClick={() =>\n            props.removeInstanceCollection(props.model_id, props.instance_id)\n          }\n        >\n          Remove\n        </Button>\n      </Tooltip>\n    );\n  } else {\n    return (\n      <Tooltip title=\"Add model instance to collection\" placement=\"top\">\n        <Button\n          variant=\"contained\"\n          style={{\n            backgroundColor: \"#81C784\",\n            border: \"solid\",\n            borderColor: \"#000000\",\n            borderWidth: \"1px\",\n            width: \"150px\",\n          }}\n          startIcon={<AddToQueueIcon />}\n          onClick={() =>\n            props.addInstanceCollection(\n              props.model_id,\n              props.model_name,\n              props.instance_id,\n              props.instance_name,\n              props.source_url\n            )\n          }\n        >\n          Add\n        </Button>\n      </Tooltip>\n    );\n  }\n}\n\nfunction InstanceParameter(props) {\n  return (\n    <div style={{ width: \"1000px\" }}>\n      <Grid container>\n        <Grid item xs={9}>\n          <Box\n            component=\"div\"\n            my={2}\n            bgcolor=\"white\"\n            overflow=\"scroll\"\n            border={1}\n            borderColor=\"grey.500\"\n            borderRadius={10}\n            style={{\n              padding: 10,\n              cursor: \"pointer\",\n            }}\n            whiteSpace=\"nowrap\"\n          >\n            {props.value || \"\"}\n          </Box>\n        </Grid>\n        {/* <Grid item xs={3}>\n        <Box component=\"div\" my={2}>\n          <Button\n            variant=\"contained\"\n            style={{\n              textTransform: \"none\",\n            }}\n            //   onClick={() => doSomething(props.value)}\n          >\n            MyButton\n          </Button>\n        </Box>\n      </Grid> */}\n      </Grid>\n    </div>\n  );\n}\n\nclass ModelVersion extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedParam: \"source\",\n    };\n  }\n\n  render() {\n    return (\n      <Box\n        my={2}\n        pb={0}\n        style={{ backgroundColor: \"#FFF1CC\", marginBottom: \"20px\" }}\n        key={this.props.instance.id}\n      >\n        <Grid\n          container\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            backgroundColor: \"#FFD180\",\n          }}\n        >\n          <Grid item xs={6}>\n            <Box px={2} display=\"flex\" flexDirection=\"row\">\n              <p variant=\"subtitle2\">\n                Version:{\" \"}\n                <span style={{ cursor: \"pointer\", fontWeight: \"bold\" }}>\n                  {this.props.instance.version}\n                </span>\n              </p>\n            </Box>\n          </Grid>\n          <Grid container item justify=\"flex-end\" xs={6}>\n            <Box\n              px={2}\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                ID: <span>{this.props.instance.id}</span>\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: \"#000000\", paddingLeft: \"25px\" }}\n              >\n                {formatTimeStampToLongString(this.props.instance.timestamp)}\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n        <Grid container spacing={3} alignItems=\"flex-end\">\n          <Grid item xs={9}>\n            <div style={{ padding: \"10px 0px 0px 10px\" }}>\n              <div>\n                {[\n                  \"description\",\n                  \"source\",\n                  \"morphology\",\n                  \"parameters\",\n                  \"code_format\",\n                  \"license\",\n                  \"hash\",\n                ].map((param, ind) => (\n                  <Chip\n                    icon={\n                      this.state.selectedParam === param ? (\n                        <RadioButtonCheckedIcon />\n                      ) : (\n                        <RadioButtonUncheckedIcon />\n                      )\n                    }\n                    key={ind}\n                    label={param}\n                    clickable\n                    onClick={() => this.setState({ selectedParam: param })}\n                    variant=\"outlined\"\n                    style={{ color: \"#000000\", marginRight: \"10px\" }}\n                  />\n                ))}\n              </div>\n              <InstanceParameter\n                label={\"param\"}\n                value={this.props.instance[this.state.selectedParam]}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={3} style={{ paddingBottom: \"35px\" }}>\n            <IncludeButton\n              includeFlag={this.props.checkInstanceInCollection(\n                this.props.instance.model_id,\n                this.props.instance.id\n              )}\n              model_id={this.props.model_id}\n              model_name={this.props.model_name}\n              instance_id={this.props.instance.id}\n              instance_name={this.props.instance.version}\n              source_url={this.props.instance.source}\n              addInstanceCollection={this.props.addInstanceCollection}\n              removeInstanceCollection={this.props.removeInstanceCollection}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  }\n}\n\nclass ModelVersionsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedParam: \"source\",\n    };\n  }\n\n  render() {\n    // console.log(this.props);\n    return (\n      <Grid item style={{ backgroundColor: \"#CFD8DC\", padding: \"20px\" }}>\n        <Grid container direction=\"row\">\n          <Grid\n            item\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              width: \"100%\",\n              verticalAlign: \"middle\",\n            }}\n          >\n            <Typography variant=\"subtitle1\">\n              <b>Versions</b>\n            </Typography>\n            <Link\n              href={mc_baseUrl + \"/#model_id.\" + this.props.data.id}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              underline=\"none\"\n            >\n              <Button\n                variant=\"contained\"\n                style={{ color: \"#455A64\" }}\n                startIcon={<OpenInNewIcon />}\n              >\n                Open Model\n              </Button>\n            </Link>\n          </Grid>\n        </Grid>\n        {this.props.data.instances.length === 0 ? (\n          <div style={{ fontSize: 14 }}>\n            <br />\n            No model instances have yet been registered for this model.\n          </div>\n        ) : (\n          this.props.data.instances.map((instance, ind) => (\n            <div style={{ marginBottom: \"25px\" }} key={ind}>\n              <ModelVersion\n                model_id={this.props.data.id}\n                model_name={this.props.data.name}\n                instance={instance}\n                addInstanceCollection={this.props.addInstanceCollection}\n                removeInstanceCollection={this.props.removeInstanceCollection}\n                checkInstanceInCollection={this.props.checkInstanceInCollection}\n              />\n            </div>\n          ))\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport class KGContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedRows: [],\n      filtering: false,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <MaterialTable\n          title=\"Models\"\n          data={this.props.data}\n          columns={TABLE_COLUMNS}\n          options={{\n            columnsButton: true,\n            search: true,\n            paging: false,\n            filtering: this.state.filtering,\n            sorting: true,\n            //   selection: true,\n            exportButton: false,\n            maxBodyHeight: \"60vh\",\n            headerStyle: {\n              position: \"sticky\",\n              top: 0,\n              backgroundColor: \"#FFF\",\n              fontWeight: \"bolder\",\n              fontSize: 15,\n            },\n            rowStyle: (rowData) => ({\n              backgroundColor: this.state.selectedRows.includes(\n                rowData.tableData.id\n              )\n                ? \"#FFD180\"\n                : \"#EEEEEE\",\n            }),\n          }}\n          actions={[\n            {\n              icon: \"filter_list\",\n              onClick: () =>\n                this.setState({ filtering: !this.state.filtering }),\n              position: \"toolbar\",\n              tooltip: \"Show Filters\",\n            },\n          ]}\n          detailPanel={(rowData) => {\n            return (\n              <ModelVersionsPanel\n                data={rowData}\n                addInstanceCollection={this.props.addInstanceCollection}\n                removeInstanceCollection={this.props.removeInstanceCollection}\n                checkInstanceInCollection={this.props.checkInstanceInCollection}\n              />\n            );\n          }}\n          onRowClick={(event, selectedRow, togglePanel) => {\n            togglePanel();\n          }}\n          components={{\n            Toolbar: (props) => (\n              <div\n                style={{\n                  backgroundColor: \"#FFD180\",\n                  fontWeight: \"bolder !important\",\n                }}\n              >\n                <MTableToolbar {...props} />\n              </div>\n            ),\n          }}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n            paddingLeft: \"2.5%\",\n            paddingRight: \"2.5%\",\n            paddingTop: \"10px\",\n            width: \"100%\",\n          }}\n        >\n          <h6>\n            {\"Number of model instances selected: \" +\n              this.props.countTotalInstances()}\n          </h6>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default class KGInputModels extends React.Component {\n  signal = axios.CancelToken.source();\n  static contextType = ContextMain;\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      loading: false,\n      list_models: [],\n      error: null,\n      model_collection: {},\n      showFilters: true,\n      configFilters: {},\n    };\n\n    this.getListModels = this.getListModels.bind(this);\n    this.handleErrorDialogClose = this.handleErrorDialogClose.bind(this);\n    this.addInstanceCollection = this.addInstanceCollection.bind(this);\n    this.removeInstanceCollection = this.removeInstanceCollection.bind(this);\n    this.checkInstanceInCollection = this.checkInstanceInCollection.bind(this);\n    this.countTotalInstances = this.countTotalInstances.bind(this);\n    this.showFiltersPanel = this.showFiltersPanel.bind(this);\n    this.handleFiltersChange = this.handleFiltersChange.bind(this);\n    this.handleKGProceed = this.handleKGProceed.bind(this);\n  }\n\n  getListModels() {\n    let config = {\n      cancelToken: this.signal.token,\n      headers: {\n        Authorization: \"Bearer \" + this.context.auth[0].token,\n      },\n    };\n    let query = buildQuery(this.state.configFilters);\n    let url =\n      baseUrl + \"/models/?\" + encodeURI(query) + \"&size=\" + querySizeLimit;\n    this.setState({ loading: true });\n    axios\n      .get(url, config)\n      .then((res) => {\n        const models = res.data;\n        console.log(models);\n        this.setState({\n          list_models: models,\n          loading: false,\n          error: null,\n        });\n      })\n      .catch((err) => {\n        if (axios.isCancel(err)) {\n          console.log(\"errorUpdate: \", err.message);\n        } else {\n          // Something went wrong. Save the error in state and re-render.\n          this.setState({\n            loading: false,\n            error: err,\n          });\n        }\n      });\n  }\n\n  handleErrorDialogClose() {\n    this.setState({ error: null });\n  }\n\n  addInstanceCollection(\n    model_id,\n    model_name,\n    instance_id,\n    instance_name,\n    source_url\n  ) {\n    console.log(\"Add\");\n\n    let model_collection = this.state.model_collection;\n    if (Object.keys(model_collection).includes(model_id)) {\n      if (!Object.keys(model_collection[model_id]).includes(instance_id)) {\n        model_collection[model_id][instance_id] = {\n          label: model_name + \" (\" + instance_name + \")\",\n          source_url: source_url,\n        };\n      }\n    } else {\n      model_collection[model_id] = {\n        [instance_id]: {\n          label: model_name + \" (\" + instance_name + \")\",\n          source_url: source_url,\n        },\n      };\n    }\n\n    this.setState({\n      model_collection: model_collection,\n    });\n  }\n\n  removeInstanceCollection(model_id, instance_id) {\n    console.log(\"Remove\");\n\n    let model_collection = this.state.model_collection;\n    if (Object.keys(model_collection).includes(model_id)) {\n      if (Object.keys(model_collection[model_id]).includes(instance_id)) {\n        delete model_collection[model_id][instance_id];\n      }\n      if (Object.keys(model_collection[model_id]).length === 0) {\n        delete model_collection[model_id];\n      }\n    }\n\n    this.setState({\n      model_collection: model_collection,\n    });\n  }\n\n  checkInstanceInCollection(model_id, instance_id) {\n    let flag = false;\n    let model_collection = this.state.model_collection;\n    if (Object.keys(model_collection).includes(model_id)) {\n      if (Object.keys(model_collection[model_id]).includes(instance_id)) {\n        flag = true;\n      }\n    }\n    console.log(flag);\n    return flag;\n  }\n\n  countTotalInstances() {\n    let total = 0;\n    let model_collection = this.state.model_collection;\n    for (let model_id in model_collection) {\n      total += Object.keys(model_collection[model_id]).length;\n    }\n    return total;\n  }\n\n  showFiltersPanel() {\n    let showFilters = filterModelsKeys;\n    return (\n      <Box my={2}>\n        <h6>Please specify filters to search KG:</h6>\n        <em>Note: you can select multiple values for each filter</em>\n        <form>\n          {showFilters.map((filter) => (\n            <MultipleSelect\n              itemNames={\n                !this.props.validFilterValues\n                  ? []\n                  : this.props.validFilterValues[filter]\n              }\n              label={filter}\n              value={this.state.configFilters[filter] || []}\n              handleChange={this.handleFiltersChange}\n              key={filter}\n            />\n          ))}\n        </form>\n      </Box>\n    );\n  }\n\n  handleFiltersChange(event) {\n    const newConfig = { ...this.state.configFilters };\n    newConfig[event.target.name] = event.target.value;\n    this.setState({ configFilters: newConfig });\n  }\n\n  handleKGProceed() {\n    this.setState(\n      {\n        showFilters: false,\n      },\n      () => {\n        this.getListModels();\n      }\n    );\n  }\n\n  render() {\n    // console.log(this.props);\n    // console.log(this.state);\n\n    if (this.state.error) {\n      return (\n        <ErrorDialog\n          open={Boolean(this.state.error)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={this.state.error.message || this.state.error}\n        />\n      );\n    }\n    return (\n      <div>\n        <Dialog\n          onClose={() => this.props.handleClose(false)}\n          aria-labelledby=\"customized-dialog-title\"\n          open={this.props.open}\n          fullWidth={this.state.showFilters ? false : true}\n          maxWidth={\"xl\"}\n          //   disableBackdropClick={true}\n          //   disableEscapeKeyDown={true}\n        >\n          <DialogTitle\n            id=\"customized-dialog-title\"\n            onClose={() => this.props.handleClose(false)}\n            style={{ backgroundColor: \"#ffd180\" }}\n          >\n            <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n              KG Data Input\n            </span>\n          </DialogTitle>\n          <DialogContent dividers>\n            {(!this.props.validFilterValues && this.state.showFilters) ||\n            this.state.loading ? (\n              <LoadingIndicator />\n            ) : this.state.showFilters ? (\n              this.showFiltersPanel()\n            ) : (\n              <KGContent\n                data={this.state.list_models}\n                addInstanceCollection={this.addInstanceCollection}\n                removeInstanceCollection={this.removeInstanceCollection}\n                checkInstanceInCollection={this.checkInstanceInCollection}\n                countTotalInstances={this.countTotalInstances}\n              />\n            )}\n          </DialogContent>\n          <DialogActions>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItems: \"center\",\n                paddingLeft: \"2.5%\",\n                paddingRight: \"2.5%\",\n                paddingTop: \"10px\",\n                paddingBottom: \"20px\",\n                width: \"100%\",\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"150px\",\n                  backgroundColor: \"#FF9800\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={() => this.props.handleClose(false, null)}\n              >\n                Cancel\n              </Button>\n              <br />\n              <br />\n              {!this.state.showFilters && (\n                <>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{\n                      width: \"150px\",\n                      backgroundColor: \"#01579B\",\n                      color: \"#FFFFFF\",\n                      fontWeight: \"bold\",\n                      border: \"solid\",\n                      borderColor: \"#000000\",\n                      borderWidth: \"1px\",\n                    }}\n                    onClick={() => {\n                      this.setState({ showFilters: true });\n                    }}\n                  >\n                    Filters\n                  </Button>\n                  <br />\n                  <br />\n                </>\n              )}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"150px\",\n                  backgroundColor: \"#8BC34A\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={() =>\n                  this.state.showFilters\n                    ? this.handleKGProceed()\n                    : this.props.handleClose(true, this.state.model_collection)\n                }\n              >\n                {this.state.showFilters ? \"Proceed\" : \"Add KG Items\"}\n              </Button>\n            </div>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaterialIconSelector from \"./MaterialIconSelector\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ModalDialog from \"./ModalDialog\";\nimport DialogConfirm from \"./DialogConfirm\";\nimport DynamicTableItems from \"./DynamicTableItems\";\nimport KGInputModels from \"./KGInputModels\";\nimport ToggleSwitch from \"./ToggleSwitch\";\nimport { mc_baseUrl } from \"./globals\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport UnfoldLessIcon from \"@material-ui/icons/UnfoldLess\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport styled from \"styled-components\";\n\nfunction HelpContent() {\n  const list_of_dicts = `\n    [\n        {\n        \"type\": \"URL\",\n        \"url\": \"https://www.datasource.com/models/model_1.zip\",\n        \"label\": \"file_A\",\n        \"mc_url\":\n            \"https://model-catalog.brainsimulation.eu/#model_id.00f2e856-27a8-4b8d-9ec3-4e2581c546e4\",\n        \"identifier\": null,\n        \"tab_name\": \"Group A\"\n        },\n        {\n        \"type\": \"URL\",\n        \"url\": \"https://www.datasource.com/models/model_2.zip\",\n        \"label\": \"file_B\",\n        \"mc_url\":\n            \"https://model-catalog.brainsimulation.eu/#model_id.01006de7-e861-45fb-abf4-3c84e609d33b\",\n        \"identifier\": null,\n        \"tab_name\": \"Group A\"\n        },\n        {\n        \"type\": \"URL\",\n        \"url\": \"https://www.datasource.com/models/model_3.zip\",\n        \"label\": \"file_C\",\n        \"mc_url\":\n            \"https://model-catalog.brainsimulation.eu/#model_id.01afb341-7ca2-4694-9968-16fc7d8fc765\",\n        \"identifier\": null,\n        \"tab_name\": \"Group A\"\n        },\n        {\n        \"type\": \"URL\",\n        \"url\": \"https://www.datasource.com/models/model_4.zip\",\n        \"label\": \"file_D\",\n        \"mc_url\":\n            \"https://model-catalog.brainsimulation.eu/#model_id.01da73a6-8715-431b-aaa7-efcd9358c786\",\n        \"identifier\": null,\n        \"tab_name\": \"Group A\"\n        },\n        {\n        \"type\": \"URL\",\n        \"url\": \"https://www.datasource.com/models/model_5.zip\",\n        \"label\": \"file_E\",\n        \"mc_url\":\n            \"https://model-catalog.brainsimulation.eu/#model_id.01f49d73-e8a1-4f23-be30-d01bd52f89a2\",\n        \"identifier\": null,\n        \"tab_name\": \"Group A\"\n        },\n    ]`;\n\n  return (\n    <div>\n      The morphology data can be input in the following format:\n      <br />\n      <br />\n      <h6>\n        <b>List of dicts/objects</b>\n      </h6>\n      Each dict in the list should have keys named 'type', 'url', 'label',\n      'mc_url,' 'identifier' and 'tab_name'. You can specify the model catalog\n      URL for each model using their `mc_url' field. The 'identifier' field\n      corresponds to the Knowledge Graph UUID. For manually entered items,\n      'type' and 'identifier' can be set to 'URL' and 'null', respectively.{\" \"}\n      <i>Example:</i>\n      <br />\n      <pre>\n        <code>{list_of_dicts}</code>\n      </pre>\n    </div>\n  );\n}\n\nexport class SectionModelsEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showHelp: false,\n      dataOk: true,\n      data: props.data,\n    };\n\n    this.clickHelp = this.clickHelp.bind(this);\n    this.handleHelpClose = this.handleHelpClose.bind(this);\n    this.handleDataInputOnBlur = this.handleDataInputOnBlur.bind(this);\n    this.handleSaveData = this.handleSaveData.bind(this);\n  }\n\n  clickHelp() {\n    this.setState({\n      showHelp: true,\n    });\n  }\n\n  handleHelpClose() {\n    this.setState({\n      showHelp: false,\n    });\n  }\n\n  handleDataInputOnBlur(event) {\n    // check data input format\n    function IsJsonString(str) {\n      try {\n        var json = JSON.parse(str);\n        return typeof json === \"object\";\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (IsJsonString(event.target.value)) {\n      console.log(\"Input: JSON\");\n      // input is a JSON\n      var data_json = JSON.parse(event.target.value);\n\n      // check if list of dicts in required format\n      function checkIfObject(item) {\n        return (\n          typeof item === \"object\" &&\n          item !== null &&\n          \"url\" in item &&\n          \"label\" in item &&\n          \"mc_url\" in item &&\n          \"tab_name\" in item &&\n          typeof item[\"url\"] === \"string\" &&\n          typeof item[\"label\"] === \"string\" &&\n          typeof item[\"mc_url\"] === \"string\" &&\n          typeof item[\"tab_name\"] === \"string\"\n        );\n      }\n\n      if (Array.isArray(data_json) && data_json.every(checkIfObject)) {\n        // data is a list of dicts\n        console.log(\"Input: JSON - list of dicts\");\n        this.setState({\n          dataOk: true,\n          data: data_json,\n        });\n      } else {\n        console.log(\"Input: JSON - invalid format\");\n        this.setState({\n          dataOk: false,\n        });\n      }\n    } else {\n      console.log(\"Data not in proper format!\");\n      this.setState({\n        dataOk: false,\n      });\n    }\n  }\n\n  handleSaveData(flag) {\n    if (flag) {\n      console.log(flag);\n      if (this.state.dataOk) {\n        console.log(\"Saved\");\n        this.props.onChangeValue(this.state.data);\n        this.props.handleClose();\n      } else {\n        console.log(\"Error\");\n        console.log(\"Edited data not in proper format!\");\n      }\n    } else {\n      this.props.handleClose();\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <Grid item xs={12}>\n          <TextField\n            multiline\n            rows=\"8\"\n            label=\"Edit source code for listing:\"\n            variant=\"outlined\"\n            fullWidth={true}\n            helperText={\"Click 'Help' for info on input format.\"}\n            name=\"data\"\n            defaultValue={JSON.stringify(this.state.data, null, 4)}\n            onBlur={this.handleDataInputOnBlur}\n            error={!this.state.dataOk}\n            InputProps={{\n              style: {\n                padding: \"15px 15px\",\n                backgroundColor: \"#FFFFFF\",\n              },\n            }}\n          />\n          {!this.state.dataOk && (\n            <div style={{ color: \"red\", paddingTop: \"10px\" }}>\n              <strong>\n                Data not in expected format! Click on 'Help' for more info.\n              </strong>\n            </div>\n          )}\n        </Grid>\n        {this.state.showHelp ? (\n          <ModalDialog\n            open={this.state.showHelp}\n            title=\"Data Input\"\n            headerBgColor=\"#FF8A65\"\n            content={<HelpContent />}\n            handleClose={this.handleHelpClose}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  render() {\n    console.log(this.props);\n    return (\n      <DialogConfirm\n        open={this.props.open}\n        title={\"Edit Source: \" + this.props.title}\n        headerBgColor=\"#FF8A65\"\n        content={this.renderContent()}\n        handleClose={this.handleSaveData}\n        clickHelp={this.clickHelp}\n      />\n    );\n  }\n}\n\nconst Icon = styled((props) => (\n  <div {...props} style={{ color: \"#000000\" }}>\n    <div className=\"y\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldMoreIcon />\n      </span>\n    </div>\n    <div className=\"n\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldLessIcon />\n      </span>\n    </div>\n  </div>\n))`\n  & > .y {\n    display: block;\n  }\n  & > .n {\n    display: none;\n  }\n  .Mui-expanded & > .n {\n    display: block;\n  }\n  .Mui-expanded & > .y {\n    display: none;\n  }\n`;\n\nexport default class SectionModels extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: null,\n      type: \"section_models\",\n      title: \"Model Collection\",\n      icon: \"local_play\",\n      description: \"\",\n      dataOk: true,\n      dataFormatted: [],\n      showEdit: false,\n      showKGInput: false,\n      deleteOpen: false,\n      expanded: true,\n      useTabs: false,\n      ...props.data,\n    };\n\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.clickEdit = this.clickEdit.bind(this);\n    this.handleEditClose = this.handleEditClose.bind(this);\n    this.clickKG = this.clickKG.bind(this);\n    this.handleKGClose = this.handleKGClose.bind(this);\n    this.setIcon = this.setIcon.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleMoveDown = this.handleMoveDown.bind(this);\n    this.handleMoveUp = this.handleMoveUp.bind(this);\n    this.toggleExpanded = this.toggleExpanded.bind(this);\n    this.handleItemsChange = this.handleItemsChange.bind(this);\n    this.toggleUseTabs = this.toggleUseTabs.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.storeSectionInfo(this.state);\n  }\n\n  handleItemsChange(items_data) {\n    // remove all entries where label, url and mc_url are all empty\n    // function isNotEmpty(item) {\n    //   if (\n    //     item.label.trim() !== \"\" ||\n    //     item.url.trim() !== \"\" ||\n    //     item.mc_url.trim() !== \"\"\n    //   ) {\n    //     return true;\n    //   } else {\n    //     return false;\n    //   }\n    // }\n    // var items_data = data.filter(isNotEmpty);\n    // console.log(items_data);\n    if (items_data.length === 0) {\n      items_data = [\n        {\n          type: \"URL\",\n          label: \"\",\n          url: \"\",\n          mc_url: \"\",\n          identifier: null,\n          tab_name: \"\",\n        },\n      ];\n    }\n\n    this.setState(\n      {\n        dataFormatted: items_data,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  toggleExpanded() {\n    console.log(this.state.expanded);\n    this.setState(\n      (prevState) => ({\n        expanded: !prevState.expanded,\n      }),\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  handleDelete(flag) {\n    console.log(flag);\n    this.setState({ deleteOpen: false });\n    if (flag) {\n      this.props.handleDelete(this.state.order);\n    }\n  }\n\n  handleMoveDown(event) {\n    event.stopPropagation();\n    this.props.handleMoveDown(this.state.order);\n  }\n\n  handleMoveUp(event) {\n    event.stopPropagation();\n    this.props.handleMoveUp(this.state.order);\n  }\n\n  handleFieldChange(event) {\n    console.log(event);\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n    // console.log(name + \" => \" + value);\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  setIcon(icon_name) {\n    this.setState(\n      {\n        icon: icon_name,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  clickEdit() {\n    this.setState({\n      showEdit: true,\n    });\n  }\n\n  handleEditClose() {\n    this.setState({\n      showEdit: false,\n    });\n  }\n\n  clickKG() {\n    this.setState({\n      showKGInput: true,\n    });\n  }\n\n  handleKGClose(flag, items) {\n    if (flag) {\n      console.log(items);\n      let new_items = [];\n      for (const model_id in items) {\n        for (const instance_id in items[model_id]) {\n          new_items.push({\n            type: \"ModelInstance\",\n            url: items[model_id][instance_id][\"source_url\"] || \"\",\n            label: items[model_id][instance_id][\"label\"] || \"\",\n            mc_url: mc_baseUrl + \"/#model_id.\" + model_id || \"\",\n            tab_name: \"\",\n            identifier: instance_id,\n          });\n        }\n      }\n      console.log(new_items);\n\n      this.setState(\n        (prevState) => ({\n          dataFormatted:\n            prevState.dataFormatted.length === 1 &&\n            prevState.dataFormatted[0].type === \"URL\" &&\n            prevState.dataFormatted[0].label === \"\" &&\n            prevState.dataFormatted[0].url === \"\" &&\n            prevState.dataFormatted[0].mc_url === \"\"\n              ? new_items\n              : prevState.dataFormatted.concat(new_items),\n          showKGInput: false,\n        }),\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    } else {\n      this.setState({\n        showKGInput: false,\n      });\n    }\n  }\n\n  toggleUseTabs() {\n    if (this.state.useTabs) {\n      // if turning off, then erase all tabs data\n      let dataFormatted = this.state.dataFormatted;\n      dataFormatted.forEach(function (item, index) {\n        item.tab_name = \"\";\n      });\n      this.setState(\n        {\n          dataFormatted: dataFormatted,\n          useTabs: false,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    } else {\n      this.setState(\n        {\n          useTabs: true,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    }\n  }\n\n  render() {\n    // console.log(this.state.dataFormatted);\n    return (\n      <div style={{ width: \"100%\", paddingTop: \"25px\", paddingBottom: \"25px\" }}>\n        <Accordion\n          expanded={this.state.expanded}\n          onChange={this.toggleExpanded}\n        >\n          <AccordionSummary\n            expandIcon={<Icon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              borderStyle: \"solid\",\n              borderColor: \"#86362D\",\n              borderWidth: \"2px\",\n              backgroundColor: \"#FF8A65\",\n              fontWeight: \"bold\",\n              color: \"#000000\",\n              width: \"100%\",\n              paddingRight: \"25px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                flexDirection: \"row\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  fontWeight: \"bolder\",\n                  fontSize: 16,\n                  color: \"#000000\",\n                }}\n              >\n                <span style={{ verticalAlign: \"middle\" }}>\n                  Section: Model Collection\n                </span>\n              </div>\n              <div>\n                <Tooltip title=\"Delete this section\">\n                  <DeleteForeverIcon\n                    style={{\n                      height: \"25px\",\n                      width: \"25px\",\n                      marginRight: \"30px\",\n                      color: \"#000000\",\n                    }}\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      this.setState({ deleteOpen: true });\n                    }}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section down\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"30px\",\n                      transform: `rotate(90deg)`,\n                      color:\n                        this.state.order === this.props.numResources - 1\n                          ? \"#A1887F\"\n                          : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveDown(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section up\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"20px\",\n                      transform: `rotate(270deg)`,\n                      color: this.state.order === 0 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveUp(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n              </div>\n            </div>\n          </AccordionSummary>\n          <AccordionDetails\n            style={{ paddingLeft: 0, paddingRight: 0, paddingBottom: 0 }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#FFE8E0\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  marginLeft: \"10px\",\n                  marginRight: \"10px\",\n                }}\n              >\n                <br />\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ width: \"50px\" }}>\n                    <MaterialIconSelector\n                      size=\"35px\"\n                      icon={this.state.icon}\n                      setIcon={this.setIcon}\n                    />\n                  </div>\n                  <div style={{ paddingLeft: \"20px\", flexGrow: 1 }}>\n                    <TextField\n                      label=\"Section Title\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.handleFieldChange}\n                      InputProps={{\n                        style: {\n                          padding: \"5px 15px\",\n                          backgroundColor: \"#FFFFFF\",\n                        },\n                      }}\n                    />\n                  </div>\n                </div>\n                <br />\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"2\"\n                    label=\"Description of models (optional)\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"The description may be formatted with Markdown\"\n                    name=\"description\"\n                    value={this.state.description}\n                    onChange={this.handleFieldChange}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                        backgroundColor: \"#FFFFFF\",\n                      },\n                    }}\n                  />\n                </Grid>\n                <br />\n                <Grid\n                  item\n                  xs={12}\n                  style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                >\n                  <span style={{ paddingRight: \"10px\" }}>\n                    Do you wish to use tabs to group items in this section?\n                  </span>\n                  <ToggleSwitch\n                    id=\"modelsTabs\"\n                    checked={this.state.useTabs}\n                    onChange={this.toggleUseTabs}\n                  />\n                </Grid>\n                {this.state.useTabs && (\n                  <Grid\n                    item\n                    xs={12}\n                    style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                  >\n                    <em>\n                      Note: All items to be grouped together should be assigned\n                      the same tab name.\n                    </em>\n                  </Grid>\n                )}\n                <DynamicTableItems\n                  items={this.state.dataFormatted}\n                  onChangeValue={this.handleItemsChange}\n                  handleEdit={this.clickEdit}\n                  handleKG={this.clickKG}\n                  numCols={3}\n                  useTabs={this.state.useTabs}\n                />\n                <br />\n                <br />\n                {this.state.showEdit ? (\n                  <SectionModelsEdit\n                    open={this.state.showEdit}\n                    title={this.state.title}\n                    data={this.state.dataFormatted}\n                    onChangeValue={this.handleItemsChange}\n                    handleClose={this.handleEditClose}\n                  />\n                ) : null}\n                {this.state.showKGInput ? (\n                  <KGInputModels\n                    open={this.state.showKGInput}\n                    handleClose={this.handleKGClose}\n                    validFilterValues={this.props.validFilterValues}\n                  />\n                ) : null}\n              </div>\n              <DialogConfirm\n                open={this.state.deleteOpen}\n                title=\"Please confirm to delete!\"\n                headerBgColor=\"#FF8A65\"\n                content={\n                  \"Do you wish to delete the models resource section with title: <b>\" +\n                  this.state.title +\n                  \"</b>\"\n                }\n                handleClose={this.handleDelete}\n                size=\"xs\"\n                onChangeValue={this.handleItemsChange}\n              />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaterialIconSelector from \"./MaterialIconSelector\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ModalDialog from \"./ModalDialog\";\nimport DialogConfirm from \"./DialogConfirm\";\nimport DynamicTableItems from \"./DynamicTableItems\";\nimport ToggleSwitch from \"./ToggleSwitch\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport UnfoldLessIcon from \"@material-ui/icons/UnfoldLess\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport styled from \"styled-components\";\n\nfunction HelpContent() {\n  const list_of_dicts = `\n    [\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/listing/file_idB.dat\",\n          \"label\": \"file_A\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/listing/file_idC.dat\",\n          \"label\": \"file_B\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/listing/file_idF.dat\",\n          \"label\": \"file_C\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/listing/file_idG.dat\",\n          \"label\": \"file_D\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n        {\n          \"type\": \"URL\",\n          \"url\": \"https://www.datasource.com/listing/file_idH.dat\",\n          \"label\": \"file_E\",\n          \"identifier\": null,\n          \"tab_name\": \"Group A\"\n        },\n      ]`;\n\n  return (\n    <div>\n      The listing data can be input in the following format:\n      <br />\n      <br />\n      <h6>\n        <b>List of dicts/objects</b>\n      </h6>\n      Each dict in the list should have keys named 'type', 'url', 'label',\n      'identifier' and 'tab_name'. The 'identifier' field corresponds to the\n      Knowledge Graph UUID. For manually entered items, 'type' and 'identifier'\n      can be set to 'URL' and 'null', respectively. <i>Example:</i>\n      <br />\n      <pre>\n        <code>{list_of_dicts}</code>\n      </pre>\n    </div>\n  );\n}\n\nexport class SectionGenericEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showHelp: false,\n      dataOk: true,\n      data: props.data,\n    };\n\n    this.clickHelp = this.clickHelp.bind(this);\n    this.handleHelpClose = this.handleHelpClose.bind(this);\n    this.handleDataInputOnBlur = this.handleDataInputOnBlur.bind(this);\n    this.handleSaveData = this.handleSaveData.bind(this);\n  }\n\n  clickHelp() {\n    this.setState({\n      showHelp: true,\n    });\n  }\n\n  handleHelpClose() {\n    this.setState({\n      showHelp: false,\n    });\n  }\n\n  handleDataInputOnBlur(event) {\n    // check data input format\n    function IsJsonString(str) {\n      try {\n        var json = JSON.parse(str);\n        return typeof json === \"object\";\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (IsJsonString(event.target.value)) {\n      console.log(\"Input: JSON\");\n      // input is a JSON\n      var data_json = JSON.parse(event.target.value);\n\n      // check if list of dicts in required format\n      function checkIfObject(item) {\n        return (\n          typeof item === \"object\" &&\n          item !== null &&\n          \"url\" in item &&\n          \"label\" in item &&\n          \"tab_name\" in item &&\n          typeof item[\"url\"] === \"string\" &&\n          typeof item[\"label\"] === \"string\" &&\n          typeof item[\"tab_name\"] === \"string\"\n        );\n      }\n\n      if (Array.isArray(data_json) && data_json.every(checkIfObject)) {\n        // data is a list of dicts\n        console.log(\"Input: JSON - list of dicts\");\n        this.setState({\n          dataOk: true,\n          data: data_json,\n        });\n      } else {\n        console.log(\"Input: JSON - invalid format\");\n        this.setState({\n          dataOk: false,\n        });\n      }\n    } else {\n      console.log(\"Data not in proper format!\");\n      this.setState({\n        dataOk: false,\n      });\n    }\n  }\n\n  handleSaveData(flag) {\n    if (flag) {\n      console.log(flag);\n      if (this.state.dataOk) {\n        console.log(\"Saved\");\n        this.props.onChangeValue(this.state.data);\n        this.props.handleClose();\n      } else {\n        console.log(\"Error\");\n        console.log(\"Edited data not in proper format!\");\n      }\n    } else {\n      this.props.handleClose();\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <Grid item xs={12}>\n          <TextField\n            multiline\n            rows=\"8\"\n            label=\"Edit source code for listing:\"\n            variant=\"outlined\"\n            fullWidth={true}\n            helperText={\"Click 'Help' for info on input format.\"}\n            name=\"data\"\n            defaultValue={JSON.stringify(this.state.data, null, 4)}\n            onBlur={this.handleDataInputOnBlur}\n            error={!this.state.dataOk}\n            InputProps={{\n              style: {\n                padding: \"15px 15px\",\n                backgroundColor: \"#FFFFFF\",\n              },\n            }}\n          />\n          {!this.state.dataOk && (\n            <div style={{ color: \"red\", paddingTop: \"10px\" }}>\n              <strong>\n                Data not in expected format! Click on 'Help' for more info.\n              </strong>\n            </div>\n          )}\n        </Grid>\n        {this.state.showHelp ? (\n          <ModalDialog\n            open={this.state.showHelp}\n            title=\"Data Input\"\n            headerBgColor=\"#AA91D7\"\n            content={<HelpContent />}\n            handleClose={this.handleHelpClose}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  render() {\n    console.log(this.props);\n    return (\n      <DialogConfirm\n        open={this.props.open}\n        title={\"Edit Source: \" + this.props.title}\n        headerBgColor=\"#AA91D7\"\n        content={this.renderContent()}\n        handleClose={this.handleSaveData}\n        clickHelp={this.clickHelp}\n      />\n    );\n  }\n}\n\nconst Icon = styled((props) => (\n  <div {...props} style={{ color: \"#000000\" }}>\n    <div className=\"y\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldMoreIcon />\n      </span>\n    </div>\n    <div className=\"n\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldLessIcon />\n      </span>\n    </div>\n  </div>\n))`\n  & > .y {\n    display: block;\n  }\n  & > .n {\n    display: none;\n  }\n  .Mui-expanded & > .n {\n    display: block;\n  }\n  .Mui-expanded & > .y {\n    display: none;\n  }\n`;\n\nexport default class SectionGeneric extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: null,\n      type: \"section_generic\",\n      title: \"Listing Title\",\n      icon: \"format_list_bulleted\",\n      description: \"\",\n      dataOk: true,\n      dataFormatted: [],\n      showEdit: false,\n      deleteOpen: false,\n      expanded: true,\n      useTabs: false,\n      ...props.data,\n    };\n\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.clickEdit = this.clickEdit.bind(this);\n    this.handleEditClose = this.handleEditClose.bind(this);\n    this.setIcon = this.setIcon.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleMoveDown = this.handleMoveDown.bind(this);\n    this.handleMoveUp = this.handleMoveUp.bind(this);\n    this.toggleExpanded = this.toggleExpanded.bind(this);\n    this.handleItemsChange = this.handleItemsChange.bind(this);\n    this.toggleUseTabs = this.toggleUseTabs.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.storeSectionInfo(this.state);\n  }\n\n  handleItemsChange(items_data) {\n    // remove all entries where label and url are all empty\n    // function isNotEmpty(item) {\n    //   if (\n    //     item.label.trim() !== \"\" ||\n    //     item.url.trim() !== \"\"\n    //   ) {\n    //     return true;\n    //   } else {\n    //     return false;\n    //   }\n    // }\n    // var items_data = data.filter(isNotEmpty);\n    // console.log(items_data);\n    if (items_data.length === 0) {\n      items_data = [\n        {\n          type: \"URL\",\n          label: \"\",\n          url: \"\",\n          identifier: null,\n          tab_name: \"\",\n        },\n      ];\n    }\n\n    this.setState(\n      {\n        dataFormatted: items_data,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  toggleExpanded() {\n    console.log(this.state.expanded);\n    this.setState(\n      (prevState) => ({\n        expanded: !prevState.expanded,\n      }),\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  handleDelete(flag) {\n    console.log(flag);\n    this.setState({ deleteOpen: false });\n    if (flag) {\n      this.props.handleDelete(this.state.order);\n    }\n  }\n\n  handleMoveDown(event) {\n    event.stopPropagation();\n    this.props.handleMoveDown(this.state.order);\n  }\n\n  handleMoveUp(event) {\n    event.stopPropagation();\n    this.props.handleMoveUp(this.state.order);\n  }\n\n  handleFieldChange(event) {\n    console.log(event);\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n    // console.log(name + \" => \" + value);\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  setIcon(icon_name) {\n    this.setState(\n      {\n        icon: icon_name,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  clickEdit() {\n    this.setState({\n      showEdit: true,\n    });\n  }\n\n  handleEditClose() {\n    this.setState({\n      showEdit: false,\n    });\n  }\n\n  toggleUseTabs() {\n    if (this.state.useTabs) {\n      // if turning off, then erase all tabs data\n      let dataFormatted = this.state.dataFormatted;\n      dataFormatted.forEach(function (item, index) {\n        item.tab_name = \"\";\n      });\n      this.setState(\n        {\n          dataFormatted: dataFormatted,\n          useTabs: false,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    } else {\n      this.setState(\n        {\n          useTabs: true,\n        },\n        () => {\n          this.props.storeSectionInfo(this.state);\n        }\n      );\n    }\n  }\n\n  render() {\n    // console.log(this.state.dataFormatted);\n    return (\n      <div style={{ width: \"100%\", paddingTop: \"25px\", paddingBottom: \"25px\" }}>\n        <Accordion\n          expanded={this.state.expanded}\n          onChange={this.toggleExpanded}\n        >\n          <AccordionSummary\n            expandIcon={<Icon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              borderStyle: \"solid\",\n              borderColor: \"#311B92\",\n              borderWidth: \"2px\",\n              backgroundColor: \"#AA91D7\",\n              fontWeight: \"bold\",\n              color: \"#000000\",\n              width: \"100%\",\n              paddingRight: \"25px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                flexDirection: \"row\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  fontWeight: \"bolder\",\n                  fontSize: 16,\n                  color: \"#000000\",\n                }}\n              >\n                <span style={{ verticalAlign: \"middle\" }}>\n                  Section: Generic Listing\n                </span>\n              </div>\n              <div>\n                <Tooltip title=\"Delete this section\">\n                  <DeleteForeverIcon\n                    style={{\n                      height: \"25px\",\n                      width: \"25px\",\n                      marginRight: \"30px\",\n                      color: \"#000000\",\n                    }}\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      this.setState({ deleteOpen: true });\n                    }}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section down\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"30px\",\n                      transform: `rotate(90deg)`,\n                      color:\n                        this.state.order === this.props.numResources - 1\n                          ? \"#A1887F\"\n                          : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveDown(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section up\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"20px\",\n                      transform: `rotate(270deg)`,\n                      color: this.state.order === 0 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveUp(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n              </div>\n            </div>\n          </AccordionSummary>\n          <AccordionDetails\n            style={{ paddingLeft: 0, paddingRight: 0, paddingBottom: 0 }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#EAE3F5\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  marginLeft: \"10px\",\n                  marginRight: \"10px\",\n                }}\n              >\n                <br />\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ width: \"50px\" }}>\n                    <MaterialIconSelector\n                      size=\"35px\"\n                      icon={this.state.icon}\n                      setIcon={this.setIcon}\n                    />\n                  </div>\n                  <div style={{ paddingLeft: \"20px\", flexGrow: 1 }}>\n                    <TextField\n                      label=\"Section Title\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.handleFieldChange}\n                      InputProps={{\n                        style: {\n                          padding: \"5px 15px\",\n                          backgroundColor: \"#FFFFFF\",\n                        },\n                      }}\n                    />\n                  </div>\n                </div>\n                <br />\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"2\"\n                    label=\"Description (optional)\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"The description may be formatted with Markdown\"\n                    name=\"description\"\n                    value={this.state.description}\n                    onChange={this.handleFieldChange}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                        backgroundColor: \"#FFFFFF\",\n                      },\n                    }}\n                  />\n                </Grid>\n                <br />\n                <Grid\n                  item\n                  xs={12}\n                  style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                >\n                  <span style={{ paddingRight: \"10px\" }}>\n                    Do you wish to use tabs to group items in this section?\n                  </span>\n                  <ToggleSwitch\n                    id=\"genericTabs\"\n                    checked={this.state.useTabs}\n                    onChange={this.toggleUseTabs}\n                  />\n                </Grid>\n                {this.state.useTabs && (\n                  <Grid\n                    item\n                    xs={12}\n                    style={{ paddingLeft: \"10px\", paddingBottom: \"20px\" }}\n                  >\n                    <em>\n                      Note: All items to be grouped together should be assigned\n                      the same tab name.\n                    </em>\n                  </Grid>\n                )}\n                <DynamicTableItems\n                  items={this.state.dataFormatted}\n                  onChangeValue={this.handleItemsChange}\n                  handleEdit={this.clickEdit}\n                  numCols={2}\n                  useTabs={this.state.useTabs}\n                />\n                <br />\n                <br />\n                {this.state.showEdit ? (\n                  <SectionGenericEdit\n                    open={this.state.showEdit}\n                    title={this.state.title}\n                    data={this.state.dataFormatted}\n                    onChangeValue={this.handleItemsChange}\n                    handleClose={this.handleEditClose}\n                  />\n                ) : null}\n              </div>\n              <DialogConfirm\n                open={this.state.deleteOpen}\n                title=\"Please confirm to delete!\"\n                headerBgColor=\"#AA91D7\"\n                content={\n                  \"Do you wish to delete the generic resource section with title: <b>\" +\n                  this.state.title +\n                  \"</b>\"\n                }\n                handleClose={this.handleDelete}\n                size=\"xs\"\n                onChangeValue={this.handleItemsChange}\n              />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaterialIconSelector from \"./MaterialIconSelector\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ModalDialog from \"./ModalDialog\";\nimport DialogConfirm from \"./DialogConfirm\";\nimport { Converter } from \"showdown\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport UnfoldLessIcon from \"@material-ui/icons/UnfoldLess\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport styled from \"styled-components\";\n\nfunction HelpContentCustom() {\n  const example_markdown = `\n    #### Sample Table\n\n    | # | Model     | Status      |\n    |---|-----------|-------------|\n    | 1 | Model v1  | Published   |\n    | 2 | Model v2  | Published   |\n    | 3 | Model v2a | Development |\n    `;\n\n  const example_html = `\n    <h4 id=\"sampletable\">Sample Table</h4>\n    <table>\n        <thead>\n            <tr>\n                <td>#</td>\n                <td>Model</td>\n                <td>Status</td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>1</td>\n                <td>Model v1</td>\n                <td>Published</td>\n            </tr>\n            <tr>\n                <td>2</td>\n                <td>Model v2</td>\n                <td>Published</td>\n            </tr>\n            <tr>\n                <td>3</td>\n                <td>Model v2a</td>\n                <td>Development</td>\n            </tr>\n        </tbody>\n    </table>`;\n\n  return (\n    <div>\n      You can enter custom content using either Markdown syntax or HTML.\n      <br />\n      <br />\n      <h6>\n        <b>Example of Markdown input:</b>\n      </h6>\n      <pre>\n        <code>{example_markdown}</code>\n      </pre>\n      <h6>\n        <b>Example of HTML input:</b>\n      </h6>\n      <pre>\n        <code>{example_html}</code>\n      </pre>\n    </div>\n  );\n}\n\nconst Icon = styled((props) => (\n  <div {...props} style={{ color: \"#000000\" }}>\n    <div className=\"y\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldMoreIcon />\n      </span>\n    </div>\n    <div className=\"n\">\n      <span style={{ verticalAlign: \"middle\" }}>\n        <UnfoldLessIcon />\n      </span>\n    </div>\n  </div>\n))`\n  & > .y {\n    display: block;\n  }\n  & > .n {\n    display: none;\n  }\n  .Mui-expanded & > .n {\n    display: block;\n  }\n  .Mui-expanded & > .y {\n    display: none;\n  }\n`;\n\nexport default class SectionCustom extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: null,\n      type: \"section_custom\",\n      title: \"Custom Section\",\n      icon: \"check_box_outline_blank\",\n      //   description: \"\", // no description field for SectionCustom\n      data: \"\",\n      // NOTE: in KG schema, dataFormatted is stored under \"description\" field (for schema purposes),\n      // Handled by SaveModal.adjustForKGSchema()\n      dataFormatted: \"\",\n      showHelp: false,\n      deleteOpen: false,\n      expanded: true,\n      ...props.data,\n    };\n\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.clickHelp = this.clickHelp.bind(this);\n    this.handleHelpClose = this.handleHelpClose.bind(this);\n    this.setIcon = this.setIcon.bind(this);\n    this.handleDataInputOnBlur = this.handleDataInputOnBlur.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleMoveDown = this.handleMoveDown.bind(this);\n    this.handleMoveUp = this.handleMoveUp.bind(this);\n    this.toggleExpanded = this.toggleExpanded.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.storeSectionInfo(this.state);\n  }\n\n  toggleExpanded() {\n    console.log(this.state.expanded);\n    this.setState(\n      (prevState) => ({\n        expanded: !prevState.expanded,\n      }),\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  handleDelete(flag) {\n    console.log(flag);\n    this.setState({ deleteOpen: false });\n    if (flag) {\n      this.props.handleDelete(this.state.order);\n    }\n  }\n\n  handleMoveDown(event) {\n    event.stopPropagation();\n    this.props.handleMoveDown(this.state.order);\n  }\n\n  handleMoveUp(event) {\n    event.stopPropagation();\n    this.props.handleMoveUp(this.state.order);\n  }\n\n  handleFieldChange(event) {\n    console.log(event);\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n    // console.log(name + \" => \" + value);\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  setIcon(icon_name) {\n    this.setState(\n      {\n        icon: icon_name,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  clickHelp() {\n    this.setState({\n      showHelp: true,\n    });\n  }\n\n  handleHelpClose() {\n    this.setState({\n      showHelp: false,\n    });\n  }\n\n  handleDataInputOnBlur(event) {\n    const converter = new Converter({ tables: true });\n    let value = converter.makeHtml(this.state.data);\n\n    this.setState(\n      {\n        dataFormatted: value,\n      },\n      () => {\n        this.props.storeSectionInfo(this.state);\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div style={{ width: \"100%\", paddingTop: \"25px\", paddingBottom: \"25px\" }}>\n        <Accordion\n          expanded={this.state.expanded}\n          onChange={this.toggleExpanded}\n        >\n          <AccordionSummary\n            expandIcon={<Icon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              borderStyle: \"solid\",\n              borderColor: \"#525252\",\n              borderWidth: \"2px\",\n              backgroundColor: \"#ABABAB\",\n              fontWeight: \"bold\",\n              color: \"#000000\",\n              width: \"100%\",\n              paddingRight: \"25px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                flexDirection: \"row\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  fontWeight: \"bolder\",\n                  fontSize: 16,\n                  color: \"#000000\",\n                }}\n              >\n                <span style={{ verticalAlign: \"middle\" }}>\n                  Section: Custom HTML / Markdown\n                </span>\n              </div>\n              <div>\n                <Tooltip title=\"Delete this section\">\n                  <DeleteForeverIcon\n                    style={{\n                      height: \"25px\",\n                      width: \"25px\",\n                      marginRight: \"30px\",\n                      color: \"#000000\",\n                    }}\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      this.setState({ deleteOpen: true });\n                    }}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section down\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"30px\",\n                      transform: `rotate(90deg)`,\n                      color:\n                        this.state.order === this.props.numResources - 1\n                          ? \"#A1887F\"\n                          : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveDown(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n                <Tooltip title=\"Move section up\">\n                  <ForwardIcon\n                    stroke={\"#000000\"}\n                    strokeWidth={1}\n                    style={{\n                      marginRight: \"20px\",\n                      transform: `rotate(270deg)`,\n                      color: this.state.order === 0 ? \"#A1887F\" : \"#000000\",\n                    }}\n                    onClick={(event) => this.handleMoveUp(event)}\n                    onFocus={(event) => event.stopPropagation()}\n                  />\n                </Tooltip>\n              </div>\n            </div>\n          </AccordionSummary>\n          <AccordionDetails\n            style={{ paddingLeft: 0, paddingRight: 0, paddingBottom: 0 }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#EAEAEA\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                style={{\n                  marginLeft: \"10px\",\n                  marginRight: \"10px\",\n                }}\n              >\n                <br />\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ width: \"50px\" }}>\n                    <MaterialIconSelector\n                      size=\"35px\"\n                      icon={this.state.icon}\n                      setIcon={this.setIcon}\n                    />\n                  </div>\n                  <div style={{ paddingLeft: \"20px\", flexGrow: 1 }}>\n                    <TextField\n                      label=\"Section Title\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.handleFieldChange}\n                      InputProps={{\n                        style: {\n                          padding: \"5px 15px\",\n                          backgroundColor: \"#FFFFFF\",\n                        },\n                      }}\n                    />\n                  </div>\n                  <div\n                    style={{\n                      width: \"50px\",\n                      paddingLeft: \"20px\",\n                      paddingTop: \"10px\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <Tooltip title=\"Click for info on input format\">\n                      <HelpIcon\n                        style={{ width: 30, height: 30 }}\n                        onClick={this.clickHelp}\n                      />\n                    </Tooltip>\n                  </div>\n                </div>\n                <br />\n\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"8\"\n                    label=\"Input custom content\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"Click on ? icon for info on input format.\"\n                    name=\"data\"\n                    value={this.state.data}\n                    onChange={this.handleFieldChange}\n                    onBlur={this.handleDataInputOnBlur}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                        backgroundColor: \"#FFFFFF\",\n                        fontFamily:\n                          \"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace\",\n                      },\n                    }}\n                  />\n                </Grid>\n                <br />\n                <br />\n                {this.state.showHelp ? (\n                  <ModalDialog\n                    open={this.state.showHelp}\n                    title=\"Custom Input\"\n                    headerBgColor=\"#ABABAB\"\n                    handleClose={this.handleHelpClose}\n                    content={<HelpContentCustom />}\n                  />\n                ) : null}\n              </div>\n              <DialogConfirm\n                open={this.state.deleteOpen}\n                title=\"Please confirm to delete!\"\n                headerBgColor=\"#ABABAB\"\n                content={\n                  \"Do you wish to delete the custom resource section with title: <b>\" +\n                  this.state.title +\n                  \"</b>\"\n                }\n                handleClose={this.handleDelete}\n                size=\"xs\"\n              />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport styled from \"styled-components\";\nexport const Switch = styled.div`\n  position: relative;\n  height: 40px;\n  width: 400px;\n  background-color: #e4e4e4;\n  border-radius: 3px;\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px rgba(255, 255, 255, 0.1);\n`;\n\nexport const SwitchRadio = styled.input`\n  display: none;\n`;\n\nexport const SwitchSelection = styled.span`\n  display: block;\n  position: absolute;\n  z-index: 1;\n  top: 0px;\n  left: 0px;\n  width: 200px;\n  height: 40px;\n  background: #216ba5;\n  border-radius: 3px;\n  transition: left 0.25s ease-out;\n`;\n\nexport const SwitchLabel = styled.label`\n  position: relative;\n  z-index: 2;\n  float: left;\n  width: 200px;\n  line-height: 40px;\n  color: rgba(0, 0, 0, 0.6);\n  text-align: center;\n  cursor: pointer;\n\n  ${SwitchRadio}:checked + & {\n    transition: 0.15s ease-out;\n    color: #fff;\n  }\n`;\n\nconst titleCase = (str) =>\n  str\n    .split(/\\s+/)\n    .map((w) => w[0].toUpperCase() + w.slice(1))\n    .join(\" \");\n\nconst ClickableLabel = ({ title, onChange, id }) => (\n  <SwitchLabel onClick={() => onChange(title)} className={id}>\n    <span style={{fontSize: 16 }}>\n      {titleCase(title)}\n    </span>\n  </SwitchLabel>\n);\n\nconst ConcealedRadio = ({ value, selected }) => (\n  <SwitchRadio\n    type=\"radio\"\n    name=\"switch\"\n    checked={selected === value}\n    onChange={() => {}}\n  />\n);\n\nexport default class SwitchTwoWay extends React.Component {\n  state = { selected: this.props.selected };\n\n  handleChange = (val) => {\n    this.setState({ selected: val });\n    this.props.onChange(val);\n  };\n\n  selectionStyle = () => {\n    return {\n      left: `${(this.props.values.indexOf(this.state.selected) / 2) * 100}%`,\n    };\n  };\n\n  render() {\n    const { selected } = this.state;\n    return (\n      <Switch>\n        {this.props.values.map((val) => {\n          return (\n            <span key={val}>\n              <ConcealedRadio value={val} selected={selected} />\n              <ClickableLabel title={val} onChange={this.handleChange} />\n            </span>\n          );\n        })}\n        <SwitchSelection style={this.selectionStyle()} />\n      </Switch>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/LivePaper.3cee76f3.njk\";","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass ColoredCircularProgress extends Component {\n    render() {\n        const { classes } = this.props;\n        return <CircularProgress {...this.props} classes={{ colorPrimary: classes.colorPrimary, barColorPrimary: classes.barColorPrimary }} />;\n    }\n}\n\nconst styles = props => ({\n    colorPrimary: {\n        backgroundColor: 'transparent',\n        color: '#FF9800'\n    },\n});\n\nexport default withStyles(styles)(ColoredCircularProgress);","import Dialog from '@material-ui/core/Dialog';\nimport React from 'react';\nimport ColoredCircularProgress from './ColoredCircularProgress';\n\nexport default function LoadingIndicatorModal(props) {\n    return (\n        <Dialog open={props.open} fullWidth={true}\n            maxWidth={'md'} PaperProps={{\n                style: {\n                    backgroundColor: 'transparent',\n                    boxShadow: 'none',\n                    width: '250'\n                },\n            }}>\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '100px', marginBottom: '100px' }}>\n                <ColoredCircularProgress thickness={5.0} />\n            </div>\n        </Dialog>\n    )\n};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport axios from \"axios\";\nimport SwitchTwoWay from \"./SwitchTwoWay\";\nimport ContextMain from \"./ContextMain\";\nimport LoadingIndicatorModal from \"./LoadingIndicatorModal\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SingleSelect from \"./SingleSelect\";\nimport ErrorDialog from \"./ErrorDialog\";\nimport { baseUrl, separator } from \"./globals\";\nimport { replaceEmptyStringsWithNull, showNotification } from \"./utils\";\n\nexport default class SaveModal extends React.Component {\n  signal = axios.CancelToken.source();\n  static contextType = ContextMain;\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      data: props.data,\n      error: null,\n      loading: false,\n      collab_id: props.data.collab_id,\n      live_paper_name: props.data.live_paper_title,\n      live_paper_name_unique: true,\n      mode: props.data.id ? \"Save to Existing\" : null,\n    };\n\n    // const [authContext,] = this.context.auth;\n\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.checkRequirementsOnPage = this.checkRequirementsOnPage.bind(this);\n    this.checkRequirementsOnPayload = this.checkRequirementsOnPayload.bind(\n      this\n    );\n    this.handleErrorDialogClose = this.handleErrorDialogClose.bind(this);\n    this.handleCollabIDChange = this.handleCollabIDChange.bind(this);\n    this.handleLivePaperNameChange = this.handleLivePaperNameChange.bind(this);\n    this.checkLivePaperNameUnique = this.checkLivePaperNameUnique.bind(this);\n    this.adjustForKGSchema = this.adjustForKGSchema.bind(this);\n    this.handleModeChange = this.handleModeChange.bind(this);\n  }\n\n  handleCancel() {\n    this.props.onClose(false);\n  }\n\n  checkRequirementsOnPage(dta) {\n    let flag = true;\n    // a collab must be specified\n    if (!this.state.collab_id) {\n      flag = false;\n    }\n\n    // a live paper name be specified\n    if (!this.state.live_paper_name) {\n      flag = false;\n      this.setState({ live_paper_name_unique: false });\n    }\n    return flag;\n  }\n\n  checkRequirementsOnPayload(data) {\n    // placeholder for future checks\n    return true;\n\n    // let error = null;\n    // if (...) {\n    //   error = \"error message #1!\";\n    // }\n    // if (...) {\n    //   error = error ? error + \"\\n\" : \"\";\n    //   error += \"error message #2!\";\n    // }\n    // console.log(error);\n    // if (error) {\n    //   this.setState({\n    //     error: error,\n    //   });\n    //   return false;\n    // } else {\n    // this.setState({\n    //     error: null,\n    //   });\n    //   return true;\n    // }\n  }\n\n  handleErrorDialogClose() {\n    this.setState({ error: false });\n    this.props.onClose(false);\n  }\n\n  handleCollabIDChange(event) {\n    let value = event.target.value;\n    // console.log(value);\n    // console.log(event);\n    this.setState({\n      collab_id: value,\n    });\n  }\n\n  handleLivePaperNameChange(event) {\n    let value = event.target.value;\n    // console.log(value);\n    // console.log(event);\n    this.setState({\n      live_paper_name: value,\n      live_paper_name_unique: null,\n    });\n  }\n\n  async checkLivePaperNameUnique(name) {\n    let flag = null;\n    const url = baseUrl + \"/livepapers/\";\n    const config = {\n      cancelToken: this.signal.token,\n      headers: { Authorization: \"Bearer \" + this.context.auth[0].token },\n    };\n    await axios\n      .get(url, config)\n      .then((res) => {\n        // item.title to be changed in future to live_paper_title'\n        let found = null;\n        if (this.state.mode === \"Save to Existing\") {\n          found = res.data.find(\n            // allow if it is the existing LP entry with same name and id\n            (item) => item.title === name && item.id !== this.props.data.id\n          );\n        } else {\n          found = res.data.find((item) => item.title === name);\n        }\n        console.log(found);\n        if (found) {\n          // duplicate\n          this.setState({\n            live_paper_name_unique: false,\n          });\n          flag = false;\n        } else {\n          // unique\n          this.setState({\n            live_paper_name_unique: true,\n          });\n          flag = true;\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error: \", err.message);\n        flag = false;\n      });\n    return flag;\n  }\n\n  handleSave() {\n    this.setState({ loading: true, live_paper_name_unique: null }, async () => {\n      const payload = {\n        ...this.adjustForKGSchema(this.props.data),\n        collab_id: this.state.collab_id,\n        live_paper_title: this.state.live_paper_name,\n      };\n      console.log(payload);\n      if (\n        this.checkRequirementsOnPage() &&\n        this.checkRequirementsOnPayload(payload)\n      ) {\n        let isUnique = await this.checkLivePaperNameUnique(\n          this.state.live_paper_name\n        );\n        // console.log(\"isUnique: \", isUnique);\n        if (isUnique) {\n          let url = baseUrl + \"/livepapers/\";\n          let config = {\n            cancelToken: this.signal.token,\n            headers: {\n              Authorization: \"Bearer \" + this.context.auth[0].token,\n              \"Content-type\": \"application/json\",\n            },\n          };\n\n          if (this.state.mode === \"Save to Existing\") {\n            console.log(\"PUT\");\n            url = url + this.props.data.id;\n            axios\n              .put(url, payload, config)\n              .then((res) => {\n                // PUT returns null on success\n                // console.log(res);\n                // console.log(\"UUID = \", res.data.id);\n                // this.props.setID(res.data.id);\n                this.props.setCollabID(this.state.collab_id);\n                this.props.setLivePaperTitle(this.state.live_paper_name);\n                this.props.setLivePaperModifiedDate(payload.modified_date);\n                this.setState({ loading: false });\n                showNotification(\n                  this.props.enqueueSnackbar,\n                  this.props.closeSnackbar,\n                  \"Saved to KG!\",\n                  \"success\"\n                );\n                this.props.onClose(true);\n              })\n              .catch((err) => {\n                if (axios.isCancel(err)) {\n                  console.log(\"Error: \", err.message);\n                } else {\n                  console.log(err);\n                  console.log(err.response);\n                  this.setState({\n                    error: err.response,\n                  });\n                }\n                this.setState({ loading: false });\n              });\n          } else {\n            console.log(\"POST\");\n            // Set id to null for creating new entry via POST\n            payload.id = null;\n            axios\n              .post(url, payload, config)\n              .then((res) => {\n                console.log(res);\n                console.log(\"UUID = \", res.data.id);\n                this.props.setID(res.data.id);\n                this.props.setCollabID(this.state.collab_id);\n                this.props.setLivePaperTitle(this.state.live_paper_name);\n                this.props.setLivePaperModifiedDate(payload.modified_date);\n                this.setState({ loading: false });\n                showNotification(\n                  this.props.enqueueSnackbar,\n                  this.props.closeSnackbar,\n                  \"Saved to KG!\",\n                  \"success\"\n                );\n                this.props.onClose(true);\n              })\n              .catch((err) => {\n                if (axios.isCancel(err)) {\n                  console.log(\"Error: \", err.message);\n                } else {\n                  console.log(err);\n                  console.log(err.response);\n                  this.setState({\n                    error: err.response,\n                  });\n                }\n                this.setState({ loading: false });\n              });\n          }\n        } else {\n          this.setState({ loading: false });\n        }\n      } else {\n        this.setState({ loading: false });\n      }\n    });\n  }\n\n  adjustForKGSchema(data) {\n    let payload = JSON.parse(JSON.stringify(data)); // copy by value\n\n    // KG requires 'dataFormatted' value for SectionCustom in 'description' field\n    payload.resources.forEach(function (res, index) {\n      // creating extra copy here to handle problem with shallow copy of nested object\n      let temp_res = JSON.parse(JSON.stringify(res));\n      if (res.type === \"section_custom\") {\n        res.description = temp_res.dataFormatted;\n        res.dataFormatted = [];\n      }\n    });\n\n    // KG requires all 'url' field in resource sections to have a valid URL\n    payload.resources.forEach(function (res, index) {\n      if (res.type !== \"section_custom\") {\n        res.dataFormatted.forEach(function (res_item, index) {\n          if (res_item.url === \"\") {\n            res_item.url = \"http://www.ToBeFilled.com\";\n          }\n        });\n      }\n    });\n\n    // KG requires 'data' value for all Sections; LP tool no longer uses 'data' field\n    payload.resources.forEach(function (res, index) {\n      if (res.type !== \"section_custom\") {\n        res.data = \"None\";\n      }\n    });\n\n    // handle useTabs for resources\n    // KG doesn't have a separate field for saving tabs_name;\n    // this is handled by appending it to the label with a separator (#-#)\n    payload.resources.forEach(function (res, index) {\n      if (res.type !== \"section_custom\") {\n        res.dataFormatted.forEach(function (res_item, index) {\n          if (res_item.tab_name) {\n            res_item.label = res_item.label + separator + res_item.tab_name;\n          }\n        });\n      }\n    });\n\n    // console.log(replaceEmptyStringsWithNull(payload));\n    return replaceEmptyStringsWithNull(payload);\n  }\n\n  handleModeChange(mode) {\n    this.setState({ mode: mode });\n  }\n\n  render() {\n    // console.log(this.props);\n    // console.log(this.state);\n    if (this.state.error) {\n      return (\n        <ErrorDialog\n          open={Boolean(this.state.error)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={this.state.error.message || this.state.error}\n        />\n      );\n    } else {\n      return (\n        <Dialog\n          onClose={this.handleClose}\n          aria-labelledby=\"simple-dialog-title\"\n          open={this.props.open}\n          fullWidth={true}\n          maxWidth=\"md\"\n        >\n          <DialogTitle style={{ backgroundColor: \"#ffd180\" }}>\n            <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n              Save Live Paper On EBRAINS Knowledge Graph\n            </span>\n          </DialogTitle>\n          <DialogContent>\n            <LoadingIndicatorModal open={this.state.loading} />\n            <Box my={2}>\n              Each live paper needs to be associated with a Collab on the\n              EBRAINS Collaboratory, to handle access permissions for viewing\n              live papers prior to their publication, and their editing in\n              future. Accordingly, please specify a Collab for this live paper.\n              You may need to create a new Collab if you don't already have\n              access to one.{\" \"}\n              <a\n                href=\"https://wiki.ebrains.eu/bin/view/Collabs?clbaction=create\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Click here\n              </a>{\" \"}\n              to create a new Collab.\n            </Box>\n            <Box my={2}>\n              <SingleSelect\n                name=\"project_id\"\n                itemNames={\n                  this.props.collab_list\n                    ? this.props.collab_list.length > 0\n                      ? this.props.collab_list\n                      : [\"Please create a new Collab!\"]\n                    : [\"Loading... please wait!\"]\n                }\n                label=\"Collab\"\n                value={\n                  this.props.collab_list\n                    ? this.props.collab_list.length > 0\n                      ? this.state.collab_id\n                      : \"Please create a new Collab!\"\n                    : \"Loading... please wait!\"\n                }\n                helperText=\"Select a host Collab for this live paper\"\n                handleChange={this.handleCollabIDChange}\n                disabled={\n                  !(this.props.collab_list && this.props.collab_list.length > 0)\n                }\n              />\n            </Box>\n            {!this.state.collab_id && (\n              <div style={{ color: \"red\" }}>\n                <strong>A Collab must be specified!</strong>\n              </div>\n            )}\n            <Box my={2}>\n              <div>\n                <p>\n                  <strong>\n                    Please specify a unique name to identify this live paper:\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <TextField\n                  label=\"Live Paper Name\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"password\"\n                  value={this.state.live_paper_name}\n                  onChange={this.handleLivePaperNameChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                      width: \"75%\",\n                    },\n                  }}\n                />\n              </div>\n              {!this.state.live_paper_name && (\n                <div style={{ color: \"red\", paddingTop: \"10px\" }}>\n                  <strong>A Live Paper name must be specified!</strong>\n                </div>\n              )}\n              {this.state.live_paper_name &&\n                this.state.live_paper_name_unique === false && (\n                  <div style={{ color: \"red\", paddingTop: \"10px\" }}>\n                    <strong>\n                      The live paper name '\n                      <pre style={{ display: \"inline\" }}>\n                        {this.state.live_paper_name}\n                      </pre>\n                      ' is already us use by another live paper. Please enter a\n                      different name.\n                    </strong>\n                  </div>\n                )}\n            </Box>\n            {this.props.data.id && (\n              <Box my={3}>\n                <div>\n                  <p>\n                    <strong>\n                      This live paper has previously been saved on the Knowledge\n                      Graph. Overwrite the existing entry, or save as new entry:\n                    </strong>\n                  </p>\n                </div>\n                <div>\n                  <SwitchTwoWay\n                    values={[\"Save to Existing\", \"Save as New\"]}\n                    selected={this.state.mode}\n                    onChange={this.handleModeChange}\n                  />\n                </div>\n              </Box>\n            )}\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItems: \"center\",\n                paddingLeft: \"2.5%\",\n                paddingRight: \"2.5%\",\n                paddingTop: \"20px\",\n                paddingBottom: \"20px\",\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"20%\",\n                  backgroundColor: \"#FF9800\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={this.handleCancel}\n              >\n                Cancel\n              </Button>\n              <br />\n              <br />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"20%\",\n                  backgroundColor: this.checkRequirementsOnPage()\n                    ? \"#8BC34A\"\n                    : \"#FFFFFF\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={this.handleSave}\n              >\n                Save to KG\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      );\n    }\n  }\n}\n\nSaveModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport axios from \"axios\";\nimport SwitchTwoWay from \"./SwitchTwoWay\";\nimport ErrorDialog from \"./ErrorDialog\";\nimport Link from \"@material-ui/core/Link\";\nimport { showNotification } from \"./utils\";\n\nexport default class SubmitModal extends React.Component {\n  signal = axios.CancelToken.source();\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: props.data,\n      mode: props.mode || \"Public\",\n      password: \"\",\n      error: null,\n    };\n\n    this.mailTo = React.createRef();\n    this.mailSubject = React.createRef();\n    this.mailBodyRef = React.createRef();\n\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleModeChange = this.handleModeChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n  handleCancel() {\n    this.props.onClose();\n  }\n\n  handleSubmit() {\n    console.log(\"TODO: Handle Submit!\");\n  }\n\n  handleModeChange(mode) {\n    this.setState({ mode: mode, password: \"\" });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({ password: event.target.value });\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ErrorDialog\n          open={Boolean(this.state.error)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={this.state.error.message || this.state.error}\n        />\n      );\n    } else {\n      return (\n        <Dialog\n          onClose={this.handleClose}\n          aria-labelledby=\"simple-dialog-title\"\n          open={this.props.open}\n          fullWidth={true}\n          maxWidth=\"md\"\n        >\n          <DialogTitle style={{ backgroundColor: \"#ffd180\" }}>\n            <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n              Submit Live Paper\n            </span>\n          </DialogTitle>\n          <DialogContent>\n            <Box my={2}>\n              Verify that you have entered all the required info in the live\n              paper before proceeding.\n            </Box>\n            <Box my={2}>\n              <strong>\n                Please specify the visibility mode for this live paper:\n              </strong>\n              <Box my={2} style={{ marginBottom: \"30px\" }}>\n                <form>\n                  <SwitchTwoWay\n                    values={[\"Password-Protected\", \"Public\"]}\n                    selected={this.state.mode}\n                    onChange={this.handleModeChange}\n                  />\n                </form>\n              </Box>\n            </Box>\n            {this.state.mode === \"Password-Protected\" && (\n              <Box my={2}>\n                <div>\n                  <p>\n                    <strong>\n                      Please specify a password for accessing this live paper:\n                    </strong>\n                  </p>\n                </div>\n                <div>\n                  <TextField\n                    label=\"password\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    name=\"password\"\n                    type=\"password\"\n                    value={this.state.password}\n                    onChange={this.handlePasswordChange}\n                    InputProps={{\n                      style: {\n                        padding: \"5px 15px\",\n                        width: \"75%\",\n                      },\n                    }}\n                  />\n                </div>\n              </Box>\n            )}\n            {this.state.mode === \"Public\" && (\n              <Box my={2}>\n                <div>\n                  <strong>\n                    To request publication of the live paper, do one of the\n                    following:\n                  </strong>\n                  <div\n                    style={{\n                      marginLeft: \"25px\",\n                      paddingTop: \"10px\",\n                      display: \"list-item\",\n                    }}\n                  >\n                    Click on \"Send Email\" to open the draft email in your\n                    default email client. Send the email without editing any of\n                    its contents.\n                  </div>\n                  <div\n                    style={{\n                      marginLeft: \"25px\",\n                      marginRight: \"25px\",\n                      paddingTop: \"10px\",\n                      display: \"list-item\",\n                    }}\n                  >\n                    Alternatively, copy the content below and email it to:{\" \"}\n                    <strong\n                      ref={this.mailTo}\n                      onClick={() =>\n                        navigator.clipboard.writeText(\n                          this.mailTo.current.innerText\n                        )\n                      }\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      lucaleonardo.bologna@cnr.it\n                    </strong>{\" \"}\n                    with the following subject:{\" \"}\n                    <strong\n                      ref={this.mailSubject}\n                      onClick={() =>\n                        navigator.clipboard.writeText(\n                          this.mailSubject.current.innerText\n                        )\n                      }\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      Request to publish Live Paper\n                    </strong>\n                    <div\n                      style={{\n                        marginTop: \"10px\",\n                        padding: \"20px\",\n                        border: \"dashed\",\n                        borderColor: \"#000000\",\n                        borderWidth: \"2px\",\n                        backgroundColor: \"#D9D9D9\",\n                        cursor: \"pointer\",\n                      }}\n                      ref={this.mailBodyRef}\n                      onClick={() => {\n                        navigator.clipboard.writeText(\n                          this.mailBodyRef.current.innerText\n                        );\n                        showNotification(\n                          this.props.enqueueSnackbar,\n                          this.props.closeSnackbar,\n                          \"Copied to clipboard!\",\n                          \"info\"\n                        );\n                      }}\n                    >\n                      We would like to request the publication of our live\n                      paper.\n                      <br />\n                      The details are as follows:\n                      <br />\n                      <br />\n                      ID: AAf2e856-27a8-4b8d-9ec3-4e2581c546AA\n                      <br />\n                      Title: Some title here\n                    </div>\n                  </div>\n                </div>\n              </Box>\n            )}\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItems: \"center\",\n                paddingLeft: \"2.5%\",\n                paddingRight: \"2.5%\",\n                paddingTop: \"20px\",\n                paddingBottom: \"20px\",\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"20%\",\n                  backgroundColor: \"#FF9800\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={this.handleCancel}\n              >\n                Cancel\n              </Button>\n              <br />\n              <br />\n              {this.state.mode === \"Public\" && (\n                <Link\n                  style={{ width: \"20%\" }}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  underline=\"none\"\n                  href=\"mailto:lucaleonardo.bologna@cnr.it, shailesh.appukuttan@cnrs.fr?subject=Request%20to%20publish%20Live%20Paper&body=We%20would%20like%20to%20request%20the%20publication%20of%20our%20live%20paper.%0AThe%20details%20are%20as%20follows%3A%0A%0AID%3A%20AAf2e856-27a8-4b8d-9ec3-4e2581c546AA%0ATitle%3A%20Some%20title%20here\"\n                >\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{\n                      width: \"100%\",\n                      backgroundColor: \"#8BC34A\",\n                      color: \"#000000\",\n                      fontWeight: \"bold\",\n                      border: \"solid\",\n                      borderColor: \"#000000\",\n                      borderWidth: \"1px\",\n                    }}\n                  >\n                    Send Email\n                  </Button>\n                </Link>\n              )}\n              {this.state.mode === \"Password-Protected\" && (\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"20%\",\n                    backgroundColor: \"#8BC34A\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.handleSubmit}\n                >\n                  Submit\n                </Button>\n              )}\n            </div>\n          </DialogContent>\n        </Dialog>\n      );\n    }\n  }\n}\n\nSubmitModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n};\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { withSnackbar } from \"notistack\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\nimport TimelineIcon from \"@material-ui/icons/Timeline\";\nimport FormatListBulletedIcon from \"@material-ui/icons/FormatListBulleted\";\nimport LocalPlayIcon from \"@material-ui/icons/LocalPlay\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\n\nimport ContextMain from \"./ContextMain\";\nimport DynamicTablePerson from \"./DynamicTablePerson\";\nimport SingleSelect from \"./SingleSelect\";\nimport SectionMorphology from \"./SectionMorphology\";\nimport SectionTraces from \"./SectionTraces\";\nimport SectionModels from \"./SectionModels\";\nimport SectionGeneric from \"./SectionGeneric\";\nimport SectionCustom from \"./SectionCustom\";\nimport SwitchTwoWay from \"./SwitchTwoWay\";\n\nimport nunjucks from \"nunjucks\";\nimport LivePaper from \"./LivePaper.njk\";\nimport SaveModal from \"./SaveModal\";\nimport SubmitModal from \"./SubmitModal\";\nimport { baseUrl, lp_tool_version } from \"./globals\";\nimport { showNotification, compareArrayoOfObjectsByOrder } from \"./utils\";\n\naxiosRetry(axios, {\n  retries: 3,\n  retryDelay: (retryCount) => {\n    return retryCount * 1000;\n  },\n});\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst footerStyle = {\n  backgroundColor: \"#FFD180\",\n  fontSize: \"20px\",\n  color: \"black\",\n  textAlign: \"center\",\n  position: \"fixed\",\n  left: \"50%\",\n  transform: \"translateX(-50%)\",\n  bottom: \"0\",\n  height: \"80px\",\n  zIndex: \"1\",\n  paddingBottom: \"75px\",\n};\n\nconst phantomStyle = {\n  display: \"block\",\n  padding: \"20px\",\n  height: \"60px\",\n};\n\nfunction Footer({ children }) {\n  return (\n    <div style={{ zIndex: \"2147483638\" }}>\n      <div style={phantomStyle} className=\"mycontainer\" />\n      <div style={footerStyle} className=\"mycontainer\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nconst MyDialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst popular_licenses = [\n  \"None\",\n  \"Apache License 2.0\",\n  'BSD 2-Clause \"Simplified\" License',\n  'BSD 3-Clause \"New\" or \"Revised\" License',\n  \"Creative Commons Attribution 4.0 International\",\n  \"Creative Commons Attribution Non Commercial 4.0 International\",\n  \"Creative Commons Attribution Share Alike 4.0 International\",\n  \"Creative Commons Zero v1.0 Universal\",\n  \"GNU General Public License v2.0 or later\",\n  \"GNU General Public License v3.0 or later\",\n  \"GNU Lesser General Public License v3.0 or later\",\n  \"MIT License\",\n];\n\nclass CreateLivePaper extends React.Component {\n  signal = axios.CancelToken.source();\n  static contextType = ContextMain;\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      id: \"\",\n      lp_tool_version: lp_tool_version,\n      modified_date: new Date(),\n      authors: [{ firstname: \"\", lastname: \"\", affiliation: \"\" }],\n      corresponding_author: { firstname: \"\", lastname: \"\", affiliation: \"\" }, // \"email\" removed\n      created_author: [{ firstname: \"\", lastname: \"\", affiliation: \"\" }], // \"email\" removed\n      approved_author: { firstname: \"\", lastname: \"\", affiliation: \"\" }, // \"email\" removed\n      year: new Date()\n        .toISOString()\n        .replace(\n          /^(?<year>\\d+)-(?<month>\\d+)-(?<day>\\d+)T.*$/,\n          \"$<year>-$<month>-$<day>\"\n        ),\n      associated_paper_title: \"\",\n      live_paper_title: \"\",\n      paper_published: true,\n      journal: \"\",\n      url: \"\",\n      citation: \"\",\n      doi: \"\",\n      abstract: \"\",\n      license: \"None\",\n      collab_list: null,\n      collab_id: \"\",\n      resources_description: \"\",\n      resources: [],\n      saveOpen: false,\n      submitOpen: false,\n      validFilterValues: null,\n    };\n    this.state = { ...this.state, ...props.data };\n\n    // const [authContext,] = this.context.auth;\n\n    this.handleClose = this.handleClose.bind(this);\n    this.handlePreview = this.handlePreview.bind(this);\n    this.handleDownload = this.handleDownload.bind(this);\n    this.handleSaveOpen = this.handleSaveOpen.bind(this);\n    this.handleSaveClose = this.handleSaveClose.bind(this);\n    this.handleSubmitOpen = this.handleSubmitOpen.bind(this);\n    this.handleSubmitClose = this.handleSubmitClose.bind(this);\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.handlePublishedChange = this.handlePublishedChange.bind(this);\n    this.handleYearChange = this.handleYearChange.bind(this);\n    this.handleAuthorsChange = this.handleAuthorsChange.bind(this);\n    this.handleCreatedAuthorChange = this.handleCreatedAuthorChange.bind(this);\n    this.makePageTitleString = this.makePageTitleString.bind(this);\n    this.makeAuthorsString = this.makeAuthorsString.bind(this);\n    this.makeCreatedAuthorsString = this.makeCreatedAuthorsString.bind(this);\n    this.makeAffiliationsString = this.makeAffiliationsString.bind(this);\n    this.handleAddSection = this.handleAddSection.bind(this);\n    this.storeSectionInfo = this.storeSectionInfo.bind(this);\n    this.removeExcessData = this.removeExcessData.bind(this);\n    this.addDerivedData = this.addDerivedData.bind(this);\n    this.getCollabList = this.getCollabList.bind(this);\n    this.setID = this.setID.bind(this);\n    this.setCollabID = this.setCollabID.bind(this);\n    this.setLivePaperTitle = this.setLivePaperTitle.bind(this);\n    this.setLivePaperModifiedDate = this.setLivePaperModifiedDate.bind(this);\n    this.verifyDataBeforeSubmit = this.verifyDataBeforeSubmit.bind(this);\n    this.checkPersonInStateAuthors = this.checkPersonInStateAuthors.bind(this);\n    this.deleteResourceSection = this.deleteResourceSection.bind(this);\n    this.moveDownResourceSection = this.moveDownResourceSection.bind(this);\n    this.moveUpResourceSection = this.moveUpResourceSection.bind(this);\n    this.retrieveFilterValidValues = this.retrieveFilterValidValues.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCollabList();\n    this.retrieveFilterValidValues();\n  }\n\n  deleteResourceSection(order) {\n    console.log(\"Delete resource with order: \" + order);\n\n    let temp_resources = this.state.resources;\n\n    // delete specified resource section\n    temp_resources = temp_resources.filter(function (res) {\n      return res.order !== order;\n    });\n\n    // re-order remaining resource sections\n    temp_resources = temp_resources.map(function (res) {\n      if (res.order > order) {\n        res.order = res.order - 1;\n      }\n      return res;\n    });\n\n    this.setState({\n      resources: temp_resources,\n    });\n\n    showNotification(\n      this.props.enqueueSnackbar,\n      this.props.closeSnackbar,\n      \"Section deleted!\",\n      \"info\"\n    );\n  }\n\n  moveDownResourceSection(order) {\n    console.log(\"Move down resource with order: \" + order);\n    const maxOrder = Object.keys(this.state.resources).length - 1;\n\n    if ((order || order === 0) && order < maxOrder) {\n      let temp_resources = this.state.resources;\n\n      temp_resources = temp_resources.map(function (res) {\n        if (res.order === order) {\n          res.order = order + 1;\n        } else if (res.order === order + 1) {\n          res.order = order;\n        }\n        return res;\n      });\n      // sort resource sections by order #\n      temp_resources.sort(compareArrayoOfObjectsByOrder);\n\n      this.setState({\n        resources: temp_resources,\n      });\n    }\n  }\n\n  moveUpResourceSection(order) {\n    console.log(\"Move up resource with order: \" + order);\n\n    if ((order || order === 0) && order > 0) {\n      let temp_resources = this.state.resources;\n\n      temp_resources = temp_resources.map(function (res) {\n        if (res.order === order) {\n          res.order = order - 1;\n        } else if (res.order === order - 1) {\n          res.order = order;\n        }\n        return res;\n      });\n      // sort resource sections by order #\n      temp_resources.sort(compareArrayoOfObjectsByOrder);\n\n      this.setState({\n        resources: temp_resources,\n      });\n    }\n  }\n\n  checkPersonInStateAuthors(person) {\n    if (typeof person === \"string\") {\n      return this.state.authors.find(\n        (author) => author.firstname + \" \" + author.lastname === person\n      );\n    } else {\n      // if object with keys firstname and lastname\n      return this.state.authors.find(\n        (author) =>\n          author.firstname === person.firstname &&\n          author.lastname === person.lastname\n      );\n    }\n  }\n\n  removeExcessData() {\n    let req_data = JSON.parse(JSON.stringify(this.state)); // copy by value\n    let remove_keys = [\n      \"saveOpen\",\n      \"submitOpen\",\n      \"collab_list\",\n      \"paper_published\",\n      \"validFilterValues\"\n    ];\n    remove_keys.forEach((k) => delete req_data[k]);\n\n    // remove from within resources objects\n    for (let res of req_data.resources) {\n      let remove_keys = [\n        \"dataOk\",\n        \"showEdit\",\n        \"showKGInput\",\n        \"expanded\",\n        \"useTabs\",\n        \"deleteOpen\",\n      ];\n      remove_keys.forEach((k) => delete res[k]);\n    }\n\n    return req_data;\n  }\n\n  addDerivedData(data) {\n    data[\"page_title\"] = this.makePageTitleString();\n    data[\"authors_string\"] = this.makeAuthorsString();\n    data[\"created_authors_string\"] = this.makeCreatedAuthorsString();\n    data[\"affiliations_string\"] = this.makeAffiliationsString();\n\n    // check if resources use tabs; handle appropriately\n    data.resources.forEach(function (res, index) {\n      if (res.type !== \"section_custom\") {\n        let tabs = [];\n        res.dataFormatted.forEach(function (res_item, index) {\n          tabs.push(res_item.tab_name || \"\");\n        });\n        // get only unique elements\n        tabs = tabs.filter((x, i, a) => a.indexOf(x) === i);\n        // replace empty string with \"(no tab name)\"\n        tabs = tabs.map((item) => (item === \"\" ? \"(no tab name)\" : item));\n        // add tab names to resource data\n        res[\"tabs\"] = tabs;\n      }\n    });\n    return data;\n  }\n\n  handleClose() {\n    this.props.onClose();\n  }\n\n  handlePreview() {\n    let lp_data = this.addDerivedData(this.removeExcessData(this.state));\n\n    function render(data) {\n      fetch(LivePaper)\n        .then((r) => r.text())\n        .then((source) => {\n          var output = nunjucks.renderString(source, data);\n          var w = window.open(\"\");\n          w.document.write(output);\n          w.document.close();\n        });\n    }\n    console.log(lp_data);\n    render(lp_data);\n\n    showNotification(\n      this.props.enqueueSnackbar,\n      this.props.closeSnackbar,\n      \"Preview generated...\",\n      \"info\"\n    );\n  }\n\n  handleDownload() {\n    let lp_data = this.addDerivedData(this.removeExcessData(this.state));\n\n    function render(data) {\n      fetch(LivePaper)\n        .then((r) => r.text())\n        .then((source) => {\n          var output = nunjucks.renderString(source, data);\n\n          const element = document.createElement(\"a\");\n          const file = new Blob([output], { type: \"text/html\" });\n          element.href = URL.createObjectURL(file);\n          const timestamp = new Date()\n            .toISOString()\n            .replace(/T/, \"_\") // replace T with a space\n            .replaceAll(\":\", \"-\") // replace : with -\n            .replace(/\\..+/, \"\"); // delete the dot and everything after\n          element.download = \"livepaper_\" + timestamp + \".html\";\n          document.body.appendChild(element); // Required for this to work in FireFox\n          element.click();\n        });\n    }\n    render(lp_data);\n\n    showNotification(\n      this.props.enqueueSnackbar,\n      this.props.closeSnackbar,\n      \"HTML file downloaded...\",\n      \"success\"\n    );\n\n    // create JSON object with live paper info\n    lp_data = this.removeExcessData(this.state);\n    let newDate = new Date();\n    let lp_data_updated = {\n      ...lp_data,\n      modified_date: newDate,\n    };\n\n    const lp_data_formatted = JSON.stringify(lp_data_updated, null, 4);\n    const blob = new Blob([lp_data_formatted], { type: \"text/plain\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    const timestamp = new Date()\n      .toISOString()\n      .replace(/T/, \"_\") // replace T with a space\n      .replaceAll(\":\", \"-\") // replace : with -\n      .replace(/\\..+/, \"\"); // delete the dot and everything after\n    link.download = \"livepaper_\" + timestamp + \".lpp\";\n    link.href = url;\n    link.click();\n\n    showNotification(\n      this.props.enqueueSnackbar,\n      this.props.closeSnackbar,\n      \".lpp file downloaded...\",\n      \"success\"\n    );\n    this.setState({\n      modified_date: newDate,\n    });\n  }\n\n  handleSaveOpen() {\n    this.setState({\n      saveOpen: true,\n    });\n  }\n\n  handleSaveClose() {\n    this.setState({\n      saveOpen: false,\n    });\n  }\n\n  handleSubmitOpen() {\n    // verifyDataBeforeSubmit() - check all fields as required\n    this.setState({\n      submitOpen: true,\n    });\n  }\n\n  handleSubmitClose() {\n    this.setState({\n      submitOpen: false,\n    });\n  }\n\n  handleFieldChange(event) {\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n    // console.log(name + \" => \" + value);\n    if (name === \"corresponding_author\") {\n      const c_author = this.checkPersonInStateAuthors(value);\n      this.setState((prevState) => ({\n        corresponding_author: {\n          ...prevState.corresponding_author,\n          firstname: c_author.firstname,\n          lastname: c_author.lastname,\n          affiliation: c_author.affiliation,\n        },\n      }));\n    }\n    // else if (name === \"corresponding_author_email\") {\n    //   this.setState((prevState) => ({\n    //     corresponding_author: {\n    //       ...prevState.corresponding_author,\n    //       email: value,\n    //     },\n    //   }));\n    // }\n    else if (name === \"created_author\") {\n      if (value === \"-- Other Person --\") {\n        this.setState({\n          created_author: [\n            {\n              firstname: \"\",\n              lastname: \"\",\n              affiliation: \"\",\n              //   email: \"\",\n            },\n          ],\n          approved_author: {\n            firstname: \"\",\n            lastname: \"\",\n            affiliation: \"\",\n            // email: \"\",\n          },\n        });\n      } else {\n        const author = this.checkPersonInStateAuthors(value);\n        // let author_email = null;\n        // if (\n        //   value ===\n        //   this.state.corresponding_author.firstname +\n        //     \" \" +\n        //     this.state.corresponding_author.lastname\n        // ) {\n        //   author_email = this.state.corresponding_author.email;\n        // }\n        this.setState((prevState) => ({\n          created_author: [\n            {\n              firstname: author.firstname,\n              lastname: author.lastname,\n              affiliation: author.affiliation,\n              //   email: author_email ? author_email : \"\",\n            },\n          ],\n          approved_author: {\n            firstname: author.firstname,\n            lastname: author.lastname,\n            affiliation: author.affiliation,\n            // email: author_email ? author_email : \"\",\n          },\n        }));\n      }\n    } else if (name === \"created_author_other_firstname\") {\n      this.setState((prevState) => ({\n        created_author: [\n          {\n            ...prevState.created_author[0],\n            firstname: value,\n          },\n        ],\n      }));\n    } else if (name === \"created_author_other_lastname\") {\n      this.setState((prevState) => ({\n        created_author: [\n          {\n            ...prevState.created_author[0],\n            lastname: value,\n          },\n        ],\n      }));\n    } else if (name === \"created_author_other_affiliation\") {\n      this.setState((prevState) => ({\n        created_author: [\n          {\n            ...prevState.created_author[0],\n            affiliation: value,\n          },\n        ],\n      }));\n    }\n    // else if (name === \"created_author_email\") {\n    //   if (this.checkPersonInStateAuthors(this.state.created_author[0])) {\n    //     this.setState((prevState) => ({\n    //       created_author: [\n    //         {\n    //           ...prevState.created_author[0],\n    //           email: value,\n    //         },\n    //       ],\n    //       approved_author: {\n    //         ...prevState.approved_author,\n    //         email: value,\n    //       },\n    //     }));\n    //   } else {\n    //     this.setState((prevState) => ({\n    //       created_author: [\n    //         {\n    //           ...prevState.created_author[0],\n    //           email: value,\n    //         },\n    //       ],\n    //     }));\n    //   }\n    // }\n    else if (name === \"approved_author\") {\n      const author_match = this.checkPersonInStateAuthors(value);\n      //   let author_email = null;\n      //   if (\n      //     value ===\n      //     this.state.corresponding_author.firstname +\n      //       \" \" +\n      //       this.state.corresponding_author.lastname\n      //   ) {\n      //     author_email = this.state.corresponding_author.email;\n      //   }\n      this.setState({\n        approved_author: {\n          firstname: author_match.firstname,\n          lastname: author_match.lastname,\n          affiliation: author_match.affiliation,\n          //   email: author_email ? author_email : \"\",\n        },\n      });\n    }\n    // else if (name === \"approved_author_email\") {\n    //   this.setState((prevState) => ({\n    //     approved_author: {\n    //       ...prevState.approved_author,\n    //       email: value,\n    //     },\n    //   }));\n    // }\n    else {\n      this.setState({\n        [name]: value,\n      });\n    }\n  }\n\n  handlePublishedChange(value) {\n    console.log(value);\n    this.setState({\n      paper_published: value === \"Published\" ? true : false,\n      year:\n        value === \"Published\"\n          ? new Date()\n              .toISOString()\n              .replace(\n                /^(?<year>\\d+)-(?<month>\\d+)-(?<day>\\d+)T.*$/,\n                \"$<year>-$<month>-$<day>\"\n              )\n          : new Date(\"9999-01-01\")\n              .toISOString()\n              .replace(\n                /^(?<year>\\d+)-(?<month>\\d+)-(?<day>\\d+)T.*$/,\n                \"$<year>-$<month>-$<day>\"\n              ),\n    });\n  }\n\n  handleYearChange(value) {\n    console.log(value);\n    this.setState({\n      year: value\n        .toISOString()\n        .replace(\n          /^(?<year>\\d+)-(?<month>\\d+)-(?<day>\\d+)T.*$/,\n          \"$<year>-$<month>-$<day>\"\n        ),\n    });\n  }\n\n  handleAuthorsChange(author_data) {\n    // remove all entries where firstname and lastname both are empty\n    // function isNotEmpty(item) {\n    //   if (item.firstname.trim() !== \"\" || item.lastname.trim() !== \"\") {\n    //     return true;\n    //   } else return false;\n    // }\n    // var author_data = data.filter(isNotEmpty);\n\n    if (author_data.length === 0) {\n      author_data = [{ firstname: \"\", lastname: \"\", affiliation: \"\" }];\n    }\n    this.setState({\n      authors: author_data,\n    });\n  }\n\n  handleCreatedAuthorChange(created_author_data) {\n    // remove all entries where firstname and lastname both are empty\n    // function isNotEmpty(item) {\n    //   if (item.firstname.trim() !== \"\" || item.lastname.trim() !== \"\") {\n    //     return true;\n    //   } else return false;\n    // }\n    // var created_author_data = data.filter(isNotEmpty);\n\n    if (created_author_data.length === 0) {\n      created_author_data = [{ firstname: \"\", lastname: \"\", affiliation: \"\" }];\n    }\n    this.setState({\n      created_author: created_author_data,\n    });\n  }\n\n  makePageTitleString() {\n    const year = new Date(this.state.year).getFullYear();\n    const author_data = this.state.authors;\n    var page_title = \"\";\n    if (author_data.length === 0) {\n      page_title = \"\";\n    } else if (author_data.length === 1) {\n      page_title =\n        author_data[0].lastname +\n        \" \" +\n        (year === 9999 ? \"(unpublished)\" : year);\n    } else if (author_data.length === 2) {\n      page_title =\n        author_data[0].lastname +\n        \" & \" +\n        author_data[1].lastname +\n        \" \" +\n        (year === 9999 ? \"(unpublished)\" : year);\n    } else {\n      page_title =\n        author_data[0].lastname +\n        \" et al. \" +\n        (year === 9999 ? \"(unpublished)\" : year);\n    }\n    return page_title;\n  }\n\n  makeAuthorsString() {\n    var authors_string = \"\";\n    this.state.authors.forEach(function (author, index) {\n      if (author.firstname.trim() !== \"\" || author.lastname.trim() !== \"\") {\n        if (authors_string !== \"\") {\n          authors_string = authors_string + \", \";\n        }\n        authors_string =\n          authors_string +\n          author.firstname +\n          \" \" +\n          author.lastname +\n          \" \" +\n          (index + 1).toString().sup();\n      }\n    });\n    return authors_string;\n  }\n\n  makeCreatedAuthorsString() {\n    var created_authors_string = \"\";\n    this.state.created_author.forEach(function (created_author, index) {\n      if (\n        created_author.firstname.trim() !== \"\" ||\n        created_author.lastname.trim() !== \"\"\n      ) {\n        if (created_authors_string !== \"\") {\n          created_authors_string = created_authors_string + \", \";\n        }\n        created_authors_string =\n          created_authors_string +\n          created_author.firstname +\n          \" \" +\n          created_author.lastname;\n        if (created_author.affiliation) {\n          created_authors_string +=\n            \" (\" + created_author.affiliation.italics() + \")\";\n        }\n      }\n    });\n    return created_authors_string;\n  }\n\n  makeAffiliationsString() {\n    var unique_affs = [];\n    this.state.authors.forEach(function (item) {\n      var affs = item.affiliation.split(\";\").map(function (x) {\n        return x.trim();\n      });\n      affs.forEach(function (aff) {\n        if (aff !== \"\" && !unique_affs.includes(aff)) {\n          unique_affs.push(aff);\n        }\n      });\n    });\n    // add superscript numbering to each affiliation\n    unique_affs.forEach(function (aff, index) {\n      this[index] = (index + 1).toString().sup() + \" \" + aff;\n    }, unique_affs);\n    var affiliations_string = unique_affs.join(\", \");\n    return affiliations_string;\n  }\n\n  handleAddSection(section_type) {\n    this.setState((prevState) => ({\n      resources: [\n        ...prevState.resources,\n        { order: prevState.resources.length, type: section_type },\n      ],\n    }));\n  }\n\n  storeSectionInfo(data_dict) {\n    const resources_items = this.state.resources.slice();\n    resources_items[data_dict[\"order\"]] = data_dict;\n    this.setState({\n      resources: resources_items,\n    });\n  }\n\n  getCollabList() {\n    const url = baseUrl + \"/projects\";\n    const config = {\n      cancelToken: this.signal.token,\n      headers: { Authorization: \"Bearer \" + this.context.auth[0].token },\n    };\n    axios\n      .get(url, config)\n      .then((res) => {\n        let editableProjects = [];\n        res.data.forEach((proj) => {\n          if (proj.permissions.UPDATE) {\n            editableProjects.push(proj.project_id);\n          }\n        });\n        editableProjects.sort();\n        this.setState({\n          collab_list: editableProjects,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error: \", err.message);\n      });\n  }\n\n  setID(value) {\n    console.log(value);\n    this.setState({\n      id: value,\n    });\n  }\n\n  setCollabID(value) {\n    console.log(value);\n    this.setState({\n      collab_id: value,\n    });\n  }\n\n  setLivePaperTitle(value) {\n    console.log(value);\n    this.setState({\n      live_paper_title: value,\n    });\n  }\n\n  setLivePaperModifiedDate(value) {\n    console.log(value);\n    this.setState({\n      modified_date: value,\n    });\n  }\n\n  verifyDataBeforeSubmit() {}\n\n  retrieveFilterValidValues() {\n    let url = baseUrl + \"/vocab/\";\n    let config = {\n      cancelToken: this.signal.token,\n      headers: { Authorization: \"Bearer \" + this.context.auth[0].token },\n    };\n    axios\n      .get(url, config)\n      .then((res) => {\n        this.setState({\n          validFilterValues: res.data,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error: \", err.message);\n      });\n  }\n\n  render() {\n    console.log(this.state);\n    // console.log(this.props.data);\n    // console.log(this.context.auth[0].token);\n\n    let saveModal = null;\n    if (this.state.saveOpen) {\n      saveModal = (\n        <SaveModal\n          data={{\n            ...this.removeExcessData(this.state),\n            modified_date: new Date(),\n          }}\n          open={this.state.saveOpen}\n          onClose={this.handleSaveClose}\n          setID={this.setID}\n          setCollabID={this.setCollabID}\n          setLivePaperTitle={this.setLivePaperTitle}\n          setLivePaperModifiedDate={this.setLivePaperModifiedDate}\n          collab_list={this.state.collab_list}\n          enqueueSnackbar={this.props.enqueueSnackbar}\n          closeSnackbar={this.props.closeSnackbar}\n        />\n      );\n    }\n\n    let submitModal = null;\n    if (this.state.submitOpen) {\n      submitModal = (\n        <SubmitModal\n          data={this.state}\n          open={this.state.submitOpen}\n          onClose={this.handleSubmitClose}\n          enqueueSnackbar={this.props.enqueueSnackbar}\n          closeSnackbar={this.props.closeSnackbar}\n        />\n      );\n    }\n\n    return (\n      <Dialog\n        fullScreen\n        disableBackdropClick\n        disableEscapeKeyDown\n        onClose={this.handleClose}\n        aria-labelledby=\"simple-dialog-title\"\n        open={this.props.open || false}\n      >\n        <MyDialogTitle onClose={this.handleClose} />\n        <DialogContent>\n          <div className=\"mycontainer\" style={{ textAlign: \"left\" }}>\n            <div className=\"box rounded centered\">\n              <a\n                href=\"../../index.html\"\n                className=\"waves-effect waves-light\"\n                style={{ textAlign: \"center\", color: \"black\" }}\n              >\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <img\n                          className=\"ebrains-icon-small\"\n                          src=\"./imgs/ebrains_logo.png\"\n                          alt=\"EBRAINS logo\"\n                          style={{ width: \"25px\", height: \"25px\" }}\n                        />\n                      </td>\n                      <td>\n                        <span\n                          className=\"title-style subtitle\"\n                          style={{ paddingLeft: \"5px\" }}\n                        >\n                          EBRAINS Live Papers\n                        </span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </a>\n              <h5 className=\"title-style\">Live Paper Builder</h5>\n            </div>\n            <div\n              style={{\n                paddingLeft: \"5%\",\n                paddingRight: \"5%\",\n                textAlign: \"justify\",\n              }}\n            >\n              <div>\n                Follow the steps listed below to create the live paper. You can\n                preview the live paper and/or download it at any time by\n                clicking on the buttons on the bottom of the page. It also\n                provides you an option to save your work online before\n                proceeding. Once completed you can submit for publishing the\n                live paper online.\n                <br />\n                <br />\n                When downloading, an HTML version of the live paper and a file\n                with extension '.lpp' both will be downloaded. You can upload\n                the latter file at any point to update the live paper contents.\n                Please do not manually edit these files, as it could render them\n                unreadable by this tool.\n              </div>\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Enter the complete title of your manuscript / paper:\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <TextField\n                  label=\"Title\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"associated_paper_title\"\n                  value={this.state.associated_paper_title}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                    },\n                  }}\n                />\n              </div>\n              <br />\n              <div>\n                <p>\n                  <strong>Specify the status of the article:</strong>\n                  <br />\n                  <i>\n                    Articles submitted to preprint repositories, such as\n                    bioRxiv, are considered as unpublished.\n                  </i>\n                </p>\n              </div>\n              <form>\n                <SwitchTwoWay\n                  values={[\"Published\", \"Unpublished\"]}\n                  selected={\n                    this.state.paper_published ? \"Published\" : \"Unpublished\"\n                  }\n                  onChange={this.handlePublishedChange}\n                />\n              </form>\n              <br />\n              {this.state.paper_published && (\n                <div>\n                  <div>\n                    <p>\n                      <strong>Enter the year of publication:</strong>\n                    </p>\n                  </div>\n                  <div>\n                    <div>\n                      <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <DatePicker\n                          label=\"Year\"\n                          inputVariant=\"outlined\"\n                          views={[\"year\"]}\n                          name=\"year\"\n                          value={new Date(this.state.year)}\n                          minDate={new Date(\"2010-01-01\")}\n                          maxDate={new Date()}\n                          onChange={this.handleYearChange}\n                          animateYearScrolling\n                          InputProps={{\n                            style: {\n                              borderBottom: \"0px\",\n                              padding: \"5px 15px 5px 15px\",\n                              width: \"100px\",\n                            },\n                          }}\n                        />\n                      </MuiPickersUtilsProvider>\n                    </div>\n                  </div>\n                  <br />\n                </div>\n              )}\n              <div>\n                <p>\n                  <strong>\n                    Enter details of all authors in the required order:\n                  </strong>\n                  <br />\n                  <br />\n                  <i>\n                    You can enter multiple affiliations per author by separating\n                    each with a semi-colon ( ; ). Note that an affiliation must\n                    be input identically across multiple authors, for it to be\n                    identified as the same affliation.\n                  </i>\n                </p>\n                <br />\n              </div>\n              <div>\n                <DynamicTablePerson\n                  items={this.state.authors}\n                  onChangeValue={this.handleAuthorsChange}\n                />\n              </div>\n              <br />\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Specify the corresponding author:\n                    {/* , along with their email address: */}\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <SingleSelect\n                  itemNames={\n                    this.state.authors\n                      ? this.state.authors.map(function (author) {\n                          return author.firstname + \" \" + author.lastname;\n                        })\n                      : []\n                  }\n                  label=\"Corresponding Author\"\n                  name=\"corresponding_author\"\n                  value={\n                    this.state.corresponding_author.firstname\n                      ? this.state.corresponding_author.firstname +\n                        \" \" +\n                        this.state.corresponding_author.lastname\n                      : \"\"\n                  }\n                  handleChange={this.handleFieldChange}\n                />\n              </div>\n              {/* <br />\n              <div>\n                <TextField\n                  label=\"Corresponding Author Email\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"corresponding_author_email\"\n                  value={this.state.corresponding_author.email}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                    },\n                  }}\n                  style={{ width: 700 }}\n                />\n              </div> */}\n              <br />\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Specify the person creating this live paper:\n                    {/* , along with their email address: */}\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <SingleSelect\n                  itemNames={\n                    this.state.authors\n                      ? this.state.authors\n                          .map(function (author) {\n                            return author.firstname + \" \" + author.lastname;\n                          })\n                          .concat(\"-- Other Person --\") // for an external creating author\n                      : []\n                  }\n                  label=\"Created By\"\n                  name=\"created_author\"\n                  value={\n                    this.checkPersonInStateAuthors(this.state.created_author[0])\n                      ? this.state.created_author[0].firstname +\n                        \" \" +\n                        this.state.created_author[0].lastname\n                      : \"-- Other Person --\"\n                  }\n                  handleChange={this.handleFieldChange}\n                />\n                <br />\n              </div>\n              {!this.checkPersonInStateAuthors(\n                this.state.created_author[0]\n              ) && (\n                <div>\n                  <DynamicTablePerson\n                    items={this.state.created_author}\n                    onChangeValue={this.handleCreatedAuthorChange}\n                  />\n                </div>\n\n                // // ------------------------------------\n                // <div>\n                //   <TextField\n                //     label=\"Creating Author First Name\"\n                //     variant=\"outlined\"\n                //     fullWidth={true}\n                //     name=\"created_author_other_firstname\"\n                //     value={this.state.created_author[0].firstname}\n                //     onChange={this.handleFieldChange}\n                //     InputProps={{\n                //       style: {\n                //         padding: \"5px 15px\",\n                //       },\n                //     }}\n                //     style={{ width: \"45%\", marginRight: \"2.5%\" }}\n                //   />\n                //   <TextField\n                //     label=\"Creating Author Last Name\"\n                //     variant=\"outlined\"\n                //     fullWidth={true}\n                //     name=\"created_author_other_lastname\"\n                //     value={this.state.created_author[0].lastname}\n                //     onChange={this.handleFieldChange}\n                //     InputProps={{\n                //       style: {\n                //         padding: \"5px 15px\",\n                //       },\n                //     }}\n                //     style={{ width: \"45%\" }}\n                //   />\n                //   <br />\n                //   <br />\n                //   <TextField\n                //     label=\"Creating Author Affiliation\"\n                //     variant=\"outlined\"\n                //     fullWidth={true}\n                //     name=\"created_author_other_affiliation\"\n                //     value={this.state.created_author[0].affiliation}\n                //     onChange={this.handleFieldChange}\n                //     InputProps={{\n                //       style: {\n                //         padding: \"5px 15px\",\n                //       },\n                //     }}\n                //     style={{ width: \"92.5%\" }}\n                //   />\n                // </div>\n                // // -------------------------------------\n              )}\n              {/* <br />\n              <div>\n                <TextField\n                  label=\"Creating Author Email\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"created_author_email\"\n                  value={this.state.created_author[0].email}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                    },\n                  }}\n                  style={{ width: \"92.5%\" }}\n                />\n              </div> */}\n              <br />\n              <br />\n              {!this.checkPersonInStateAuthors(\n                this.state.created_author[0]\n              ) && (\n                <div>\n                  <div>\n                    <p>\n                      <strong>\n                        Since the live paper is being created by a person who\n                        isn't an author on the article (as indicated above), the\n                        live paper needs to be approved by one of the original\n                        authors. Specify the authorising author:{\" \"}\n                        {/* , along with their email address: */}\n                      </strong>\n                    </p>\n                  </div>\n                  <div>\n                    <SingleSelect\n                      itemNames={\n                        this.state.authors\n                          ? this.state.authors.map(function (author) {\n                              return author.firstname + \" \" + author.lastname;\n                            })\n                          : []\n                      }\n                      label=\"Approved By\"\n                      name=\"approved_author\"\n                      value={\n                        this.state.approved_author.firstname\n                          ? this.state.approved_author.firstname +\n                            \" \" +\n                            this.state.approved_author.lastname\n                          : \"\"\n                      }\n                      handleChange={this.handleFieldChange}\n                    />\n                  </div>\n                  {/* <br />\n                  <div>\n                    <TextField\n                      label=\"Approving Author Email\"\n                      variant=\"outlined\"\n                      fullWidth={true}\n                      name=\"approved_author_email\"\n                      value={this.state.approved_author.email}\n                      onChange={this.handleFieldChange}\n                      InputProps={{\n                        style: {\n                          padding: \"5px 15px\",\n                        },\n                      }}\n                      style={{ width: \"92.5%\" }}\n                    />\n                  </div> */}\n                  <br />\n                  <br />\n                </div>\n              )}\n              <div>\n                <p>\n                  <strong>\n                    Specify the journal in which paper is published (leave empty\n                    if awaiting publication):\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <TextField\n                  label=\"Journal\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"journal\"\n                  value={this.state.journal}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                    },\n                  }}\n                />\n              </div>\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Provide the URL to access article (leave empty if awaiting\n                    publication or link to bioRxiv, if available):\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <TextField\n                  label=\"Article URL\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"url\"\n                  value={this.state.url}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                    },\n                  }}\n                />\n              </div>\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Specify the citation text to be used for article (leave\n                    empty if awaiting publication):\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <TextField\n                  multiline\n                  rows=\"3\"\n                  label=\"Citation\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"citation\"\n                  value={this.state.citation}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"15px 15px\",\n                    },\n                  }}\n                />\n              </div>\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Indicate the DOI entry for article (leave empty if awaiting\n                    publication):\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <TextField\n                  label=\"DOI\"\n                  variant=\"outlined\"\n                  fullWidth={true}\n                  name=\"doi\"\n                  value={this.state.doi}\n                  onChange={this.handleFieldChange}\n                  InputProps={{\n                    style: {\n                      padding: \"5px 15px\",\n                    },\n                  }}\n                />\n              </div>\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Provide the abstract of your manuscript / paper:\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"8\"\n                    label=\"Abstract\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"The description may be formatted with Markdown\"\n                    name=\"abstract\"\n                    value={this.state.abstract}\n                    onChange={this.handleFieldChange}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                      },\n                    }}\n                  />\n                </Grid>\n              </div>\n              <br />\n              <br />\n              <div>\n                <p>\n                  <strong>\n                    Specify the license to be applied for the contents displayed\n                    in this live paper:\n                  </strong>\n                </p>\n              </div>\n              <div>\n                <SingleSelect\n                  itemNames={popular_licenses}\n                  label=\"License\"\n                  name=\"license\"\n                  value={this.state.license}\n                  handleChange={this.handleFieldChange}\n                  helperText=\"For guidance on choosing a licence, see https://choosealicense.com\"\n                />\n              </div>\n              <br />\n              <br />\n\n              <h5>Resources</h5>\n              <br />\n              <div>\n                <Grid item xs={12}>\n                  <TextField\n                    multiline\n                    rows=\"4\"\n                    label=\"Description of resources (optional)\"\n                    variant=\"outlined\"\n                    fullWidth={true}\n                    helperText=\"The description may be formatted with Markdown\"\n                    name=\"resources_description\"\n                    value={this.state.resources_description}\n                    onChange={this.handleFieldChange}\n                    InputProps={{\n                      style: {\n                        padding: \"15px 15px\",\n                      },\n                    }}\n                  />\n                </Grid>\n              </div>\n\n              {Object.keys(this.state.resources).length > 0\n                ? Object.values(this.state.resources).map((item, index) => {\n                    // console.log(item);\n                    if (item[\"type\"] === \"section_morphology\") {\n                      return (\n                        <SectionMorphology\n                          key={index}\n                          storeSectionInfo={this.storeSectionInfo}\n                          data={item}\n                          numResources={\n                            Object.keys(this.state.resources).length\n                          }\n                          handleDelete={this.deleteResourceSection}\n                          handleMoveDown={this.moveDownResourceSection}\n                          handleMoveUp={this.moveUpResourceSection}\n                        />\n                      );\n                    } else if (item[\"type\"] === \"section_traces\") {\n                      return (\n                        <SectionTraces\n                          key={index}\n                          storeSectionInfo={this.storeSectionInfo}\n                          data={item}\n                          numResources={\n                            Object.keys(this.state.resources).length\n                          }\n                          handleDelete={this.deleteResourceSection}\n                          handleMoveDown={this.moveDownResourceSection}\n                          handleMoveUp={this.moveUpResourceSection}\n                          validFilterValues={this.state.validFilterValues}\n                        />\n                      );\n                    } else if (item[\"type\"] === \"section_models\") {\n                      return (\n                        <SectionModels\n                          key={index}\n                          storeSectionInfo={this.storeSectionInfo}\n                          data={item}\n                          numResources={\n                            Object.keys(this.state.resources).length\n                          }\n                          handleDelete={this.deleteResourceSection}\n                          handleMoveDown={this.moveDownResourceSection}\n                          handleMoveUp={this.moveUpResourceSection}\n                          validFilterValues={this.state.validFilterValues}\n                        />\n                      );\n                    } else if (item[\"type\"] === \"section_generic\") {\n                      return (\n                        <SectionGeneric\n                          key={index}\n                          storeSectionInfo={this.storeSectionInfo}\n                          data={item}\n                          numResources={\n                            Object.keys(this.state.resources).length\n                          }\n                          handleDelete={this.deleteResourceSection}\n                          handleMoveDown={this.moveDownResourceSection}\n                          handleMoveUp={this.moveUpResourceSection}\n                        />\n                      );\n                    } else if (item[\"type\"] === \"section_custom\") {\n                      return (\n                        <SectionCustom\n                          key={index}\n                          storeSectionInfo={this.storeSectionInfo}\n                          data={item}\n                          numResources={\n                            Object.keys(this.state.resources).length\n                          }\n                          handleDelete={this.deleteResourceSection}\n                          handleMoveDown={this.moveDownResourceSection}\n                          handleMoveUp={this.moveUpResourceSection}\n                        />\n                      );\n                    } else {\n                      return null;\n                    }\n                  })\n                : null}\n              <br />\n            </div>\n\n            <div\n              style={{\n                paddingLeft: \"10%\",\n                paddingRight: \"10%\",\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-around\",\n                  alignItems: \"center\",\n                  paddingLeft: \"2.5%\",\n                  paddingRight: \"2.5%\",\n                  paddingTop: \"10px\",\n                  paddingBottom: \"10px\",\n                  borderStyle: \"solid\",\n                  borderColor: \"#0D47A1\",\n                  borderWidth: \"2px\",\n                  backgroundColor: \"#01579B\",\n                  //   borderRadius: \"20px\",\n                  fontWeight: \"bold\",\n                  borderBottom: \"None\",\n                  color: \"#FFFFFF\",\n                }}\n              >\n                Click to add a resource section:\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-around\",\n                  alignItems: \"center\",\n                  paddingLeft: \"2.5%\",\n                  paddingRight: \"2.5%\",\n                  paddingTop: \"20px\",\n                  paddingBottom: \"20px\",\n                  borderStyle: \"solid\",\n                  borderColor: \"#0D47A1\",\n                  borderWidth: \"2px\",\n                  backgroundColor: \"#BED3F3\",\n                  //   borderRadius: \"20px\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#FFD54F\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  startIcon={<AcUnitIcon style={{ width: 30, height: 30 }} />}\n                  onClick={() => this.handleAddSection(\"section_morphology\")}\n                >\n                  Morphology\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#8BC34A\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  startIcon={<TimelineIcon style={{ width: 30, height: 30 }} />}\n                  onClick={() => this.handleAddSection(\"section_traces\")}\n                >\n                  Traces\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#E5B8B3\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  startIcon={\n                    <LocalPlayIcon style={{ width: 30, height: 30 }} />\n                  }\n                  onClick={() => this.handleAddSection(\"section_models\")}\n                >\n                  Models\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#B39DDB\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  startIcon={\n                    <FormatListBulletedIcon style={{ width: 30, height: 30 }} />\n                  }\n                  onClick={() => this.handleAddSection(\"section_generic\")}\n                >\n                  Generic\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#D9D9D9\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  startIcon={\n                    <CheckBoxOutlineBlankIcon\n                      style={{ width: 30, height: 30 }}\n                    />\n                  }\n                  onClick={() => this.handleAddSection(\"section_custom\")}\n                >\n                  Custom\n                </Button>\n              </div>\n            </div>\n            <br />\n            <br />\n          </div>\n\n          <Footer>\n            <div style={{ height: \"10px\", backgroundColor: \"#FFFFFF\" }}></div>\n            <div style={{ border: \"1px solid #000000\" }}>\n              <div\n                className=\"rainbow-row\"\n                style={{ borderBottom: \"1px solid #000000\" }}\n              >\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-around\",\n                  alignItems: \"center\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#FF9800\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.handlePreview}\n                >\n                  Preview\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#009688\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.handleDownload}\n                >\n                  Download\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#01579b\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.handleSaveOpen}\n                >\n                  Save\n                </Button>\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{\n                    width: \"17.5%\",\n                    backgroundColor: \"#8b0d0d\",\n                    fontWeight: \"bold\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.handleSubmitOpen}\n                >\n                  Submit\n                </Button>\n              </div>\n            </div>\n          </Footer>\n          {saveModal}\n          {submitModal}\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\nexport default withSnackbar(CreateLivePaper);\n","import React from \"react\";\nimport axios from \"axios\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withSnackbar } from \"notistack\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CreateLivePaper from \"./CreateLivePaper\";\nimport LoadingIndicatorModal from \"./LoadingIndicatorModal\";\nimport ErrorDialog from \"./ErrorDialog\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst MyDialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nclass CreateLivePaperLoadPDFData extends React.Component {\n  signal = axios.CancelToken.source();\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: this.props.data,\n      loadData: this.props.loadData,\n      showError: false,\n      loadPDF: true,\n      selectedPDF: null,\n      dataFromPDF: {},\n      loading: false,\n    };\n\n    this.loadPDFRef = React.createRef();\n    this.handleClose = this.handleClose.bind(this);\n    this.browseForPDF = this.browseForPDF.bind(this);\n    this.onPDFSelect = this.onPDFSelect.bind(this);\n    this.cancelSelectPDF = this.cancelSelectPDF.bind(this);\n    this.uploadPDF = this.uploadPDF.bind(this);\n    this.displayDataPDF = this.displayDataPDF.bind(this);\n    this.proceed = this.proceed.bind(this);\n    this.skipContinue = this.skipContinue.bind(this);\n    this.handleErrorDialogClose = this.handleErrorDialogClose.bind(this);\n  }\n\n  handleClose() {\n    this.props.onClose();\n  }\n\n  browseForPDF() {\n    this.setState({ loadPDF: true }, () => {\n      this.loadPDFRef.current.click();\n    });\n  }\n\n  onPDFSelect(event) {\n    if (event.target.files.length === 1) {\n      this.setState({\n        selectedPDF: event.target.files[0],\n      });\n    } else {\n      this.setState({ selectedPDF: null, dataFromPDF: {} });\n    }\n  }\n\n  cancelSelectPDF() {\n    this.loadPDFRef.current.value = \"\";\n    this.setState({\n      selectedPDF: null,\n      dataFromPDF: {},\n    });\n  }\n\n  uploadPDF() {\n    this.setState({ loading: true }, () => {\n      var formData = new FormData();\n      formData.append(\"input\", this.state.selectedPDF);\n      formData.append(\"consolidateHeader\", 1);\n      formData.append(\"includeRawAffiliations\", 1);\n\n      let url =\n        \"https://cloud.science-miner.com/grobid/api/processHeaderDocument\";\n      let config = {\n        cancelToken: this.signal.token,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          accept: \"text/plain, */*\",\n        },\n      };\n\n      let scope = this;\n      axios\n        .post(url, formData, config)\n        .then((res) => {\n          var parseString = require(\"xml2js\").parseString;\n          parseString(\n            res.data,\n            { trim: true, preserveChildrenOrder: true },\n            function (err, result) {\n              console.log(result);\n\n              let data = {};\n              data[\"associated_paper_title\"] =\n                result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\"titleStmt\"][0][\n                  \"title\"\n                ][0][\"_\"];\n              data[\"abstract\"] =\n                result[\"TEI\"][\"teiHeader\"][0][\"profileDesc\"][0][\"abstract\"][0][\n                  \"p\"\n                ][0];\n              data[\"doi\"] =\n                \"https://doi.org/\" +\n                result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\"sourceDesc\"][0][\n                  \"biblStruct\"\n                ][0][\"idno\"][0][\"_\"];\n\n              let author_dict =\n                result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\"sourceDesc\"][0][\n                  \"biblStruct\"\n                ][0][\"analytic\"][0][\"author\"];\n\n              let author_data = [];\n              author_dict.forEach(function (item) {\n                console.log(item);\n                let aff = \"\";\n                if (\"affiliation\" in item) {\n                  aff = item[\"affiliation\"]\n                    .map(function (elem) {\n                      return elem[\"note\"][0][\"_\"].replace(/,\\s*$/, \"\");\n                    })\n                    .join(\"; \");\n                }\n                if (\"$\" in item && item[\"$\"][\"role\"] === \"corresp\") {\n                  let corresp_author = {\n                    firstname:\n                      item[\"persName\"][0][\"forename\"].length === 1\n                        ? item[\"persName\"][0][\"forename\"][0][\"_\"]\n                        : item[\"persName\"][0][\"forename\"][0][\"_\"] +\n                          \" \" +\n                          item[\"persName\"][0][\"forename\"][1][\"_\"]\n                            .split(\" \")\n                            .join(\".\") +\n                          \".\",\n                    lastname: item[\"persName\"][0][\"surname\"][0],\n                    // email: \"email\" in item ? item[\"email\"][0] : \"\",\n                  };\n                  data[\"corresponding_author\"] = corresp_author;\n                }\n                author_data.push({\n                  firstname:\n                    \"persName\" in item &&\n                    \"forename\" in item[\"persName\"][0] &&\n                    item[\"persName\"][0][\"forename\"].length > 0\n                      ? item[\"persName\"][0][\"forename\"].length === 1\n                        ? item[\"persName\"][0][\"forename\"][0][\"_\"]\n                        : item[\"persName\"][0][\"forename\"][0][\"_\"] +\n                          \" \" +\n                          item[\"persName\"][0][\"forename\"][1][\"_\"]\n                            .split(\" \")\n                            .join(\".\") +\n                          \".\"\n                      : \"\",\n                  lastname:\n                    \"persName\" in item &&\n                    \"surname\" in item[\"persName\"][0] &&\n                    item[\"persName\"][0][\"surname\"].length > 0\n                      ? item[\"persName\"][0][\"surname\"][0]\n                      : \"\",\n                  affiliation: aff,\n                });\n              });\n\n              data[\"authors\"] = author_data;\n\n              data[\"journal\"] = result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\n                \"sourceDesc\"\n              ][0][\"biblStruct\"][0][\"monogr\"][0][\"title\"].find(\n                (element) => element[\"$\"][\"type\"] === \"main\"\n              )[\"_\"];\n\n              try {\n                //   date also available at:\n                // result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\"sourceDesc\"][0][\n                //    \"biblStruct\"][0][\"monogr\"][0][\"imprint\"][0][\"date\"][0][\"$\"][\"when\"]\n                data[\"year\"] = new Date(\n                  result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\n                    \"publicationStmt\"\n                  ][0][\"date\"][0][\"$\"][\"when\"]\n                );\n              } catch (error) {\n                console.log(\"Could not identify year!\");\n              }\n\n              try {\n                data[\"url\"] =\n                  result[\"TEI\"][\"teiHeader\"][0][\"fileDesc\"][0][\"sourceDesc\"][0][\n                    \"biblStruct\"\n                  ][0][\"ptr\"][0][\"$\"][\"target\"];\n              } catch (error) {\n                console.log(\"Could not identify download URL!\");\n              }\n\n              scope.setState({ dataFromPDF: data, loading: false });\n            }\n          );\n        })\n        .catch((err) => {\n          if (axios.isCancel(err)) {\n            console.log(\"Error: \", err.message);\n          } else {\n            console.log(err);\n            console.log(err.response);\n            this.setState({ showError: true });\n          }\n          this.setState({ loading: false });\n        });\n    });\n  }\n\n  displayDataPDF() {\n    return (\n      <div\n        style={{\n          marginTop: \"40px\",\n          marginBottom: \"40px\",\n        }}\n      >\n        <h6>\n          <strong>Data extracted from selected PDF</strong>\n        </h6>\n        <strong>Note: </strong>We make use of{\" \"}\n        <i>\n          <a href=\"https://github.com/kermitt2/grobid\">GROBID</a>\n        </i>{\" \"}\n        for extracting the required info from the uploaded PDF file. As this is\n        an automated process, it could result in certain discrepancies. We urge\n        you to verify the extracted info, and rectify them wherever necessary on\n        the live paper creation page (after clicking 'Proceed').\n        <Paper\n          variant=\"outlined\"\n          elevation={3}\n          style={{\n            marginTop: \"30px\",\n            padding: \"20px\",\n            backgroundColor: \"#FBEFDD\",\n          }}\n        >\n          {\"associated_paper_title\" in this.state.dataFromPDF && (\n            <div>\n              <strong>Title: </strong>\n              {this.state.dataFromPDF[\"associated_paper_title\"]}\n              <br />\n              <br />\n            </div>\n          )}\n          {\"authors\" in this.state.dataFromPDF ? (\n            <div>\n              <strong>Authors </strong>\n              (count = {this.state.dataFromPDF[\"authors\"].length})\n              <br />\n              <br />\n              {this.state.dataFromPDF[\"authors\"].map((entry, i) => (\n                <div key={i}>\n                  <strong>\n                    <i>{i + 1})</i>\n                  </strong>\n                  &nbsp;&nbsp;\n                  <strong>FirstName: </strong>\n                  {entry.firstname === \"\" ? (\n                    <span style={{ color: \"red\" }}>\n                      <i>Missing!</i>\n                    </span>\n                  ) : (\n                    entry.firstname\n                  )}\n                  &nbsp;&nbsp;&nbsp;&nbsp;\n                  <strong>LastName: </strong>\n                  {entry.lastname === \"\" ? (\n                    <span style={{ color: \"red\" }}>\n                      <i>Missing!</i>\n                    </span>\n                  ) : (\n                    entry.lastname\n                  )}\n                  <br />\n                  {entry.affiliation === \"\" ? (\n                    <div style={{ color: \"red\", paddingLeft: \"3em\" }}>\n                      <i>Could not identify affiliation(s)!</i>\n                    </div>\n                  ) : (\n                    entry.affiliation.split(\"; \").map((aff, j) => (\n                      <div\n                        key={j}\n                        style={{\n                          paddingLeft: \"3em\",\n                          paddingRight: \"1.5em\",\n                          textIndent: \"-1.5em\",\n                        }}\n                      >\n                        - {aff}\n                      </div>\n                    ))\n                  )}\n                  <br />\n                </div>\n              ))}\n              <br />\n            </div>\n          ) : (\n            \"\"\n          )}\n          {\"corresponding_author\" in this.state.dataFromPDF && (\n            <div>\n              <strong>Corresponding Author: </strong>\n              <br />\n              {\n                this.state.dataFromPDF[\"corresponding_author\"][\"firstname\"] +\n                  \" \" +\n                  this.state.dataFromPDF[\"corresponding_author\"][\"lastname\"]\n                //  +\n                // \" (\" +\n                // this.state.dataFromPDF[\"corresponding_author\"][\"email\"] +\n                // \")\"\n              }\n              <br />\n              <br />\n            </div>\n          )}\n          {\"journal\" in this.state.dataFromPDF && (\n            <div>\n              <strong>Journal: </strong>\n              <br />\n              {this.state.dataFromPDF[\"journal\"]}\n              <br />\n              <br />\n            </div>\n          )}\n          {\"year\" in this.state.dataFromPDF && (\n            <div>\n              <strong>Year: </strong>\n              <br />\n              {this.state.dataFromPDF[\"year\"].getFullYear()}\n              <br />\n              <br />\n            </div>\n          )}\n          {\"abstract\" in this.state.dataFromPDF && (\n            <div>\n              <strong>Abstract: </strong>\n              <br />\n              {this.state.dataFromPDF[\"abstract\"]}\n              <br />\n              <br />\n            </div>\n          )}\n          {\"doi\" in this.state.dataFromPDF && (\n            <div>\n              <strong>DOI: </strong>\n              <br />\n              {this.state.dataFromPDF[\"doi\"]}\n              <br />\n              <br />\n            </div>\n          )}\n          {\"url\" in this.state.dataFromPDF && (\n            <div>\n              <strong>Article URL: </strong>\n              <br />\n              {this.state.dataFromPDF[\"url\"]}\n              <br />\n              <br />\n            </div>\n          )}\n        </Paper>\n        <div style={{ paddingRight: \"20px\" }}>\n          <div\n            style={{ flex: 1, flexDirection: \"row-reverse\", float: \"right\" }}\n          >\n            <div style={{ float: \"right\", paddingTop: \"20px\" }}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  backgroundColor: \"#3F51B5\",\n                  color: \"#FFFFFF\",\n                  fontWeight: \"bold\",\n                }}\n                onClick={this.proceed}\n              >\n                Proceed\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  proceed() {\n    this.setState({\n      loadData: true,\n    });\n  }\n\n  skipContinue() {\n    this.setState({\n      loadPDF: false,\n    });\n  }\n\n  handleErrorDialogClose() {\n    this.setState({ showError: false });\n  }\n\n  render() {\n    // console.log(this.state);\n    var errorMessage = \"\";\n    if (this.state.showError) {\n      errorMessage = (\n        <ErrorDialog\n          open={Boolean(this.state.showError)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={\n            \"We were unable to extract info from the specified PDF.\\n\\nPlease report this at:\\nhttps://github.com/appukuttan-shailesh/live-paper-builder/issues\"\n          }\n        />\n      );\n    }\n\n    var fileExplorer = \"\";\n    if (this.state.loadPDF) {\n      fileExplorer = (\n        <input\n          id=\"fileInput\"\n          type=\"file\"\n          ref={this.loadPDFRef}\n          style={{ display: \"none\" }}\n          accept=\".pdf\"\n          onChange={this.onPDFSelect}\n        />\n      );\n    }\n\n    var showSelectedPDF = \"\";\n    if (this.state.selectedPDF) {\n      showSelectedPDF = (\n        <div>\n          <div style={{ paddingLeft: \"20px\", paddingRight: \"20px\" }}>\n            <TextField\n              label=\"Selected PDF\"\n              variant=\"outlined\"\n              fullWidth={true}\n              name=\"pdf_file\"\n              value={this.state.selectedPDF.name}\n              onChange={this.handleFieldChange}\n              InputProps={{\n                readOnly: true,\n                style: {\n                  padding: \"5px 15px\",\n                },\n              }}\n            />\n          </div>\n          <div style={{ paddingRight: \"20px\" }}>\n            <div\n              style={{ flex: 1, flexDirection: \"row-reverse\", float: \"right\" }}\n            >\n              <div style={{ float: \"right\", paddingTop: \"10px\" }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"150px\",\n                    backgroundColor: \"#8BC34A\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    padding: \"10px\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.uploadPDF}\n                >\n                  Upload\n                </Button>\n              </div>\n              <div\n                style={{\n                  float: \"right\",\n                  paddingTop: \"10px\",\n                  paddingRight: \"20px\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{\n                    width: \"150px\",\n                    backgroundColor: \"#FF9800\",\n                    color: \"#000000\",\n                    fontWeight: \"bold\",\n                    padding: \"10px\",\n                    border: \"solid\",\n                    borderColor: \"#000000\",\n                    borderWidth: \"1px\",\n                  }}\n                  onClick={this.cancelSelectPDF}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div>\n            {Object.keys(this.state.dataFromPDF).length > 1\n              ? this.displayDataPDF()\n              : \"\"}\n          </div>\n          <br />\n          <br />\n        </div>\n      );\n    }\n\n    if (!this.state.loadData && this.state.loadPDF) {\n      return (\n        <Dialog\n          fullScreen\n          disableBackdropClick\n          disableEscapeKeyDown\n          onClose={this.handleClose}\n          aria-labelledby=\"simple-dialog-title\"\n          open={this.props.open}\n        >\n          <MyDialogTitle onClose={this.handleClose} />\n          <DialogContent>\n            <LoadingIndicatorModal open={this.state.loading} />\n            <div className=\"container\" style={{ textAlign: \"left\" }}>\n              <div className=\"box rounded centered\">\n                <a\n                  href=\"../../index.html\"\n                  className=\"waves-effect waves-light\"\n                  style={{ textAlign: \"center\", color: \"black\" }}\n                >\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>\n                          <img\n                            className=\"ebrains-icon-small\"\n                            src=\"./imgs/ebrains_logo.png\"\n                            alt=\"EBRAINS logo\"\n                            style={{ width: \"25px\", height: \"25px\" }}\n                          />\n                        </td>\n                        <td>\n                          <span\n                            className=\"title-style subtitle\"\n                            style={{ paddingLeft: \"5px\" }}\n                          >\n                            EBRAINS Live Papers\n                          </span>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </a>\n                <h5 className=\"title-style\">Live Paper Builder</h5>\n              </div>\n              <div\n                style={{\n                  paddingLeft: \"5%\",\n                  paddingRight: \"5%\",\n                  textAlign: \"justify\",\n                }}\n              >\n                <div>\n                  You can start the live paper creation process by uploading the\n                  PDF file of the corresponding paper. We will try to extract\n                  required metadata such as title, author, affiliations,\n                  abstract and DOI from the uploaded file. To do so click on\n                  'Browse' and select the PDF file in the file browser pop-up.\n                  Once selected, click 'Upload' to begin the extraction process.\n                  When complete, the extracted info is displayed on the page for\n                  you to verify. You can then click 'Proceed' (scroll to bottom\n                  of page) to be redirected to the live paper creation page with\n                  the extracted info auto-populated into their respective\n                  fields.\n                  <br />\n                  <br />\n                  Alternatively, you can click on 'Skip' to start the live paper\n                  creation process with a blank slate.\n                </div>\n                <br />\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-around\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{\n                      width: \"40%\",\n                      backgroundColor: \"#009688\",\n                      color: \"#000000\",\n                      fontWeight: \"bold\",\n                      border: \"solid\",\n                      borderColor: \"#000000\",\n                      borderWidth: \"1px\",\n                    }}\n                    onClick={this.browseForPDF}\n                  >\n                    Browse\n                  </Button>\n                  <br />\n                  <br />\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{\n                      width: \"40%\",\n                      backgroundColor: \"#E57373\",\n                      color: \"#000000\",\n                      fontWeight: \"bold\",\n                      border: \"solid\",\n                      borderColor: \"#000000\",\n                      borderWidth: \"1px\",\n                    }}\n                    onClick={this.skipContinue}\n                  >\n                    Skip\n                  </Button>\n                </div>\n                <br />\n                <br />\n                {showSelectedPDF}\n                <div className=\"rainbow-row\">\n                  <div></div>\n                  <div></div>\n                  <div></div>\n                  <div></div>\n                  <div></div>\n                  <div></div>\n                  <div></div>\n                  <div></div>\n                </div>\n                <br />\n                <br />\n              </div>\n              {fileExplorer}\n              {errorMessage}\n            </div>\n          </DialogContent>\n        </Dialog>\n      );\n    } else {\n      return (\n        <CreateLivePaper\n          open={true}\n          onClose={this.props.onClose}\n          data={\n            this.props.loadData\n              ? this.state.data // for loading saved project data (.lpp file)\n              : this.state.loadData\n              ? { ...this.state.data, ...this.state.dataFromPDF } // for loading PDF data\n              : {} // no data to be loaded\n          }\n          loadData={this.state.loadData}\n        />\n      );\n    }\n  }\n}\nexport default withSnackbar(CreateLivePaperLoadPDFData);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport axios from \"axios\";\nimport ContextMain from \"./ContextMain\";\nimport LoadingIndicatorModal from \"./LoadingIndicatorModal\";\nimport ErrorDialog from \"./ErrorDialog\";\nimport MaterialTable, { MTableToolbar } from \"@material-table/core\";\nimport { baseUrl } from \"./globals\";\n\n// define the columns for the material data table\nconst TABLE_COLUMNS = [\n  {\n    title: \"Live Paper Name\",\n    field: \"title\",\n  },\n  {\n    title: \"Collab\",\n    field: \"collab_id\",\n  },\n  {\n    title: \"Modified\",\n    field: \"modified_date\",\n    type: \"date\",\n    defaultSort: \"desc\",\n  },\n];\n\nexport default class LoadKGProjects extends React.Component {\n  signal = axios.CancelToken.source();\n  static contextType = ContextMain;\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      error: null,\n      loading: false,\n      selectedRow: null,\n    };\n\n    // const [authContext,] = this.context.auth;\n\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleSelectProject = this.handleSelectProject.bind(this);\n    this.checkRequirements = this.checkRequirements.bind(this);\n    this.handleErrorDialogClose = this.handleErrorDialogClose.bind(this);\n  }\n\n  handleCancel() {\n    this.props.onClose(false);\n  }\n\n  checkRequirements(data) {\n    let error = null;\n    // a collab must be specified\n    if (!data.collab_id) {\n      error = \"A Collab must be specified!\";\n    }\n\n    if (error) {\n      console.log(error);\n      this.setState({\n        error: error,\n      });\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  handleErrorDialogClose() {\n    this.setState({ error: false });\n  }\n\n  handleSelectProject() {\n    this.setState({ loading: true }, () => {\n      let url =\n        baseUrl +\n        \"/livepapers/\" +\n        this.props.kg_project_list[this.state.selectedRow].id;\n      let config = {\n        cancelToken: this.signal.token,\n        headers: {\n          Authorization: \"Bearer \" + this.context.auth[0].token,\n        },\n      };\n      axios\n        .get(url, config)\n        .then((res) => {\n          console.log(res.data);\n          this.setState({\n            error: null,\n            loading: false,\n          });\n          this.props.onClose(res.data);\n        })\n        .catch((err) => {\n          if (axios.isCancel(err)) {\n            console.log(\"error: \", err.message);\n          } else {\n            // Something went wrong. Save the error in state and re-render.\n            let error_message = \"\";\n            try {\n              error_message = err.response.data.detail;\n            } catch {\n              error_message = err;\n            }\n            this.setState({\n              error: error_message,\n            });\n          }\n          this.setState({\n            loading: false,\n          });\n        });\n    });\n  }\n\n  render() {\n    // console.log(this.state);\n    if (this.state.error) {\n      return (\n        <ErrorDialog\n          open={Boolean(this.state.error)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={this.state.error[0].msg || this.state.error}\n        />\n      );\n    } else {\n      return (\n        <Dialog\n          onClose={this.handleCancel}\n          aria-labelledby=\"simple-dialog-title\"\n          open={this.props.open}\n          fullWidth={true}\n          maxWidth=\"md\"\n        >\n          <DialogTitle style={{ backgroundColor: \"#ffd180\" }}>\n            <span style={{ fontWeight: \"bolder\", fontSize: 18 }}>\n              Load Live Paper Project From EBRAINS Knowledge Graph\n            </span>\n          </DialogTitle>\n          <DialogContent>\n            <LoadingIndicatorModal open={this.state.loading} />\n            <Box my={2}>\n              You have permissions to edit the following Live Paper projects on\n              the Knowledge Graph:\n            </Box>\n            <Box my={2}>\n              <MaterialTable\n                title=\"Live Paper Projects\"\n                data={this.props.kg_project_list}\n                columns={TABLE_COLUMNS}\n                onRowClick={(evt, selectedRow) =>\n                  this.setState({ selectedRow: selectedRow.tableData.id })\n                }\n                options={{\n                  search: true,\n                  paging: false,\n                  filtering: false,\n                  exportButton: false,\n                  maxBodyHeight: \"60vh\",\n                  headerStyle: {\n                    position: \"sticky\",\n                    top: 0,\n                    backgroundColor: \"#FFFFFF\",\n                    fontWeight: \"bolder\",\n                    fontSize: 15,\n                  },\n                  rowStyle: (rowData) => ({\n                    backgroundColor:\n                      this.state.selectedRow === rowData.tableData.id\n                        ? \"#FFD180\"\n                        : \"#EEEEEE\",\n                  }),\n                }}\n                components={{\n                  Toolbar: (props) => (\n                    <div\n                      style={{\n                        backgroundColor: \"#FFD180\",\n                        fontWeight: \"bolder !important\",\n                      }}\n                    >\n                      <MTableToolbar {...props} />\n                    </div>\n                  ),\n                }}\n              />\n            </Box>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItems: \"center\",\n                paddingLeft: \"2.5%\",\n                paddingRight: \"2.5%\",\n                paddingTop: \"20px\",\n                paddingBottom: \"20px\",\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"20%\",\n                  backgroundColor: \"#FF9800\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={this.handleCancel}\n              >\n                Cancel\n              </Button>\n              <br />\n              <br />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{\n                  width: \"20%\",\n                  backgroundColor:\n                    (this.state.selectedRow || this.state.selectedRow === 0) &&\n                    this.state.selectedRow >= 0\n                      ? \"#8BC34A\"\n                      : \"#FFFFFF\",\n                  color: \"#000000\",\n                  fontWeight: \"bold\",\n                  border: \"solid\",\n                  borderColor: \"#000000\",\n                  borderWidth: \"1px\",\n                }}\n                onClick={this.handleSelectProject}\n                disabled={\n                  !(\n                    (this.state.selectedRow || this.state.selectedRow === 0) &&\n                    this.state.selectedRow >= 0\n                  )\n                }\n              >\n                Load Project\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      );\n    }\n  }\n}\n\nLoadKGProjects.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport ContextMain from \"./ContextMain\";\nimport CreateLivePaperLoadPDFData from \"./CreateLivePaperLoadPDFData\";\nimport LoadKGProjects from \"./LoadKGProjects\";\nimport LoadingIndicatorModal from \"./LoadingIndicatorModal\";\nimport ErrorDialog from \"./ErrorDialog\";\nimport { baseUrl, separator } from \"./globals\";\nimport {\n  compareArrayoOfObjectsByOrder,\n  replaceNullWithEmptyStrings,\n} from \"./utils\";\n\nclass App extends React.Component {\n  signal = axios.CancelToken.source();\n  static contextType = ContextMain;\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      createLivePaperOpen: false,\n      projectData: {},\n      loadData: false,\n      kg_project_list: null,\n      loadProjectKGOpen: false,\n      auth: props.auth || null,\n      error: null,\n      loading: false,\n    };\n\n    this.inputFileRef = React.createRef();\n\n    this.handleCreateLivePaperOpen = this.handleCreateLivePaperOpen.bind(this);\n    this.handleCreateLivePaperClose = this.handleCreateLivePaperClose.bind(\n      this\n    );\n    this.handleLoadProjectFile = this.handleLoadProjectFile.bind(this);\n    this.handleLoadProjectKG = this.handleLoadProjectKG.bind(this);\n    this.handleLoadProjectKGClose = this.handleLoadProjectKGClose.bind(this);\n    this.onFileSelect = this.onFileSelect.bind(this);\n    this.handleErrorDialogClose = this.handleErrorDialogClose.bind(this);\n  }\n\n  componentDidMount() {\n    const [, setAuthContext] = this.context.auth;\n    setAuthContext(this.props.auth);\n    // console.log(\"Here: \", this.props.auth.token);\n  }\n\n  handleCreateLivePaperOpen() {\n    this.setState({\n      projectData: {},\n      createLivePaperOpen: true,\n      loadData: false,\n    });\n  }\n\n  handleCreateLivePaperClose() {\n    this.inputFileRef.current.value = \"\";\n    this.setState({\n      createLivePaperOpen: false,\n      projectData: {},\n      loadData: false,\n    });\n  }\n\n  handleLoadProjectFile() {\n    this.inputFileRef.current.click();\n  }\n\n  handleLoadProjectKG() {\n    this.setState({ loading: true }, () => {\n      let url = baseUrl + \"/livepapers/?editable=true\";\n      let config = {\n        cancelToken: this.signal.token,\n        headers: {\n          Authorization: \"Bearer \" + this.context.auth[0].token,\n        },\n      };\n      axios\n        .get(url, config)\n        .then((res) => {\n          //   console.log(res);\n          this.setState({\n            kg_project_list: res.data,\n            error: null,\n            loading: false,\n            loadProjectKGOpen: true,\n          });\n        })\n        .catch((err) => {\n          if (axios.isCancel(err)) {\n            console.log(\"error: \", err.message);\n          } else {\n            // Something went wrong. Save the error in state and re-render.\n            let error_message = \"\";\n            try {\n              error_message = err.response.data.detail;\n            } catch {\n              error_message = err;\n            }\n            this.setState({\n              error: error_message,\n            });\n          }\n          this.setState({\n            loading: false,\n          });\n        });\n    });\n  }\n\n  handleLoadProjectKGClose(data) {\n    // console.log(data);\n    if (data) {\n      // replace null values with empty strings\n      // avoids errors, e.g. `value` prop on `textarea` should not be null\n      data = replaceNullWithEmptyStrings(data);\n\n      // sort resource sections by order #\n      data.resources.sort(compareArrayoOfObjectsByOrder);\n\n      // KG requires 'dataFormatted' value for SectionCustom in 'description' field\n      // doing reverse mapping here\n      data.resources.forEach(function (res, index) {\n        // creating extra copy here to handle problem with shallow copy of nested object\n        let temp_res = JSON.parse(JSON.stringify(res));\n        if (res.type === \"section_custom\") {\n          res.dataFormatted = temp_res.description;\n          delete res.description;\n        }\n      });\n\n      // handle useTabs for resources\n      // KG doesn't have a separate field for saving tabs_name;\n      // this is handled by appending it to the label with a separator (#-#)\n      // we do the reverse when loading LP project from KG\n      data.resources.forEach(function (res, index) {\n        if (res.type !== \"section_custom\") {\n          let tabs = [];\n          res.dataFormatted.forEach(function (res_item, index) {\n            let parts = res_item.label.split(separator);\n            if (parts.length > 1) {\n              tabs.push(parts[1] || \"\");\n              res_item.label = parts[0];\n              res_item.tab_name = parts[1];\n            }\n          });\n          // get only unique elements\n          tabs = tabs.filter((x, i, a) => a.indexOf(x) === i);\n          // add tab names to resource data\n          res[\"useTabs\"] = tabs.length > 1 || tabs[0] !== \"\" ? true : false;\n        }\n      });\n\n      this.setState({\n        loadProjectKGOpen: false,\n        projectData: data,\n        loadData: true,\n        createLivePaperOpen: true,\n      });\n    } else {\n      this.setState({\n        loadProjectKGOpen: false,\n      });\n    }\n  }\n\n  onFileSelect(event) {\n    if (event.target.files.length === 1) {\n      var data = \"\";\n      const scope = this;\n      const reader = new FileReader();\n      reader.onload = function (that) {\n        data = JSON.parse(reader.result);\n        // let remove_keys = [\"lp_tool_version\", \"modified_date\"];\n        // remove_keys.forEach((k) => delete data[k]);\n\n        // sort resource sections by order #\n        data.resources.sort(compareArrayoOfObjectsByOrder);\n\n        // handle useTabs for resources\n        data.resources.forEach(function (res, index) {\n          if (res.type !== \"section_custom\") {\n            let tabs = [];\n            res.dataFormatted.forEach(function (res_item, index) {\n              tabs.push(res_item.tab_name || \"\");\n            });\n            // get only unique elements\n            tabs = tabs.filter((x, i, a) => a.indexOf(x) === i);\n            // add tab names to resource data\n            res[\"useTabs\"] = tabs.length > 1 || tabs[0] !== \"\" ? true : false;\n          }\n        });\n\n        // console.log(data);\n        scope.setState({\n          projectData: data,\n          loadData: true,\n          createLivePaperOpen: true,\n        });\n      };\n      reader.readAsText(event.target.files[0]);\n    } else {\n      this.setState({ projectData: {}, loadData: false });\n    }\n  }\n\n  handleErrorDialogClose() {\n    this.setState({ error: false });\n  }\n\n  render() {\n    // console.log(this.props);\n    var createLivePaperContent = \"\";\n    if (this.state.createLivePaperOpen) {\n      createLivePaperContent = (\n        <CreateLivePaperLoadPDFData\n          open={this.state.createLivePaperOpen}\n          onClose={this.handleCreateLivePaperClose}\n          data={this.state.projectData}\n          loadData={this.state.loadData}\n        />\n      );\n    }\n\n    let errorModal = \"\";\n    if (this.state.error) {\n      errorModal = (\n        <ErrorDialog\n          open={Boolean(this.state.error)}\n          handleErrorDialogClose={this.handleErrorDialogClose}\n          error={this.state.error}\n        />\n      );\n    }\n\n    let loadProjectListModal = \"\";\n    if (this.state.loadProjectKGOpen) {\n      loadProjectListModal = (\n        <LoadKGProjects\n          kg_project_list={this.state.kg_project_list}\n          open={this.state.loadProjectKGOpen}\n          onClose={this.handleLoadProjectKGClose}\n        />\n      );\n    }\n\n    return (\n      <div className=\"container\" style={{ textAlign: \"left\" }}>\n        <LoadingIndicatorModal open={this.state.loading} />\n        <br />\n        <div className=\"box rounded centered\">\n          <a\n            href=\"../../index.html\"\n            className=\"waves-effect waves-light\"\n            style={{ textAlign: \"center\", color: \"black\" }}\n          >\n            <table>\n              <tbody>\n                <tr>\n                  <td>\n                    <img\n                      className=\"ebrains-icon-small\"\n                      src=\"./imgs/ebrains_logo.png\"\n                      alt=\"EBRAINS logo\"\n                      style={{ width: \"25px\", height: \"25px\" }}\n                    />\n                  </td>\n                  <td>\n                    <span\n                      className=\"title-style subtitle\"\n                      style={{ paddingLeft: \"5px\" }}\n                    >\n                      EBRAINS Live Papers\n                    </span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </a>\n          <h5 className=\"title-style\">Live Paper Builder</h5>\n        </div>\n        <div\n          style={{\n            paddingLeft: \"5%\",\n            paddingRight: \"5%\",\n            textAlign: \"justify\",\n          }}\n        >\n          <strong>Welcome to the EBRAINS live paper builder!</strong>\n          <br />\n          <br />\n          Here you can start building a new live paper linked to your manuscript\n          or published article. The live paper builder allows you to build the\n          live paper without any web development skills. Various functionalities\n          for building a simple to moderately complex live paper is made\n          available via this tool. For more advanced features and\n          customizations, the users can edit the live Papers generated by this\n          tool.\n          <br />\n          <br />\n          Live papers are often not produced in one go, and might require\n          revisions over time. Keeping this in mind, we allow users to download\n          \"live paper projects\" at any point of development. These project files\n          can be loaded later, to continue from where you had left off. Please\n          note, that these project files should not be manually edited as it\n          could render them unreadable by the tool. Alternatively, users also\n          have the option of loading an existing project that was previously\n          saved on the EBRAINS Knowledge Graph.\n        </div>\n        <br />\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            style={{\n              width: \"27.5%\",\n              backgroundColor: \"#FF9800\",\n              color: \"#000000\",\n              fontWeight: \"bold\",\n              border: \"solid\",\n              borderColor: \"#000000\",\n              borderWidth: \"1px\",\n            }}\n            onClick={this.handleCreateLivePaperOpen}\n          >\n            Create New\n          </Button>\n          <br />\n          <br />\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            style={{\n              width: \"27.5%\",\n              backgroundColor: \"#01579b\",\n              fontWeight: \"bold\",\n              border: \"solid\",\n              borderColor: \"#000000\",\n              borderWidth: \"1px\",\n            }}\n            onClick={this.handleLoadProjectFile}\n          >\n            Load From File\n          </Button>\n          <br />\n          <br />\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            style={{\n              width: \"27.5%\",\n              backgroundColor: \"#1D7021\",\n              fontWeight: \"bold\",\n              border: \"solid\",\n              borderColor: \"#000000\",\n              borderWidth: \"1px\",\n            }}\n            onClick={this.handleLoadProjectKG}\n          >\n            Load From KG\n          </Button>\n        </div>\n        <br />\n        <br />\n        <div className=\"rainbow-row\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n        <br />\n        <br />\n        <div>{createLivePaperContent}</div>\n        <div>\n          <input\n            id=\"fileInput\"\n            type=\"file\"\n            ref={this.inputFileRef}\n            style={{ display: \"none\" }}\n            accept=\".lpp\"\n            onChange={this.onFileSelect}\n          />\n        </div>\n        {loadProjectListModal}\n        {errorModal}\n      </div>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport initAuth from \"./auth\";\nimport { ContextMainProvider } from \"./ContextMain\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { SnackbarProvider } from \"notistack\";\n\nfunction renderApp(auth) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <SnackbarProvider maxSnack={3}>\n        <ContextMainProvider>\n          <App auth={auth} />\n        </ContextMainProvider>\n      </SnackbarProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", () => initAuth(renderApp));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}